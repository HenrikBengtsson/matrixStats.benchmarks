<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>count() benchmarks on subsetted computation</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>

<meta name="author" content="Dongcan Jiang">

</head>

<body>
<p><a href="https://cran.r-project.org/package=matrixStats">matrixStats</a>: Benchmark report</p>

<hr/>

<h1>count() benchmarks on subsetted computation</h1>

<p>This report benchmark the performance of count() on subsetted computation.</p>

<h2>Data type &ldquo;integer&rdquo;</h2>

<h3>Data</h3>

<pre><code class="r">&gt; rvector &lt;- function(n, mode = c(&quot;logical&quot;, &quot;double&quot;, &quot;integer&quot;), range = c(-100, +100), na_prob = 0) {
+     mode &lt;- match.arg(mode)
+     if (mode == &quot;logical&quot;) {
+         x &lt;- sample(c(FALSE, TRUE), size = n, replace = TRUE)
+     }     else {
+         x &lt;- runif(n, min = range[1], max = range[2])
+     }
+     storage.mode(x) &lt;- mode
+     if (na_prob &gt; 0) 
+         x[sample(n, size = na_prob * n)] &lt;- NA
+     x
+ }
&gt; rvectors &lt;- function(scale = 10, seed = 1, ...) {
+     set.seed(seed)
+     data &lt;- list()
+     data[[1]] &lt;- rvector(n = scale * 100, ...)
+     data[[2]] &lt;- rvector(n = scale * 1000, ...)
+     data[[3]] &lt;- rvector(n = scale * 10000, ...)
+     data[[4]] &lt;- rvector(n = scale * 1e+05, ...)
+     data[[5]] &lt;- rvector(n = scale * 1e+06, ...)
+     names(data) &lt;- sprintf(&quot;n = %d&quot;, sapply(data, FUN = length))
+     data
+ }
&gt; data &lt;- rvectors(mode = mode)
</code></pre>

<h3>Results</h3>

<h3>n = 1000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5273101 281.7   10014072 534.9 10014072 534.9
Vcells 15733326 120.1   26979768 205.9 25786192 196.8
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 1000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.003073</td>
<td align="right">0.0031665</td>
<td align="right">0.0033816</td>
<td align="right">0.003283</td>
<td align="right">0.0034190</td>
<td align="right">0.010195</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">0.005970</td>
<td align="right">0.0062125</td>
<td align="right">0.0082785</td>
<td align="right">0.006300</td>
<td align="right">0.0064750</td>
<td align="right">0.197032</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">0.008648</td>
<td align="right">0.0089840</td>
<td align="right">0.0091411</td>
<td align="right">0.009089</td>
<td align="right">0.0092265</td>
<td align="right">0.012081</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">1.942727</td>
<td align="right">1.961945</td>
<td align="right">2.448141</td>
<td align="right">1.918977</td>
<td align="right">1.893829</td>
<td align="right">19.326336</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">2.814188</td>
<td align="right">2.837202</td>
<td align="right">2.703225</td>
<td align="right">2.768504</td>
<td align="right">2.698596</td>
<td align="right">1.184993</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 1000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271301 281.6   10014072 534.9 10014072 534.9
Vcells 15404220 117.6   26979768 205.9 25786192 196.8
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 10000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.003061</td>
<td align="right">0.003453</td>
<td align="right">0.0042640</td>
<td align="right">0.0037465</td>
<td align="right">0.0041615</td>
<td align="right">0.017686</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">0.023290</td>
<td align="right">0.025833</td>
<td align="right">0.0273470</td>
<td align="right">0.0266000</td>
<td align="right">0.0272135</td>
<td align="right">0.072844</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">0.050966</td>
<td align="right">0.054956</td>
<td align="right">0.0570703</td>
<td align="right">0.0569305</td>
<td align="right">0.0576480</td>
<td align="right">0.094084</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.00000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">7.608625</td>
<td align="right">7.481321</td>
<td align="right">6.413496</td>
<td align="right">7.09996</td>
<td align="right">6.539349</td>
<td align="right">4.118738</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">16.650114</td>
<td align="right">15.915436</td>
<td align="right">13.384277</td>
<td align="right">15.19565</td>
<td align="right">13.852697</td>
<td align="right">5.319688</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 10000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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wAOpqamvvvqqUqmMi4tbunQpyfEsE65everoW1dXl5zP7ZYtWx5++GGySJLnuXzO6vPPP7969Wpyx83xZMr/ug0K5ChJCIL0WOTyy4MgCAIoSQiCyAqUJARBZARKEoIgMgIlCUEQGYGSFJS888476enpJpPppptukrC5fUNih7Z3CCIdOa7eRtwyceLEzMxMt906Ozubmpp69erlox0E6TYwSgpKvvrqqxUrVixatKimpmbx4sUAsGXLFoPBkJqaunbtWgA4depUdnZ2Wlrajh07bDbbkiVLbrjhhptvvnnZsmU2m82+IbEDAGvXriXrj9etW0c2nzNnTl5e3vTp07Ozs6nX10YQlwQ2EQEijZMnTz700EMNDQ2pqak2m62kpGTkyJEmk+nnn3+eMGHC7t27T548GR0d/d1339lstv/85z/3339/e3t7e3t7SkrKhQsX7BsSO0eOHMnMzGxpaWlpacnIyPjoo49OnjwZHh5+7do1m802efLk4uLiwB4v0nPAgVsoUFpa2tjYmJ2dDQB1dXXl5eUDBgzIysoiuTKGDh3697///ZNPPjl79uxPP/3kXOCotLQ0JydHq9UCwJw5c0pLSx988ME77rgjNjYWAAwGA/WaSAjiCpSkUECr1S5YsGDlypUA0NnZabPZysrKyCPBAHD69Oknnnhi7ty5DzzwwGeffea8uc1msyfcUCgUnZ2dACAyA4Ug/gPnkoIbjuMA4L777tu7d29zc3NHR8e4ceMOHjzo2OfTTz8lSWN79+79zTffkMqaZEPC73//+927d1ut1tbW1t27d5PsdAgSEFCSgpiYmJiYmJjHHnssPT09JycnPT09OTl5xIgRM2bMcOz2yCOPVFRU3HbbbU899dTixYvXrl1r35B0ePDBB0eNGpWWlpaWljZ+/PiJEyc6bs4wDN2qswgiAmYCQBBERmCUhCCIjEBJQhBERqAkIQgiI1CSEASREShJCILICJQkBEFkBEoSgiAy4v8DZLGkvWbqVuYAAAAASUVORK5CYII=" alt=""/></p>

<h3>n = 100000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271373 281.6   10014072 534.9 10014072 534.9
Vcells 15467780 118.1   26979768 205.9 25786192 196.8
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 100000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.001966</td>
<td align="right">0.002613</td>
<td align="right">0.0034692</td>
<td align="right">0.0030805</td>
<td align="right">0.0035280</td>
<td align="right">0.026484</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">0.193053</td>
<td align="right">0.224128</td>
<td align="right">0.2431235</td>
<td align="right">0.2361090</td>
<td align="right">0.2655925</td>
<td align="right">0.345922</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">0.431152</td>
<td align="right">0.475062</td>
<td align="right">0.5127143</td>
<td align="right">0.4933780</td>
<td align="right">0.5405675</td>
<td align="right">0.638740</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">98.19583</td>
<td align="right">85.77421</td>
<td align="right">70.08116</td>
<td align="right">76.64632</td>
<td align="right">75.28132</td>
<td align="right">13.06155</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">219.30417</td>
<td align="right">181.80712</td>
<td align="right">147.79163</td>
<td align="right">160.16166</td>
<td align="right">153.22208</td>
<td align="right">24.11796</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 100000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAAEECAIAAACjmgRhAAAgAElEQVR4nO3de3wTVRo38GeSSZs0LaUUCnYpupUCKlphSSm4fkRE5SItUKHVl7WAchEWtixQWRG5qLDat+xS676AC8huuSkqiIirgiwXuRSssH5UqEqtrVhoKUjbNG0u7x+jcZgkk2QySSbJ7/vpH81k5uTpSfL0nDNnzjA2m40AAJRBFewAAAB+hZQEAAqClAQACoKUBAAKwgbyxYxGo9VqdRkKy9psNovFIu+LqlQqm80m+yi+RqOxWCwif440arVa9hogIo1GYzabZa8EP0UbFRXV1tYme7H+iJZhGJZl29vbRfZRqVQ6nU7e1w1jAU1Jra2tIp+J2NhYi8ViNBrlfVGdTmcymWTPHVFRUe3t7bJ/c/R6vew1QEQxMTHNzc2yfyH9ES3DMHq9/urVq/IWS/6JlmXZ6Ojon376SWQftVqNlOQ5dNwAQEGQkgBAQZCSAEBBkJIAQEGQkgBAQZCSAEBBkJIAQEECOi8JHHWpGM39cqnf7uBGAqAEaCUFVJeK0fYcRLx8BAAcpKTAsScgtIwAXEHHLciQlQD40EoKHGQfALfQSgooZCUAcUhJwYRBJQABdNyCBqfeABwhJQGAgiAlBYjbdpBgypLTLQBhT/pYktlsLikpaWpq6tGjx6RJk7iNNpvt1VdfvXjxYocOHWbPns0wjDxhhjL+dCT+mJH9d8e8I+jTYaQJIof0VtKxY8eSk5OfffbZCxcu1NTUcBtPnjyp1+ufeeaZfv361dXVyRRkpENbCSKH9JRUWVmZmppKRKmpqZWVldzGL774wmKxlJSUGI3Gbt26yRNjiHPbxrnUbzf3Q0Qxh4c6JiC0kiBySO+4tbS0dO7cmYgSExObmpq4jU1NTc3NzZMmTVq7dm2XLl369etHRGvWrNm7dy8RlZSUdO/e3VWB3K1EtFqt5JBcFavT6WS/OYdKpYqNjfWwWPPQw273Yff/XtqBnmAYpkOHDrIUxadSqaKiomQvlogSEhJkL9Mf0TIMo1KpxKOV/VYU4U16SoqJiWloaEhNTW1oaEhKSuI26vX6QYMGJSUl3X333d988w2XksaMGXPPPfdwz167dk2kQIvFYjKZJIfkVHR0dHt7u+wfi9jYWJPJJH63HN+JVJdX4uPjm5ubZa8EnU7njzuUxMfHy/WH8/kjWpZlY2JixKNVqVQajUbe1w1j0lNSWlpaVVWVwWCorq4ePHgwt7Fnz55ff/11//79z58/37NnT25jt27duE5cY2Oj2Wx2VaDVarVarSI7SMPdwkz2byN3yzkZo73Ub7egy3ap324Zy7dYLLLfNMkf7xd3SkT2Ysk/0RKRzWYTL1atVsv+omFMekrKzMwsLS0tKipKSkpKSUk5d+7cBx98MGPGjOLi4qeffjohIeGxxx6TMdDQ5fkU7Uv9duv1+ubmZgmFe1I+gPJJT0ksyxYUFNgf9urVq1evXkT01FNPyRAXOOCyDz/v4EwchB9MlQwN/MlNyEQQxpCSAsTfvSr02iA8YCUAvwt6suBaVZcHvBfcMAA8gZQUGpzmNU+Snb2X1+nkyKAnRwC30HGLIBiEAuVDKylsSb4wxfHUHkDAoJUUJrgzcSLtIA/HkhxvowIQSEhJ4QDpA8IGUlI4cDv4bR32ibdFoeMGQYGxpDDBXSInyCOeDx45XVsOIPDQSgofElKJffgJXT9QCKSkyOW41HewIgGwQ0qCn6G/BkqAlBS5MH4ECoTh7YjmKhPxZ0viFikQSKGUknC76sBwnC2JrAQBg44beASD3xAYIdBKwpdBCRyXBieilt/vD0owEMaUnpIEa0s77UGgQycvx9vwomIhYJSekgT/nEXyEcgOmQgCLwTGkrgvBr4ewYXUD4Gh9FYSRyQfIVUFgCf5CL08kEUItJJAmZB6wB9Co5XkCP+TA8k+oieo7ZjDQ+3TKe0bsSgl+CLEUhJGNIJFkGIwixL8JMRSkiNBksLXQyFE2kpoRoGIgKYklmVVKpejV9xTGo3Gl5dwPFylUmk0GqvV6kuxjlQqlVqt9jFap8XKXiZHvPK9dSXj/Y4nhnO/azQa/kO+LhWjr2S8z99i383xKQ7DMOTzx8Apf9StWq1mGEa8WBmrPRKEWCvJ8UPs9JsAAXAl432tVtva2mp/SEQdTwx3TE94j8BzAU1JZrPZYrG4ejY6OtpisbS3t3tVJn8u5aV+ux0PZ1m2vb1d9laS1WqVEK1bUVFRspfJEa98aRyj5d4C/psiko/4x9p7c1wrSUIluO0P+qNubTabzWYTL1atVsv7ouEtxFpJTrkasOC2x34yTHxP8AfHM3Ei+Lt1/vQh8v6dwnB72AjPXi7Wk1YIkdsTiIx8kwLeO7f3xQM/CYdWkgA+RoriNCvxv+1uGzWenKFzNXNKGqcfIZwoDAzGZrMF7MUaGxtFhjNiY2MtFovRaPT9hQQfqYbf7ZF9LCk+Pt5oNLa1tclbrF6vb25ulrdMIkpMTLxy5YrsY0nSovXwf4Zj10/aLVjsx3oYrasblzvNoSzLxsXFNTY2ihSoVqsTEhK8CjuShWEriRw+Q4mnRnn+aRZ88vC/UWlcNa/42x3TileJRvxY/sNGw17PIwdPhOdYkkDD7/ZIO1A5QxvhxKuLqAV333XMDo6DPhLG1On6viQEUXi2kjjch1in05lMpmDHAtfhpx5BO7S+/7uJiYn19fVOd+bzPYN4VYJX5xBBsohoJUkm+BdN+ET6waV+uyX0i2XpSrsdMhdptckVAwiE5/A2H9dKslqtTscavPpU8Y/C8Db5J1qGYQStJAH+zCO3I338HfwRLYa3ZRfOHTc+V2MN0kavu1SMbhtyUK7YwCtetVPQkAk56LhJgQ86gJ9ESkpynLAn7ZIFaQMfAOChSOm4kYsTzB5eEoVLqAACI1JaSa4gvwAoSqSnJA85zgYAAH+IoI6bj7xasxV3KwCQBq0k6eKPP8j9gvmTAHJBSgIABUHHzTv2BlHbkINXB/6HayihdwYgF6Qkn7hKRkhSANKg4wYACoKU5B2u+YNGEICfICV5DfkIwH+QkgDCisViuXz5crCjkA4pCUCJiouLU1NT+/Tps3TpUiLauHHjxIkTiej48eOZmZkWi2Xt2rVz5swZP3780KFDp0+f3tbWduTIkdzc3PT09HXr1gU5eh/gjBuA4uzfv3/btm0nT57UaDS5ubmbN2+ePHnytm3bdu/evXz58tdee427g+577713+vRpvV4/ZcqU9evX33HHHf/5z38+/fTT1NTUYP8F0klvJZnN5lWrVnEVJHjq9OnTf/vb33yKCyCCHThwoLGxMTc3d9y4cVVVVeXl5US0bt26/Pz8sWPH3nbbbdxuI0eO1Ov1RJSbm/vxxx8T0eDBg0M6H5EvraRjx44lJyfn5eWtXLmypqame/fu3PaWlpatW7cmJSXJFCFAxImJiZk+ffqCBQuIyGKxcKtRX7t2Ta1W19bW2nez353QbDZzv3MZKqRJT0mVlZVctk5NTa2srLSnpE2bNj388MMHD/66DuyVK1e4NY+1Wi3X4HRKpVLZbDaRHaRhGEalUjEM449i/RGt7GVyVCr5xw39ES33TvmjEvwRLVegeLESav6+++6bNm3ajBkztFrt8OHDZ86cmZ2d/fjjj+/du/fJJ588dOjQ3XffTUQ7d+5csmRJQkLCmjVrhg8fLvmvUBTpKamlpaVz585ElJiY2NTUxG0sLy/v2rVrjx49+Hu+9tpr77zzDhFt2LDhxhtvdFUgwzA2m02r1UoOyRWdTid7mQzD+Ok/UnR0tOxlMgzToUMH2Ysl/0RLRB07dvRHsX6qW/FoJdyFwWAw5OfnGwwGo9E4YcKEnJyc5cuXDxkyZMCAAWvWrHnsscdOnTpFRAMGDMjKyvrxxx+HDRs2depUrn8X6qTfoWTjxo19+/Y1GAzbt29PSkq69957iWjRokVardZsNn///fe5ubkPPvgg/5Dg3qFE3mJxhxIK0h1KJAuzO5SsXbu2pqbmueeek73k4JLeSkpLS6uqqjIYDNXV1YMHD+Y2vvDCC0R08eLFsrIyQT4CAHBL+vhCZmZmbW1tUVFRUlJSSkrKuXPnSktLZYwMAERMnz49/JpI5LTjZrVad+/effz48c8++8xqtfbr1y8jIyM7O9v38VF03NxCxw0dtwgnzDJ79+7Nyso6ffr0wIEDV61atXr16kGDBn3++edZWVl79+4NSogAEDmEY0n19fVvv/22RqOxb+ndu3dWVpbZbN66dWtgYwOAiCNMSX/4wx8EW2w2G8MwLMs6PgUAIC/nw0P79u0rKCggorFjx3bo0MHxkhEA8J9rkgQ7ank4T0nTp09/6KGHjh492traevbsWe7UPgCAvzlPSSaTadiwYXv27BkzZkxycnJ7e3uAwwKAyOR8qmR6enp+fv7BgwcrKiqWLFlyww03BDgsAIhMzltJmzdvzszM3LlzZ8eOHdVqNc61AUBgOG8labXaG2+88fPPP//8889vvvnm48eP33TTTYENDABCg9VqnTVr1tmzZ1taWrKzs//yl7/4UprzlDR27NiYmJiUlBTuoUqlys3N9eVlAMBHqgu1qlPHbazGmvl7W0c/Tgfft2/fyZMnn3rqKQ/3f++994ho//79RDR06NDc3FxflpFznpKioqJ27NghuVBfFO7qTEQvZct/PQFACPvpKrv+H9yv6pPH2hYuI9bNNfN1dXXTpk0jov79+8+cOXPKlCkMwyQkJGzYsKG0tLRnz56jRo1atmzZsGHDvvrqq4qKiujo6Kqqqi1btmzYsKGysjInJ6dnz5720oqKim644YYHHnggPz9/z549/MvLunbtevLkySNHjgwaNIhLTL5wPpaUlpa2d+/etrY2yy98fBkPzd728wpEXGICAI6qppr/kLns/n92UVHR1KlTd+3a1dTU9Ne//vWRRx555513EhIS9uzZ47hzTExMcXHx7bfffujQoSlTpgjyERHNnTv3X//6V0FBQVFRkeByV4PBsHr16k2bNt15552FhYUmk0nSn/gzl1fSjhs37uabb77pF768BgD4yJbY5brH8e47bmfPnh0wYAARFRUV/fDDDxkZGUQ0cODAr7/+2r6P2WzmfunXrx8RxcXFuWp/sCw7YcKEy5cv9+3bV/DU+fPn77jjjnXr1h09erSiooJbr1Ey5ynp6NGjDQ0N3/P48hqeezlP/ovgAcKArWs388hsIrKmppnz8m0eLI/529/+tqKigoieeuqp+Pj4kydPElF5eXlqairLstzqBceOHeN2FjR8HBcIMRqNr7/+erdu3Y4cOSJ4avfu3Rs3biQivV7fv39/H1tJzrujvXr18tMK0G5hFAnAKWv/jLb+GZ7vX1hYOGPGjJdffvnWW29dtmzZ448//vrrr8fFxY0ePfqHH3547LHH3nzzzZSUFP7iv1qttkOHDp06dXr66adzcnLS0tLsTy1durSgoGDgwIE5OTkfffQRyxvJmjZt2tSpU++//36j0di7d28fT4U5X+h2zJgx3GCVPTG9/fbbvrwMB+sluYX1krBeEhFJu2AtLi5OwlFK47yVtGDBAu6GLQAQgerq6srKyvhbZs6cyd1WQ+QpWQhbSUaj0VXpIk95CK0kt9BKQiuJ0EriKygoSE5OnjFjRteuXe0b6+rq1qxZU1tbG9L3GgcA5ROmpLVr1x45cmTy5MlVVVXcbdrq6+tvuummRYsW3XXXXcGIEAAiiJOxpLvuuoubIV5TU0NE9tvYAgD4m9icdCQjAAgw6beWBGns18pgBhaAI19vzQZewbV7AOJcpqTNmzcXFBSYzea33norkAEBQCRznpKWLFmyefPmDz74gGGYV155xfOVU0Acv7NWuKsz9yN+iCf7APjDmTNnXn/9dVfPrlq1au3atfaHmzZt2r59u6udV69effHiRU9e1PkFJb179z516tTYsWM//PDD9vb2tLS0qqoqT4oTJz4NMioqymq12i9NlgvLshaLxemf6Yvo6Giz2Sxh8uGsLcLppq88+mu1aDQa/s0X+Dvzd/OWVqs1mUyyV4IgWlkwDKPVamWfMUv+iValUkVFRbW2torv5u0cY6dTJVusre83Ho9Rae/vaFAzThoTck2VtC/h9qc//amoqCgqKsqTozZt2qTVal1d4FZXV1daWvrcc8+5Lcf58HZbW5v9zWttbZVrtnhra6vId5hhmBCavc2ybGtrq1ezt101drgpxbxnWfq1PaUT7CYN9yUPldnbWq3WH1PY/TR7m2VZ8WLVarXv36Bma+sjZ5ccuFpBRFmdfv/vXosZYsQP8XEJtxEjRrS0tERFRblavG39+vWxsbEGg+Hxxx/nLmaYMmUKf+clS5a89NJLZrN55MiRM2bMqKys9OQvdd5xmzVr1gMPPHD+/PmioqK77777ySef9KLywGMvZde7Ou/mqr/mYXcPwsx/r1Zw+YiI3rl8+JvWWreH+LiEm9ls5tarFVm8jYheeOGFhQsXcrcOEez87rvvPvroo2+99RbXfIuLi/PkOiHnKWn+/Pkvvvjio48+arFY/vnPf86ZM8dtQeA5LhN5PgnAq50hLOlU1y2QFKPSuj3ExyXcvvvuO+5uaSKLtxHRt99+O3jwYCLKzMwU7Dxt2rRdu3YNHz6c6/olJyefP3/ebdguby3Z2trau3fvlJSUs2fPioxagee4tOIqubhNOoLGERpKEeWeDneOT7yX+33+bx5JjnL/7vu4hNuNN9544cIFEl28jYhuvvlmrpDy8nLBzv/9739Xrly5e/fuFStWENGFCxc8WZ8WdygJKPG881J2vV6vtw9p23d2mn3Ei8KEzDCjYlTr0/7yTI9J0YzGk3xEPi/hNmLEiG+//ZauX7xtxYoVr776KreGJOfpp5+eOnXqunXrYmNj9Xo9f+d58+bNmjVLr9dnZWUR0dWrV7t06eIYp4DLJdx27tzpyZ/tFSxO4pbjEKxjPvIky/CPeim7HouTEBYn8d7s2bNXrVql0WjsW8xm82uvvfbEE094W9TFixdLSkqef/55t3sq6w4l4Ja3/TuR3WSKCMLWE088IVhOtqWlJS8vT0JR27Ztmz17tid7urzGbdy4cdziJJyA3RHAqUi+udtL2fWe//muTtKtn2Jz3C2SaxU8kZ6enp6ezt/SoUMHaUV5forMeUri7lASExMj7eXlZf+aFe7qHJnfH7n+aqc5iL9RZAd5IwFwRXF3KAG52JtXnHlv/Tyc4aolxf9dcCxAwDhPSZcvX+7evbvsdyiRBl8PzwlaMbyHiU53dlWx4tvRVgL/CY07lOA74CdOsxK/E+eUeA8a8w/AF8KUZDAYduzY8fe//12wHQtvh7ricT/PwBDkGq+GzwH8TZiS5s+f36lTp4KCgqBEAwHgmHokJ6NZW3REOuQykJEwJXGztLds2fLKK6/YN06aNClgrSRX/QV87gNM0HpyPO+GM6HgD8KUdMsttxBRdXX1/v37uS1ms5m7xje48LkPPE8GjPgPxS/iQ/cQPCFMSYcPHyaimTNn/uMf/7BvVEJKknAVhT/DiTj8RpPI+TjxfOTVIeDI2M6wKtKoZV6Kz5UzZ8589dVXEyZMsG9ZvXr1O++8c/vtt99yyy3Tp0/nNoov3rZo0aIPPvhg4sSJjzzySFJSktsXFaakxMREIgripf9uT/dAsNhzhyfTMlydd+PnIP4kcsc9lUMJ7Tsb0Zufag99rSGi7HTT0N4yX1zJZ19Vcv369UVFRYJnCwsLH3zwQc9Le+GFF06cOJGXl/fyyy97sqok7lACUnBLOHFr7/JTleOenv93cdzTvl6dPXn5/r/K20L4Q2aOz/75zQB1IL65pObyERHtOh19rdXNkpJEVFdXl52dnZ2dvWzZskuXLo0ePTorKys/P99isaxevZpbyG3ZsmVHjhxZv379H//4x3nz5uXk5JhMpg0bNrz55ptnzpyxrypZVlZ28eLFESNGcJevr1+/fvv27d9+++299947ZsyYLVu2EBF/t2PHjo0bNy4rK2vNmjVcMF27dvVpVUml4f9fdfzh7ya+oAfIzj5+5HbdFU9KK9zVecHOxCnrnSQO8dTgIUEhPn5IuMOnvhaI6xxa2hiRh075e1VJz9eT5Pi0qmTQ2ddd9CXLICsFkaumE/+h41vsIZGWjreNMrdNMMebyogH4CdpSb+uxnHrDeakOPeL7fh7VUnP15Pk+LSqZHhQ7NhEhBDkGtmX6+U3eQT9O5GQ3Bbl9ChBYpIcs2Q6jW3FmKbx/Vv/T0br5MFGxn0jye+rSnq+niTHp1UllcnpyLfIRmlw2i4o7EPmRWMaFuxMdPqUU94miNA9f6KPsv2+pxc3ffLHqpKjR4+27+z5epIcn1aV9BP/rSopkpK8XVXSw5QUsFUlZREeq0p6fjme0zdOEC3/TJ+HZ/2cHvLqJEvkrCq5evXqPn36eHXGjYjuv//+zZs3e7iqZCi1kiSb/3Yn7heRD5/9RC8WHlAskTspSJjfJOhUSjuEZVkimROBcnCrSvLnJRFRcXHxrbfeal+Y360lS5ZcvXrV81Ulw6SVRK6nt+h0utnb9E4PEck+bj+j/FaSjPNW0ErC2tukmFZSUITP8La0czeuSGgooW0F4LuI6Lj937GXnfbdxHk41oBMBCAj6SnJbDaXlJQ0NTX16NFj0qRJ3MaWlpaVK1eazWa9Xl9YWMiflRBcglEA+9CDJylGPOlg7AlkFx5dMGmkp6Rjx44lJyfn5eWtXLmypqame/fuRPTxxx/feeedOTk5W7duPXjw4LBhw+QLVU4i/TvHFCPYwvtdw99H3ggBIpP0lFRZWXnbbbcRUWpqamVlJZeS0tLSuAt3Y2Nj7ecOP/vsM26Cw1133aXXOx9pJiK1Ws0wjFbr/mbnXmFZloi8GsUvyW2asz3W/tAeUklu05ztLicNl+Q2+RDmz1iWlb0GONHR0bLfX9Mf0TIMQ7w6l5E/ovXkQ8t4Mq8RfiE9JbW0tHA3ektMTGxq+vnb2KtXLyIqLy//5JNPFi9ezG2sqqo6ceIEEQ0cOJA/x0FApVL5483jPjTenlj8fxNNvEeaXx66DJ6I+FmMK+HJsmjBPtcX64RKpRKpIl+wLCv72VV/RMt9BvxRCf6IlvvQ+ukti0zSJwFs3Lixb9++BoNh+/btSUlJ9957L7f9jTfeqKmpmTZtmmODKDxuwO3jyJF4Fw+TADAJIMJJbyWlpaVVVVUZDIbq6mru6jsiOnr0aFNT09y5c2UKT4m4nCKYvY0RbgBZSJ+XlJmZWVtbW1RUlJSUlJKScu7cudLS0tOnT3/22WcLFy5cuHDhoUOHZAxU4TxcYx+j4ADiwmf2tiuyd9w4uMaN0HFDx80Pwmf2NgCEAaQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQNpAvptVqRZ7VaDRqtVqlkjlLsiyrVqtlv8+4Wq3WarUajUbeYjUajV6vl7dMjk6nk70S/BEtwzBE5I9K8Ee0KpVKpVL56S2LTAFNSa2trSK3pWcYxmKxGI1GeV9Up9OZTCar1SpvsSzLtra2trW1yVusP+5bT0RardZoNIpUvjT+iJZhGK1W649K8Ee0LMuyLCterFqt1ul08r5uGEPHDQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABQkoLcDEMcsKWSJ4oiuLXg22LEAQHAosZUUV7Q82CEAQHAoMSWhlQQQsRTUcbMte8kf93GLBPZ2JbI5hDoltpJAMvR5IdQhJYUVtJIg1EnvuJnN5pKSkqamph49ekyaNElko1fiipbje+Ut1BiEDekp6dixY8nJyXl5eStXrqypqenevburjV5Es/wv5K73cW3Bs447ON34a7FeBeGuNI6VKJoo2vsCufTBf8h/LevSF/kHSuuI2cu0p6q2hX+Kcb2zyAu5TXb8A0Xqjf8q/DIdtzgt2TEYV8+K11icuzj5pXmyj27ls2bMXJGV9I5bZWVlamoqEaWmplZWVopslJfTD4q8Yyiyj8jwC4wrWi54yN9TtfQpGV+O+8XNt/T6ePxHEJXTX7wtwdUOvvOkKIzc+YP0VlJLS0vnzp2JKDExsampSWTjtm3bDh48SESLFi1KSkpyVaBarW6XGozq+WLrM/OkHh1o/GgFkWtW/j3eYrE/tPr8WvHx8eRD5cTHx4s8K3jL4uPjXQUseIor1nGLeFGq54u5nZy+iucJQiROyUQqymazyf1q4Ux6SoqJiWloaEhNTW1oaLAnGqcb+/TpExUVRUQsy5pMJlcFRkdH0/Ki9nbneUnz3NPcL+2LV3AP2xevsG80mUy0eAV/I/9Z+1FOyxTsyX8J+0P7noJgBIc7FuVYYPviFWQyaezbTSbixaayWK6routf0Wn5jlFdF7DJRET6v65uW/gnx8Bchd3+S2WS6/eLuLeMH8Yvf4tjkPY3iB8VCd5BIiJiGEaj0Zh+qSJ+ePZ9NOSEq3fNEb9wV9pd/CGudhD5YDMMw33+wROM5BR++PDhCxcujB8/vqioKC8vLyUlxdVGu8bGRguvCSAQGxvrj3lJOp3OZDJZrTL/X4yPjzcajW1tbfIWq9frm5ub5S2TiBITE69cuSJS+dL4I1qGYRITE+vr6+UtlvwTLcuycXFxjY2NIvuo1eqEhAR5XzeMSR9LyszMrK2tLSoqSkpKSklJOXfuXGlpqWCjjIECQCSQ3kqSAFV2cOYAAAXMSURBVK0kt9BKQispwmGqJAAoCFISACgIUhIAKAhSEgAoCFISAChIQNdLUqnEMuCVK1fUajXLyh+SSqViGEbeMi9duhQVFaVWq+Utloj8UWZtba1OpwuJaG022/fffx8bGytvsRzZozWbzT/++GNMjKsrCIncfexByKYYS5cuLSsrC3YUnpo8efLBgweDHYWnhg4d+t133wU7Co9cuXJlwIABwY7CU6dPnx43blywowgryN8AoCAKWui2f//+Xbt2DXYUnhoyZMgNN9wQ7Cg8NWrUKD91hWQXFRU1duzYYEfhqcTExPvvvz/YUYSVgM7eBgAQh44bACiIIjpuvi+PGxgtLS0rV640m816vb6wsPCnn36aN28etwbL3Llzk5OTgx3gderr6/nhJSUlKbaSd+zYcfz4cSJqamrKyMgYPXq0kiv2+eefnz9/vlarFXxuQ+VjrHTBHl+32Wy2Q4cObd261WazrVix4vvvvw92OC69++67O3bssNlsW7Zs+fDDD7/44ott27YFOyiXBOGFRCWXlpZeuHBBsRV77dq1+fPnjx492mg02hyqNCRqWPkU0XELwPK4skhLSxsyZAgRxcbGajSaurq6H374obS09MCBA0GOzBlBeMqv5Orqap1O161bN8VWbGxs7IsvvnjHHXdwDwVVqvwaDgmKSElOl8dVoF69eiUmJpaXl3/yyScGgyEmJqZv3755eXn79u07c+ZMsKMTEoSn/EresWPH+PHjySHyYMd1Hf60W0GVKr+GQ4IixpKcLo+rTG+88UZNTc0zzzwTExOTkZHBbRw6dOi5c+fs/zwVQhCewiu5ubnZaDTGxcWRQ+RKq1g7QZUqvIZDhSJaSWlpaVVVVURUXV3ds2fPYIfj0tGjR5uamubOnavX64lo69atp0+fJqLq6moFzlEShKfwSj516pQ99Si8Yu0EVarwGg4VipiXZDabS0tL29vbk5KS8vPzgx2OS2vWrPnyyy91Oh0RjRo1qk+fPqtWrWJZNjExcc6cOUq7lOnSpUv88KxWq5Irubi4eMKECdziyILIlVaxixcvXrRoEXfGjV+lofIxVjhFpCQAAI6y/v8AQIRDSgIABUFKAgAFQUoCAAVBSgIABUFKCjHbt283GAwNDQ233HKLhMPtB3LlyB0dgK8UMXsbPDdy5MjMzEy3u1kslqtXr3bq1MnHcgACDK2kEHPmzJn58+fPnDmzurp61qxZRFRcXJyamtqnT5+lS5cS0ZEjR3Jzc9PT09etW2ez2WbPnv2b3/zmtttuKygosNls9gO5coho6dKl3Mzj5cuXc4dPnDixsLBw3Lhxubm5/rgbOICY4C5EAN46fPjwww8/XF9f36dPH5vNtm/fvgEDBjQ0NPz0008jRowoKys7fPhwfHz8N998Y7PZ/ve//z344INtbW1tbW1paWlfffWV/UCunD179mRmZjY3Nzc3N2dkZLz//vuHDx/W6XSXL1+22WxZWVk7d+4M7t8LkQYdt9B24MCBxsbG3NxcIqqtrS0vL7/pppsGDx7MrZLRt2/ff//73x9++OGJEyd+/PHH1tZWx8Pz8/O5e/5MnDjxwIEDDz300KBBgxISEogoNTXV8RAAv0JKCm0xMTHTp09fsGABEVksFpvNdvz4ce6qYCI6evToE088MWXKlFGjRn388ceOh9tsNvtSGwzDWCwWIhIZgQLwN4wlhSqz2UxE991335YtW65du9be3v7AAw/s2rWLv89HH33ELRrbtWvXL7/8sr293X4g55577ikrK2ttbTUajWVlZdwCdQBBhJQUkjp27NixY8fJkycbDIb8/HyDwdCzZ8/+/fvn5OTwd3v00UcrKip+97vf/fnPf541a9bSpUvtB3I7PPTQQ0OGDElPT09PTx8+fPjIkSP5h6tUKn/cfBhABFYCAAAFQSsJABQEKQkAFAQpCQAUBCkJABQEKQkAFAQpCQAUBCkJABTk/wOWqpf7FsbPiQAAAABJRU5ErkJggg==" alt=""/></p>

<h3>n = 1000000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271445 281.6   10014072 534.9 10014072 534.9
Vcells 16097829 122.9   26979768 205.9 26746604 204.1
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 1000000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.002293</td>
<td align="right">0.0028955</td>
<td align="right">0.0073869</td>
<td align="right">0.0047215</td>
<td align="right">0.0117255</td>
<td align="right">0.025372</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">2.205608</td>
<td align="right">2.4509940</td>
<td align="right">3.0451511</td>
<td align="right">2.6593380</td>
<td align="right">3.4591090</td>
<td align="right">10.583003</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">4.263256</td>
<td align="right">4.7065055</td>
<td align="right">5.9483263</td>
<td align="right">4.9615260</td>
<td align="right">6.5981130</td>
<td align="right">12.529710</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">961.8875</td>
<td align="right">846.4839</td>
<td align="right">412.2344</td>
<td align="right">563.2401</td>
<td align="right">295.0074</td>
<td align="right">417.1135</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">1859.2481</td>
<td align="right">1625.4552</td>
<td align="right">805.2490</td>
<td align="right">1050.8368</td>
<td align="right">562.7149</td>
<td align="right">493.8401</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 1000000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271517 281.6   10014072 534.9 10014072 534.9
Vcells 22397877 170.9   32455721 247.7 26950058 205.7
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 10000000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.005044</td>
<td align="right">0.0093405</td>
<td align="right">0.0252163</td>
<td align="right">0.013378</td>
<td align="right">0.044561</td>
<td align="right">0.065312</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">113.463597</td>
<td align="right">131.0820160</td>
<td align="right">139.2751717</td>
<td align="right">134.121174</td>
<td align="right">140.858639</td>
<td align="right">497.779088</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">190.650896</td>
<td align="right">199.8797000</td>
<td align="right">206.1982812</td>
<td align="right">205.854622</td>
<td align="right">211.439166</td>
<td align="right">232.560777</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.00</td>
<td align="right">1.00</td>
<td align="right">1.000</td>
<td align="right">1.00</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">22494.77</td>
<td align="right">14033.73</td>
<td align="right">5523.220</td>
<td align="right">10025.50</td>
<td align="right">3161.030</td>
<td align="right">7621.556</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">37797.56</td>
<td align="right">21399.25</td>
<td align="right">8177.182</td>
<td align="right">15387.55</td>
<td align="right">4744.938</td>
<td align="right">3560.766</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on integer+n = 10000000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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EP3/ihYTBOYtZtF4CCEti1dwr8ibtrY26WqBT6NSr9LhcGzdutVutyclJeXm5gqebWxsdDqd3raNjY21Wq2K/yNNJlNLS4uydUZHR7tcLovFomy1aoRqMBj0en1zc7Oy1aoRql6vN5lM165dU7Zag8Fgt9slDrwAMAyTkJBQX18vUUar1cbHxyvYaMem1liSTqfLz89XqXIA6KgwVRIAKIKUBAAUQUoCAIogJQEARZCSAIAial1xk8YwUqnwypUrERERWq1W8XYVr7OpqUmj0ej10l9UCITioVqtVrPZHBkZ/Bd1hBQP1W63//jjj1FRUcpWq9FopA+8ALjd7rq6OpPJJFFG8UY7NrXmJQVjzpw5OTk5w4cPD3Ugvq1fv75z584zZ84MdSC+7d2799y5c2vWrAl1IL5VVlZu3LixuLg41IH4dvXq1dGjR5eXl4c6kI4D+RsAKBKaEzdpjzzyyG233RbqKGRJS0uLiZG5EECI9e7dOyIiItRRyNKlS5ew6CMTQgwGw/jx40MdRYdC44kbANyycOIGABSh68QtLJbHtVgs69atczgcJpOpoKDg+vXrCxYsYJd/mj9/fo8ePUId4M/q6+v5sSUlJVG7e/ft28cOEpvN5oyMjMzMTGr36urVqxcuXGgwGASHa1gcvWHATZPjx4+///77brd77dq1//3vf0MdjrhPPvlk3759bre7uLj4888//+abb/bs2RPqoMQJYguL3bt169ZLly7RuVebm5sXLlyYmZlptVrdHvszLHYv/eg6cauurk5OTiY3lscNdTjiUlJShg4dSgiJjo7W6/WXL1++ePHi1q1by8rKQhyZB0Fs9O/e2traqKiobt260blXo6Oj169ff//997N3BfuT/t0bFuhKSaLL49LmrrvuSkxMrKio+PLLL9PT041GY79+/Z5++unS0tKvv/461NHdRBAb/bt33759kyZNIh6RhzqunzEMo9Fo2NuC/Un/7g0LdI0lscvjJicnNzQ0SCzOHXIffvhhXV3dK6+8YjQaMzIy2AeHDx/+z3/+k/sIpYEgNsp3b0tLi9VqZSdV0LxXOYL9SfnuDRd09ZJEl8elzalTp8xm8/z589mvEbz//vvnzp0jhNTW1nbv3j3U0d1EEBvlu/dvf/sbl3po3qscwf6kfPeGC7rmJUkvj0uJ7du3f/vtt+w3sJ588snU1NSNGzfqdLrExMQXXniBqi80XblyhR+by+WiefcWFRU99dRTvXr1Ih6RU7VXX3311aVLl7JX3Pj7MyyOXvrRlZIA4BZH0YcPAABSEgBQBCkJACiClAQAFEFKAgCKICWFnw8++CA9Pb2hoeGee+4JYHNuQ7YepaMDCApds7dBjjFjxgwePNhnMafT2dTUlJCQEGQ9AO0JvaTw8/XXXy9cuHDevHm1tbV5eXmEkKKiouTk5NTU1BUrVhBCTp48mZOTk5aWtmPHDrfb/fzzz9922219+/bNz893u93chmw9hJAVK1awk49XrVrFbj516tSCgoLs7OycnJyWlpaQvly4xYR2IQIIwIkTJ37961/X19enpqa63e7S0tKBAwc2NDRcv3599OjRu3btOnHiRGxs7L///W+32/2Pf/zjiSeeaGtra2trS0lJ+e6777gN2XoOHTo0ePDglpaWlpaWjIyMzz777MSJE1FRUVevXnW73VlZWfv37w/t64VbCk7cwl5ZWVljY2NOTg4h5MKFCxUVFXfeeeeQIUPYhTL69ev3xz/+8fPPPz9z5sz//vc/m83muXlubq7RaCSETJ06taysbOzYsQ8++GB8fDwhJDk52XMTAPUgJYU9o9E4Z86cRYsWEUKcTqfb7S4vL+d+WezUqVPPPffcjBkznnzyyaNHj3pu7na7udU2NBqN0+kkhEiMQAGoCmNJYczhcBBCHnvsseLi4ubmZrvdPnLkyJKSEn6ZL774gl00tmvXrt9++63dbuc2ZP3qV7/atWuXzWazWq27du1iV6cDCBWkpHAVFxcXFxc3ffr09PT03Nzc9PT0Pn36DBgwYOLEifxiU6ZMOXv27C9/+cuXXnopLy9vxYoV3IZsgbFjxw4dOjQtLS0tLW3UqFFjxozhb84wjE6HrjS0H6wEAAAUQS8JACiClAQAFEFKAgCKICUBAEWQkgCAIkhJAEARpCQAoMj/B8OYRbKnafFQAAAAAElFTkSuQmCC" alt=""/></p>

<h2>Data type &ldquo;double&rdquo;</h2>

<h3>Data</h3>

<pre><code class="r">&gt; rvector &lt;- function(n, mode = c(&quot;logical&quot;, &quot;double&quot;, &quot;integer&quot;), range = c(-100, +100), na_prob = 0) {
+     mode &lt;- match.arg(mode)
+     if (mode == &quot;logical&quot;) {
+         x &lt;- sample(c(FALSE, TRUE), size = n, replace = TRUE)
+     }     else {
+         x &lt;- runif(n, min = range[1], max = range[2])
+     }
+     storage.mode(x) &lt;- mode
+     if (na_prob &gt; 0) 
+         x[sample(n, size = na_prob * n)] &lt;- NA
+     x
+ }
&gt; rvectors &lt;- function(scale = 10, seed = 1, ...) {
+     set.seed(seed)
+     data &lt;- list()
+     data[[1]] &lt;- rvector(n = scale * 100, ...)
+     data[[2]] &lt;- rvector(n = scale * 1000, ...)
+     data[[3]] &lt;- rvector(n = scale * 10000, ...)
+     data[[4]] &lt;- rvector(n = scale * 1e+05, ...)
+     data[[5]] &lt;- rvector(n = scale * 1e+06, ...)
+     names(data) &lt;- sprintf(&quot;n = %d&quot;, sapply(data, FUN = length))
+     data
+ }
&gt; data &lt;- rvectors(mode = mode)
</code></pre>

<h3>Results</h3>

<h3>n = 1000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271592 281.6   10014072 534.9 10014072 534.9
Vcells 20955081 159.9   46912238 358.0 46899090 357.9
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 1000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.003107</td>
<td align="right">0.003296</td>
<td align="right">0.0034837</td>
<td align="right">0.0034435</td>
<td align="right">0.0035985</td>
<td align="right">0.004429</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">0.005871</td>
<td align="right">0.006139</td>
<td align="right">0.0066565</td>
<td align="right">0.0062915</td>
<td align="right">0.0064785</td>
<td align="right">0.033252</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">0.008086</td>
<td align="right">0.008284</td>
<td align="right">0.0085307</td>
<td align="right">0.0083935</td>
<td align="right">0.0085310</td>
<td align="right">0.012681</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">1.889604</td>
<td align="right">1.862561</td>
<td align="right">1.910731</td>
<td align="right">1.827066</td>
<td align="right">1.800334</td>
<td align="right">7.507790</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">2.602511</td>
<td align="right">2.513349</td>
<td align="right">2.448744</td>
<td align="right">2.437491</td>
<td align="right">2.370710</td>
<td align="right">2.863174</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 1000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271661 281.6   10014072 534.9 10014072 534.9
Vcells 20964573 160.0   46912238 358.0 46899090 357.9
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 10000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.002898</td>
<td align="right">0.0032225</td>
<td align="right">0.0038029</td>
<td align="right">0.0034685</td>
<td align="right">0.003961</td>
<td align="right">0.023523</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">0.021548</td>
<td align="right">0.0228445</td>
<td align="right">0.0254240</td>
<td align="right">0.0235715</td>
<td align="right">0.025780</td>
<td align="right">0.091572</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">0.043524</td>
<td align="right">0.0455955</td>
<td align="right">0.0484815</td>
<td align="right">0.0468940</td>
<td align="right">0.049947</td>
<td align="right">0.083934</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">7.435473</td>
<td align="right">7.089061</td>
<td align="right">6.685339</td>
<td align="right">6.795877</td>
<td align="right">6.508457</td>
<td align="right">3.892871</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">15.018633</td>
<td align="right">14.149108</td>
<td align="right">12.748390</td>
<td align="right">13.519965</td>
<td align="right">12.609694</td>
<td align="right">3.568167</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 10000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 100000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271733 281.6   10014072 534.9 10014072 534.9
Vcells 21059451 160.7   46912238 358.0 46899090 357.9
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 100000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.001962</td>
<td align="right">0.002668</td>
<td align="right">0.0036028</td>
<td align="right">0.0031065</td>
<td align="right">0.0037325</td>
<td align="right">0.026264</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">0.192841</td>
<td align="right">0.218590</td>
<td align="right">0.2650484</td>
<td align="right">0.2541555</td>
<td align="right">0.3090540</td>
<td align="right">0.467606</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">0.361153</td>
<td align="right">0.413546</td>
<td align="right">0.4647663</td>
<td align="right">0.4699950</td>
<td align="right">0.5014150</td>
<td align="right">0.736157</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
<td align="right">1.00000</td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
<td align="right">1.00000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">98.28797</td>
<td align="right">81.93028</td>
<td align="right">73.56713</td>
<td align="right">81.8141</td>
<td align="right">82.8008</td>
<td align="right">17.80407</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">184.07390</td>
<td align="right">155.00225</td>
<td align="right">129.00105</td>
<td align="right">151.2941</td>
<td align="right">134.3376</td>
<td align="right">28.02913</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 100000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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0YgiTkmHDx/etGlTRkbGkCFDHnvsMYqizp07d+bMmW3bti1atGjMmDFBiRIRznXoJCwRcF4rINrn2qSDefu7rZtUJ2SHgAn8EZGPxCmprq7u/fff12g0wpZ+/fpNnDjRbrfv3r07sLGhUOW6RMDT0Cko+QiRTJySHn30UdEWjuMoimJZ1vUhhARe55h8mYFaN6mOoigAk3JxeTyQ2odA8rifHiopKeHXHD300EOdOnXavn17QINCEQnThOCmLMGOWhnuv3FbsGDB5s2bT506ZbFYzp07d99994kqIiEkzWtBXmEHzETImfuU1NbWNmLEiJUrV06ePDkhIcFmswU4LBSKvH7R5mmxJUIC9ykpLS1t1qxZx44dq6ioWLVqVc+ePQMcFgonEnfNlIefEcfhVVhyn5J27ty5a9euZcuWde7cmWEY/K4NBYXzl3FCAhI28gsIghAWUpP7lKTT6W699dZvvvnmm2++6dOnT2lp6W233RbYwBBCoaG9vX3RokXnzp1rbW2dNGnSs88+609r7lPSQw89ZDAYEhMT+X/SNM1Xk0IoMCQWK0XsUib6Ui39VSnHatozf891Vv46XkFJSUl5efnTTz/t4/6HDh0CgCNHjgDA8OHDs7Ky/Ckj5z4labXavXv3ym4UIX/M2farf7qenflzvhaq81A3mthtr/M/MuWnrc+8CN6K9l65cmX+/PkAMGjQoIULF86ZM4eiqC5durz55ptFRUXJycnjxo178cUXR4wY8f3331dUVERFRVVVVe3atevNN9+srKycOnVqcnKy0FpBQUHPnj1HjRo1a9asDz/80Pnysvj4+PLy8pMnT9599918YvKH+3VJKSkphw8f5usQ8vw8DEI+Wr5PvE4yb3835//8adx5HsqfdgKPrql2/id13XtKLSgomDdv3v79+5ubm//0pz898sgjBw4c6NKly4cffui6s8FgWL9+/R133HH8+PE5c+aI8hEALF269G9/+9uSJUsKCgpEl7ump6dv3Ljx7bffvuuuu/Ly8vws3enxStopU6b06dPntv/w5xgIKUiNbKJIvlMVZ+r+q3/Hej9xO3fu3ODBgwGgoKDgl19+ycjIAIAhQ4b88MMPwj5C8fiBAwcCQExMjKfxB8uy06dPv379+oABA0QPXbhw4c4779y6deupU6cqKioOHDjg++/lyn1KOnXqVH19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" alt=""/></p>

<h3>n = 1000000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271805 281.6   10014072 534.9 10014072 534.9
Vcells 22004893 167.9   46912238 358.0 46899090 357.9
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 1000000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.003339</td>
<td align="right">0.003943</td>
<td align="right">0.0103158</td>
<td align="right">0.0066275</td>
<td align="right">0.0187495</td>
<td align="right">0.02975</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">5.902106</td>
<td align="right">6.253539</td>
<td align="right">7.8809195</td>
<td align="right">8.7674475</td>
<td align="right">8.8459570</td>
<td align="right">10.15192</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">10.169488</td>
<td align="right">10.581906</td>
<td align="right">12.3740918</td>
<td align="right">11.8717945</td>
<td align="right">13.1152000</td>
<td align="right">21.26902</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.0000</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.0000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">1767.627</td>
<td align="right">1585.985</td>
<td align="right">763.9652</td>
<td align="right">1322.889</td>
<td align="right">471.797</td>
<td align="right">341.2409</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">3045.669</td>
<td align="right">2683.720</td>
<td align="right">1199.5269</td>
<td align="right">1791.293</td>
<td align="right">699.496</td>
<td align="right">714.9252</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 1000000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAAEECAIAAACjmgRhAAAgAElEQVR4nO3daXwURdoA8Ge6ZyaZIxwJ4YigbCSKGsmCJByu77IYEMMtQgB5jSKXoLxBSXRFuZZDyMIaRBfjBi8uMSqn4HLICsgRWMRdV2NWwUgCMQkh5JhJMjP9fqhlduyZ6bmqu2uS5//Lh0lPd1V1TfczVdU91RpBEAAhhNjAqV0AhBD6LwxJCCGGYEhCCDEEQxJCiCFaZbKxWCwOh8PbuzzPA4DdbqebqUaj0Wg0EvkGnaxWq21ubqabLADwPE+9EgBAp9PZbDbq1zFkKq1WqxUEIVwOBo7jOI6z2WzS6xgMBrr5tmAKhSSr1SpxkJlMJgCwWCx0M+U4Tq/XW61WusnqdLqIiIjr16/TTRYATCYT9UoAAKPRWF9fT/0kNxqNVquVeqQzm812u516PWi1Wp7nGxsb6Sar1+sNBoN0aXmex5DkP+y4IYQYgiEJIcQQDEkIIYZgSEIIMQRDEkKIIRiSEEIMaS0h6V/Wi+vLPyKv/3hl2/eNpUrm/lXD9xt+3klev3x5849NV0JMcMGlN6/arwPA15YLr/38kXP53+u/e7NiN3m9ouy9n5p+DjGjENXY61+4lGcXHACw/erhz2rPKVyAE3Vfv1f1KQAIICz4Ma/Cdi3EBJ+7tKHW3pBfsefdqk/zK/bU2hvmFv+JRknRf7SWkHRnZPc6h2XNlW0rL2/iQHNrxE1K5t7LeOtV2/U/lW9fXvZuJKe/Rd85xAQf6TBk2oXVX9T9Y2Fp/qSYVOfyPqbbfrZVv3Llg2Vl75r4yG76jiFmFKK2vCnFdMdTJX/6sPrIkdov/8ecpHAB+pvv/JflYn7FnuwfX+8e0TlW2y7EBCdHpz5+YeVNutgVZe920kZnFC97pNNQKkVFhEaZyUmqq6t93ipZX19PN1P3WyVHFj+v02g/6rEslGR1Op3ZbK6urg50w+HfZRv5yA9uXeptBZPJ5H8l7Lp2/NmS9ft7/vFWvTi8pn2XZeaM23ssIf/GxMRcu3ZNjlslLRaLP8fPC5fyPr1++ouef47gdD5Xpn6rpAMcv/vm/2433vzObS9SuVVya9XBRaUbt/dYPPH7JQu6ZjzVfXxNTY3E+jzPt2/fPvR8W4nW0koCgJWXN/0uqnc/0x1/vLJN+dyXX353SJvk3oaEP5VvDz21ry0X3qnc9+6tC7JK/kx6cE5/KHtnWNt+SaZbX7nyQegZhe7j6s+v2esWdH4086d1NoH+D1CkCSC8cCnv0Q4PxGrb5ZXvCj3BwvpvP67+/M/dn5nw/ZLcbnP3Xzv1+bUvQ08WObWWkPS15UIb3vhM5/TnujzCgUbhsaTzDf/uoG2X2Xn8C3H/2+ywhT6WtLXq4JvdsweYEpd1nba16qBz+d/rv+uii5nb6eEFXR61CI0sjCWdrS9af3PmQ9H/c3/UPUfrvlK4ACfqvk40xD8RO+LlW2b91Fge+ljSh9VH8n/1/MXGKwvjHr3UXLGxx+8/rPiMSlER0bo6blQE3XHzKaCOm/9U77gFJBx/44YdN4paSysJIRQWMCQhhBiCIQkhxBAMSQghhoQakpYtW0bGjysrKzMyMrKysrKyssrKymiUDSHU6gQ/q2RdXd2SJUuKiorIvxUVFWlpaenp6ZQKhhBqjYIPSWazedWqVQsXLiT/lpeXl5WVrV+/PjExcdCgQWThlStXyMXy2NhYrdZrXhzHCYIgsUJwyLzI1JMlM4VTTxYA5CgtwfO8RqOhmyYpLfWbAGQ6GHie53lejmTJXOwS63AcDo8EIKRPiOM454FuNBoTExN79+6dm5sbHR3dq1cvANixY8e+ffsAYN26dV27dpVIBwB0Ot+/NggIKVtERAT1ZDmOi4qKopssyBaSNBoNufOLLo7jqH9kcKMS9Ho93WTlOxg0Go30wUD9GQQtG7UTICUlhbwYPHjwd999R0LSrFmzZs2aBQDV1dUS9xbirZKEfLdKXr9+HW+VxFslwwK1JuXWrVvPnz8PACUlJV26dKGVLEKoVaHWSkpNTV27dm1BQUFMTMyAAQNoJYsQalXwN24BC8eOG/7GDTtu4QKvBQRDe/g3sedGql0KhFogDEkBa3d6GHmBUQkh6jAkIYQYgiEpYNdS9pMXFb13q1sShFoeWe4VbvFsg4/JMbyNwoJrh72m36cqlqRFCstWUuy5kTiOg1CLFH4hyRmMFIhKGPgQUhh23Lwi8Sj23EgcMyJVgfVAYD3IKvxaSXhAKEzJZilCYdlKwqiEUEsVliFJGaoHPtdWiYqFqei9G9tHSDEYkpBvqkdn1HqE31hS64TtFHWR+07wU1BAC28lRZ0Y4nwddl/12GNCrVBLDkkxZ4erXYRQOaNS2MVTOTAyuIZk1ZJDkgKcJ4l8Zwiee6rDtqqSWnJIqrpnr7OhJMeJzeCRKl+IVCD4sgmbZgoL75Dk8zypHXCA+qyS7FClT6fK7eytNiC2QuEdkpxUOWRJXgqfou5NM4ULoG5QUPH3PRgNldFCQpJHMWeH1w44IHcu6sYjxTgH2lvbcHvr2VNGtNiQRM4cchOAAkeV3Ceqn8FIsfOHlKeyzx5l2qeu90OQhpKzwiXaTdjdC0ctNiQpSXS2SKwAQZ0e0vFIxfOtw99HeHtL1hgt+iWwa5CSL1OkjPAOSaKbCT0eiy3sAHUOYLn+q0rWAFDZZ4/HqORx8gBZi8rg1U8UnPAOSeD9QK/ovVum57h5zEvWU8L9hkl1f4VLXpDnuCmZr2sliCrcvWenWMEQXfhoyYAF8WhJPxs1LenRku4x2s8wYTabDUd/F9AmHjMVbYuPlgwXYd9KCgut8EvbdZex2YL8p1BI0ul0Wq3XvHieB4CIiAi6mXIcx/M89WR5ntdoNNSTJSnLkSwA6PV6h8NBN02tVqvX6/1Z83r/v/qfLDkYiEBr43r/v7Y5OZS8jj030jVf8qkFlJo/tFotx3HS5ZQj3xZMoZDkcDgkTglBECI/H1SdvI9upoIgcBxHvcOi0WgEQaCeLAA4HA45kgUAu91OPSTJVFrXnmAo6Vcn7xNtLsfBwHGcz4OB43AKoAAoFJLsdrvExxb5+SAAaF/4IFDt43Acx3GczWajlSBBvvSoJwsAgiDIkSz4qv/gkJBEfSzS4XDUDTxIBs6DqA3n8eNxW+rVS0KSdLKu7T7kE8ZvhBBD2ApJOAiKUCvHxBW3ht8cBhluAkAIhR22WkkIoVYOQxJCiCEYkhBCDMGQhBBiCIYkhBBDMCQhhBiCIQmh/8Dn2bIAQxJCAF6mnUPKw5CEEGIIhiTEKIW7UfhjJkYw8YMShERUmbUWoxILGA1J+LQJpAo88FTHYscNxxeRK1WOBzwI1cJoK8nJtd2uwBN41P2SNB4brHDuij3UKFAeH0OiSgGYqpbWgMVWks+nM7r/S526X5LK5M5UQ4CRe4Jcv/9cHziOFMN6Kwlk/qZic+ygtT271XUw23LfZ+oWBqmLxVYSeDoPK3rvdl1I5URV6wuQfAO7506msnNfWaZisB/syIfOfjkRRWHQSgKXhpLcR6fcz60V8dYAVKwMrJ3tLJSHhTK0ZuyGJAWig+ipzeDWFlOYc3i7ZXPvk2IUQE6Mdtzk5q3rpAzRk2Cdr0Udt9AbhmQfuYMDg05BVq77ru4ngtjBVitJ1JFR+EKsArkEesqFGI+cr6PPpFFJUwGGo7+rG3hQ7VIg1TDUSvJ2zZXuKeQxfeX7a94aSrSG7SVin+otEW/77mT+IlXB4rQ0drv96tWrapcieKyEJGWGUURRT+FIJOqneFutBV9mkuidifZXjrjZ5uTQMOobrlmzJj4+vmfPnosXLwaAt956a8qUKQBw6tSp/v372+32N954Y+7cuePHjx88ePDMmTObmpqOHz+enp6elJSUl5enculDEGpIWrZsmdVqBQCbzbZ27dqlS5e+/fbbQaTj8fq3rFrMOZ+9swP583N9tXbcZyyQtWDk8e5+lkR1hw8f3rZt25kzZwoLC0+fPr158+bHH3+8oqJi9+7dTz31VH5+Pnmo9yeffPL2228fPny4ubk5Pz8fAD799NNdu3Y9//zzau9B8IIfS6qrq1uyZElRURH59+TJk3FxcRMnTly5cuWlS5e6du0aaIItJkb4Sb79JVcS3X+TwU4NexsldF4DZaeoqjhy5Eh1dXV6ejoAlJaWFhYWPvLII3l5eb17954/f/5dd91FVktLSzOZTACQnp6en5/fq1evgQMHxsfHq1n0kAUfksxm86pVqxYuXEj+LS4uJjUVHx9fXFwcREhSgMK3HXnLndb5JtEycr2+HhMTc+3aNbvdTiXToLmHIY/1YLnvM7vdbrFY6OZenbzPtaHEOKPROHPmzKysLACw2+2CIABAbW0tz/OlpaXO1RwOB3lhs9nIaxKhwlpIV9w4jtNoNOR1Q0NDhw4dACAmJqauro4sfPnllwsKCgBg+/btPoO3wWAIpTDemM1m13+FISeoJEt2NlA+cw+6EjY+AQAdpuaTF2Lt27cPLllpRqMx0E38rH85Ti1aH7076YMhiC+D+++/f8aMGbNmzYqMjBw2bNjs2bNHjx79xBNP7Nu378knnzx69Oh9990HADt27Fi0aFH79u03bNgwbNiw4HeAJdRuAjAajVVVVfHx8VVVVR07diQLMzMzZ8+eDQA2m62qqkpiWwBoaGigVRiC4zi9Xk+GuijSarVms/natWt0kwUAk8lUX18fyBYxzldVVVVZO2IAYGo+5Iz5RVVHR0fX1NRQbyUZjUaLxUK+wCkym81ytJK0Wi3P842NjXST1ev1kZGR169fl1iH5/l27doFlGxycnJGRkZycrLFYpkwYcK4ceOWLl06aNCgvn37btiw4dFHHz179iwA9O3bd9SoUVeuXElNTZ0+fXphYWFIO8MGaiEpISHh4sWLycnJJSUlAwf+5968yMjIyMhIAKiurnY2Mr2hfnALN9BN1pm4HGkGlOzq0ZWk77Z6dKXrdlk7YlaPrgwlZX/IVL1hlyz4OhiCyzQzMzMzM9P5r3OE5J577vn666/J67vvvnvHjh3Ode6999577703iLyYQu0mgP79+5eWlubk5HTs2LFbt260kkXSVo+uFEUfslCVwiAUOo1MjQiR6upqiY4DGTgIsM/im0wdN51OZzabq6ur6SYLwXTc/BLi8LZzEF0U6bDjBgB6vd5gMNTU1Eisw/O8TGN5LZKHjpvD4di9e/epU6e+/PJLh8PRu3fvlJSU0aNHcxwr91Uid65X3yi2kvy/3QkhKsRRZt++faNGjTp//ny/fv3Wrl2bm5s7YMCAf/7zn6NGjdq3b58qRUQqwj4gUpi4lVRZWfnxxx/rdDrnkttvv33UqFE2m23r1q3Klg0Fg3oQIYPoKsYm5xC+WgVASvI9liQIgvPmo6CF71iS+/ngHEuifqqwOZbkjTJjSbQ6pMGNJXkbR3PCsSTqPN8EcOjQod27d7/yyitjx449ePDgq6+++thjjylbMB98Hit0c3HPDgdZWjwVP+La2togtoqKiqJeEuV5HrGeOXPmiBEjTpw4YbVai4qKli9frnCxpLkeKwofN9k7O8wraOutMIg6FftrPrPO3tkh84M2yhSm9fAckhobG1NTU/fu3TtmzJi4uLjm5maFi8UIbwfl9Ld5n+soLKDJAMILufdKlXommUpnPfNdncS7KFCeQ1JSUlJGRsbmzZvT09MXLVrUpUsXhYslzfUQ8f9IDe6M9XY+qHieuHPvYMqdkc/VWkx89OcjbjE7ywLPY0mbN2/esmXLM888065dO57nGbzW5vFA8TYU6nrGBh1EyIYkqTcfszvvlPQ4qkV35NvbSJbCAZFk6q0O3Zere52OOpnu/EIinq+4NTY2Hjp0yHmDslarJVO3BE3WK27O89P9y2pdep3VahUtD/F4Et29LTpSJb4wfebr8Yqb9DewxHC78y1aV9z8aQu4Bm6PhfFJ+u5tn9cZJD6C3Am1ody97TEk+XOZJYgrbuE1vO1wOObMmVNUVNTQ0DB69Ojf//73oaTmueM2duzYjRs3nrnh9OnToeQhK+k+y9z3ze4LFShMEO+GiJ1epEfU952RvtIr46+/8WizMjXPXS7V7vmI379bc43+j5lcHTp0aNWqVf6v/8knnwDA4cOHT548eeDAgR9++CGU3D133PR6PZnnqAWQ+9iVbhmJ1qSeNd0EfWbn/57SbZl6o2RgUjniX6/R5r9OXvJnTjY9vwS0PqbxKC8vnzFjBgD06dNn9uzZU6dO1Wg07du337hx4/r163v06DF8+PAlS5akpqZ+++23586di4iIuHjx4pYtWzZu3FhcXDxu3LgePXo4U8vJyenSpcvQoUMzMjL27t3r+vOyTp06nTlz5vjx4wMGDDh8ONQZqz23khISEvbt29fU1GS/IcRs5OM8UDyOea9Lr/O2PvUySKccyhiWaFuJkXXnWzKdPx5rW7pI7itTLICfKa8eXbl2HP35rZTEXSpx/Vdz1feO5+TkTJ8+fefOnXV1dS+//PKkSZN27drVvn37vXv3uq9sNBrXrFlz9913Hz16dOrUqaJ4BADz5s179913MzMzc3JyRD93TU5Ozs3Nfeedd379619nZ2eH+Ntmr4H2oYcecp0r76effgolG1l5i0ocxwHoXScVkrsM8mXBTqfMWZL1kxok7t6Wr9rdo6H0Ci2DEBP7i//b+h6cKioqmj9/PgDk5ORMmjTpySefBIB+/fr9+9//Jk8TAACbzUZe9O7dGwCioqLsdrvWU/tLq9VOmDChoKAgMTFR9NaFCxd69eqVl5dXX18/ZsyYXbt2jR8/PtAddPLcSjpx4kRVVdVPLoLOgAWMj7O0VFjtFAmdOtvSRgOAIz7BNjFDiIjwucmvfvWrc+fOAcBzzz3Xtm3bM2fOAEBhYWF8fLxWqyXXZ06ePElWFjV83L9pLBbL9u3bO3fufPz4cdFbu3fvfuuttwDAZDL16dNHllbSbbfd5oyjCCEWOPqkNPVJ8X/97OzsWbNmvfrqq3feeeeSJUueeOKJ7du3R0VFjRw5sqys7NFHH/3www+7desW4RLdIiMj27RpEx0d/cILL4wbNy4hIcH51uLFizMzM/v16zdu3LiDBw+6tqRmzJgxffr0IUOGWCyW22+/PcSr855vAhgzZgwZrHIGpo8//jiUbML3Z7fuWtsUbt7gFG4g289uw+smALo8t5KysrLIA1sQQq1QeXn5pk2bXJfMnj2bPD5H4i0qxK0ki8XiLXWJt3zCVpI/sJUE2EoCAGwlucrMzIyLi5s1a1anTp2cC8vLyzds2FBaWhrWzxpHCLFPHJLeeOON48ePP/744xcvXiQ3AVRWVnbv3n3BggUt4HksCCHGeRhLuvfee8kd4pcuXQIANh+ljRBqkaTuScdghBBSGD4HCSHEEAxJCCGGeA1JmzdvzszMtNlsH330kZIFQgi1Zp7HkhYtWlRYWHjx4kWNRvPaa6+dOnUqoPlT3PE8L/HkJY7jBEHw+GO/UHAcx/M89WTJHe3UkwUAjUYjR7Lgq/6DQ6qXbpog28HA8zzHcXIk6/NTC9/HRH/11VfffvvthAkTPL67du1ak8k0c+ZM8u8777wTGRnp7dckubm5kyZN6tixo89MPVfltm3bzp49O3bsWJ7n9+/fn5CQEGJI4jhO4pTQaDQajYb68U0yDZdkQbaTHMIqJGk0GjlSJjWgysFAq+YbHNb91aeMXOSQdsm8RsYwd+jQoTNnzjz33HP5+fk5OTneVnvmmWf8T3PixImvvvrqH/7wB59reg5JTU1NzqeSWK3W0O8Wb25ulrh7mHzJUL+zlty9TT1ZnU4XERFBPVkA0Gq1ciRrNpvJ1Fd0k+V5vqmpifrd2zqdzm63U68Hme7eJg066WSpxMF6h3VS0aIjNecAYFT0b9677SUN+Ih0IU7h9uCDDzY0NOj1em+Tt+Xn55vN5uTk5CeeeKJt27YWi2Xq1KmuKy9atGj16tU2my0tLW3WrFnFxcX+7KnnWDtnzpyhQ4deuHAhJyfnvvvuIzOtIITU8reacyQeAcCuq8e+t5b63CTEKdxsNlt8fDxITt4GAMuXL3/++ed37NjRrl070cp79uyZPHnyRx99RH7pEhUVVVnpe7IazyFp/vz5q1atmjx5st1u/8tf/jJ37lyfCSGE5GPgfjFBkpGL9LlJUVFR3759ASAnJ6esrCwlJQVuTOHmXMfjFG5kyY8//kielkYmb7t69ar75G0A8MMPPwwcOBAA+vfvL1p5xowZO3fuHDZsmF6vB4C4uLgLFy74LLbXR0tardbbb7+9W7duRUVF77//vs+EEELy+W2bX4+P+R15Pf+mSXF635OOhziF2y233HL58mWQnLwNAG699VaSSGFhoWjlv/3tbytXrty9e/eKFSsA4PLly927d/dZbM9jSWPHjjUajd26dXMWN8RpmRBCoeA0XH7C71+8+bEIjc6feAQhT+H24IMPkmeNuE7etmLFijfffJPMIUm88MIL06dPz8vLM5vNJpPJdeVnn312zpw5JpNp1KhRAFBTUxMbG+teThGvU7jt2LHDn932E05O4g+cnARwchIAYGZykqeffnrt2rU63X+fMG6z2d5+++1p06YFmtTPP/+8bt26ZcuW+Vwz7J9QghCSybRp00TTyTY0NEycODGIpLZt2/b000/7s2ZLeEIJQkgOSUlJSUlJrkvatGkTXFL+XyLzHJLIE0qMRmNw2SMUXvx5jjZShueOG4NPKMne2YGRZy4jhOTjuZV09erVrl27UnxCCS3ZOzvg9xiSDzaXVIdPKGGRAo/nReASgBA7xCEpOTm5oKDglVdeES1XcuJtFk5IFb8tnVmr0iRsPc0EUTxyPjEcqUsckubPnx8dHZ2ZmalKacDLF5frQvkClreslTk5b+wX/fuSvOXliuxjKz8nRR80jhKoQhySyF3aW7Zsee2115wLH3vsMWVaSaLQI/d54toi8JaLkvEIbuy18u1EdYORwvvrc2ddPw5oBQ1GpohD0h133AEAJSUlhw8fJktsNhv5ja/ClPzeVjceKZyvP1UqXwHcT3JROJ69mfyg1CRTGby1EBEjxCHp2LFjADB79uzXX3/duVCZkOR6rHg8SigeOqI2uWsrSe4xBenEFT49PO6s3PEIftkYlFhZjpKI8vWZBVMBy9Ks0XKg4yn/iMcb91klc3Nzd+3adffdd99xxx1+zie5YMGCv/71r1OmTAlyVsmYmBgAYOen/3L0YkiConFcUYSilZf/Vo+uNJlMFH/i5tzB/KmCaIkoX9d3FYhH3gqjZLVL58VUGCIEgA//Hnn03zoAGJ3UOPj2Jvnykp5VMjs7+4EHHvA/teXLl58+fTrUWSVV4e1rk+7xEdA3ZPgKoi2mcETw9kG8/oiV9N1k7biF3dD19xU8iUcAsPN8RPItzVGRPtpKcswqOXToUAh8PkkA6NSpk5+zSjIUkkCRs0L1a73hdSbIQVQD7hXy6sR66jMBhLuGJo3oX58hicwqOWLEiKysLDKr5OTJkzMzM73NKrl69erFixeTWSXPnDnjOqtkWlraJ598kpOTc+jQIecmZD7JBx54gHTZXFfbtm3b5MmTx4wZ49rfIrNKuv5y1qNwfXZCKFaPriR/ahdERs69E3VIVdxxUe6t4VOgKKHjf2fjuLOLrWOUw+cmcs8q6f98kkRIs0qiFgBPeI/CNBQadMKKMXXj+1gfSbE+PtDiz0NP5J5V0v/5JImQZpVECLHGpBd+06PZ//XlmFVy5MiRzpX9n0+SCGlWSepwVkl/4KySgLNKAgDDs0rm5ub27NkzoCtuADBkyJDNmzeHNKskQgi5zyoJAGvWrAloQsdFixbV1NT4P6sktpIChq0kAltJ0NJbSarAVhJCiCHUhrcrKyufffZZcsP4vHnz4uLiaKWMEGo9qIWkioqKtLQ0fNwbQqFrGV2w4FDruJWXl5eVla1fv/7IkSO00kQItTbUWklGozExMbF37965ubnR0dG9evUCgA0bNuzbtw8A1q1b17VrV2/bktu0XG/0pEKj0QCAwWCgnizHcYEOWPqDjMdTT1aj0QT9rBsJHMe53tJCMVlBECIjfT/zPiDkYKD+0B2NRkN+OCaxjsPh+05r5ET/ittnn31WVVX18MMPA8CVK1fIlanY2Fit1mv4MxgMgiBQvzTGcZxWq21qovybaa1WazAYgrsmIs1gMMjx2662bdvW1tZSPzEiIyMbGxupHz9Go9Fut1O/NMbzPM/z1A8GnU4XERFRV1cnsQ7HcXJ8JbRU1FpJW7duvfPOO5OSkkpKSnr06EEWdu7cuXPnzgBQXV3t/DWNO3K2SKwQHI7jOI6jniz5vqWeLAA4HA45kgUAOR5ZTEpLPSQ5HA756kGOY0wQBOlkWXv+GOOohaTU1NS1a9cWFBTExMQMGDCAVrIIoVaFWkiKjY1duXIlrdQQQq0T3iqJEGIIhiSEEEMwJCGEGIIhCSHEEAxJCCGGYEhCCDEEQxJCiCEYkhBCDMGQhBBiCIYkhBBDMCQhhBiCIQkhxBAMSQghhmBIQggxBEMSQoghGJIQQgzBkIQQYgiGJIQQQzAkIYQYgiEJIcQQDEkIIYZgSEIIMQRDEkKIIRiSEEIMwZCEEGIIhiSEEEMwJCGEGKJVJpvIyEiJd3U6HQCYTCa6mWo0Gp7neZ6nmyzHcRzHUS8tAOh0OjmSBQCDwSAIAt00dTqdRqOhmyZJlud5jqP8ZclxnEaj0WopH/DkAJPpU2udFApJVqvVbrd7e5d8ovX19XQz5ThOr9dbrVa6yep0Oq1WS720AGAymeRINjIy0mKxSNR/cIxGo8VioR7pNBqN3W63WCx0k9VqtTzPNzY20k1Wr9cbDAbpT43neYPBQDffFgw7bgghhmBIQggxBEMSQoghGJIQQgzBkIQQYukFnvoAAAkRSURBVAiGJIQQQzAkIYQYgiEJIcQQDEkIIYZgSEIIMQRDEkKIIRiSEEIMwZCEEGIIhiSEEEMwJCGEGIIhCSHEEAxJCCGGYEhCCDEEQxJCiCEYkhBCDMGQhBBiCIYkhBBDMCQhhBiCIQkhxBAMSQghhmBIQggxhNoDuG0227p16+rq6m6++ebHHnuMVrIIoVaFWivp5MmTcXFxCxcuvHz58qVLl2glixBqVai1koqLi++66y4AiI+PLy4u7tq1a0Cbc4ufiwIAgNqshVE5S+HGawDw9q+Tt+WE7sYKrlxXds3RNUGJNG0AUT52SExUBm8pR3mqAW9b+VNyssT48qIAy+uVa22bPZVBojCid71tqA28eiUSd32tD2Fbr5atCbaYyANqIamhoaFDhw4AEBMTU1dXRxZu27bt888/B4AFCxZ07NjR27Y8zzffeN22bVuHy2sAcP4blbOUW7bGAWI+DxqSjpPjxWelN/9Pvr9cLUTiMnhf07U8ZJe9beVaV6JcXOuw6fn/C7S0Etq2betaMxKV7yy8x531faqHwLVmAs1IVP8+19dqtaIPV0QQhIAK0MpR67gZjcaqqioAqKqqMpvNZGHPnj1TU1NTU1O1Wm2jdzabzZlOY2Oj62vXf0XvOjW/tKL5pRUSZRNl5765x/Wl0wyUdBn83ND9LW8rS6wTIlHN+FPzdAvgj1AyDfRzdzgcEsd2Y2Njc3Oz71TQDRpaIfzYsWOXL18eP358Tk7OxIkTu3Xr5vpudXW13W73tq3JZAKA+vp655KonKWufRbyZeXaEXDtPoiWOxdyHGdatdi91wZu/RqPS0TLRZwFcC8neOlyupfBY5fT4665byWxL6I1Y2Jirl27Juq7uVaUxG6KSiVKvy57kfP48dahFpXTW76u/9oWrrRYLBL76J6Ux+pyXajVag0rF5I13TeU3k3nW+5VrdfrDQZDTU0NeMfzfPv27SVWQK6ohSSbzbZ+/frm5uaOHTtmZGSI3g00JFHBcZxer7darXST1el0ZrO5urqabrIAYDKZqFcC3AhJEvUfHKPRaLFYqPdKzGaz3W4XhaTQabVanuepN9kwJFFHbSxJq9VmZmbSSg0h1DrhrZIIIYZgSEIIMQRDEkKIIRiSEEIMwZCEEGIItStu0jhOKvbV1tYCgE6no56pRqPheZ5uss3NzeXl5QaDgW6yBPXSAkBpaanBYJAjZemPNTjXrl3jeV6rpXxkynQwNDU11dXVSR8MctRSC0btvqRQrFu3juO4p556Su2C+OXLL79csWLF9u3b1S6Iv+6///633nrr5ptvVrsgflm6dGl8fPyUKVPULohfjhw5smXLlry8PLUL0nJg/EYIMUShjpu0xMREjUajdin8FRMTk5qaqnYpAjB8+HDnrw7Z16dPn9jYWLVL4a+4uLj77rtP7VK0KEx03BBCiMCOG0KIISp33MJletyGhoaVK1fabDaTyZSdnX39+vVnn32WzAA1b968uLg4tQsoVllZ6VrCjh07slzPBQUFp06dAoC6urqUlJSRI0eyXL3Lli2bP39+ZGSk6OgNl4OZdYKqjh49unXrVkEQVqxY8dNPP6lbGAl79uwpKCgQBGHLli0HDhz417/+tW3bNrULJUVUwnCp5/Xr11++fJnZ6q2trZ0/f/7IkSPJFAiiWg2XSmacyh234uLi+Ph4uDE9rrqFkZCQkDBo0CAAMJvNOp2uvLy8rKxs/fr1R44cUblkXohKGBb1XFJSYjAYOnfuzGz1ms3mVatW9erVi/wrqtWwqGT2qRySPE6Py6DbbrstJiamsLDwiy++SE5ONhqNiYmJEydOPHTo0FdffaV26TwQlTAs6rmgoGD8+PHgVni1y/UL5JZL8lpUq2FRyexTeSyJTI8bHx9fVVUlMTk3Cz744INLly69+OKLRqMxJSWFLBw8ePB3333n/Npkh6iE7NdzfX29xWKJiooCt8IzWL2EqFbZr+SwoHIrKSEh4eLFiwBQUlLSo0cPdQsj4cSJE3V1dfPmzSMTYG7duvX8+fMAUFJS0qVLF7VL54GohOzX89mzZ52hh/3qJUS1yn4lhwWV70uSnh6XHRs2bPjmm2/IT5mGDx/es2fPtWvXarXamJiYuXPnMvgjpoqKCtcSOhwOxut5zZo1EyZMIFO2iwrPWvW+9NJLCxYsIFfcXGs1XA5mxuGtkgghhrD1/YMQauUwJCGEGIIhCSHEEAxJCCGGYEhCCDEEQ1I4ef/995OTk6uqqu64444gNnduSNKhXTqEKGBiCjfkp7S0tP79+/tczW6319TUREdHh5gOQsrDVlI4+eqrr+bPnz979uySkpI5c+YAwJo1a+Lj43v27Ll48WIAOH78eHp6elJSUl5eniAITz/99E033XTXXXdlZmYKguDckKQDAIsXLya3HS9dupRsPmXKlOzs7Iceeig9Pb2+vl7V3UWtkroTEaCAHDt27OGHH66srOzZs6cgCIcOHerbt29VVdX169cffPDBTZs2HTt2rG3btt9//70gCP/4xz8eeOCBpqampqamhISEb7/91rkhSWfv3r39+/evr6+vr69PSUnZv3//sWPHDAbD1atXBUEYNWrUjh071N1f1Aphxy2MHTlypLq6Oj09HQBKS0sLCwu7d+8+cOBAMkVGYmLie++9d+DAgdOnT1+5csVqtbpvnpGRYTQaAWDKlClHjhwZMWLEgAED2rdvDwDx8fHumyAkNwxJYcxoNM6cOTMrKwsA7Ha7IAinTp0iPwwGgBMnTkybNm3q1KnDhw//7LPP3DcXBME5z4ZGo7Hb7QAgMQKFkAJwLCks2Ww2ALj//vu3bNlSW1vb3Nw8dOjQnTt3uq5z8OBBMmNsp06dvvnmm+bmZueGxG9/+9tNmzZZrVaLxbJp0yYyRx1C6sKQFH7atWvXrl27xx9/PDk5OSMjIzk5uUePHn369Bk3bpzrapMnTz537tw999zzzDPPzJkzZ/Hixc4NyQojRowYNGhQUlJSUlLSsGHD0tLSXDfnOI76I2cR8glnAkAIMQRbSQghhmBIQggxBEMSQoghGJIQQgzBkIQQYgiGJIQQQzAkIYQY8v8q9cW8Ih+4vAAAAABJRU5ErkJggg==" alt=""/></p>

<h3>n = 10000000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5271877 281.6   10014072 534.9 10014072 534.9
Vcells 31454941 240.0   56374685 430.2 46899090 357.9
&gt; stats &lt;- microbenchmark(count_x_S = count(x_S, value), `count(x, idxs)` = count(x, idxs = idxs, value), 
+     `count(x[idxs])` = count(x[idxs], value), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 10000000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">0.0059</td>
<td align="right">0.0094465</td>
<td align="right">0.0248483</td>
<td align="right">0.0177655</td>
<td align="right">0.0427385</td>
<td align="right">0.055075</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">136.6413</td>
<td align="right">170.1397175</td>
<td align="right">175.2896384</td>
<td align="right">175.8852105</td>
<td align="right">181.4416970</td>
<td align="right">211.675733</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">177.3310</td>
<td align="right">203.5489875</td>
<td align="right">207.9774607</td>
<td align="right">208.3212475</td>
<td align="right">212.3906635</td>
<td align="right">228.060823</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">count_x_S</td>
<td align="right">1.00</td>
<td align="right">1.00</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">count(x[idxs])</td>
<td align="right">23159.55</td>
<td align="right">18010.87</td>
<td align="right">7054.403</td>
<td align="right">9900.381</td>
<td align="right">4245.392</td>
<td align="right">3843.409</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">count(x, idxs)</td>
<td align="right">30056.10</td>
<td align="right">21547.56</td>
<td align="right">8369.900</td>
<td align="right">11726.169</td>
<td align="right">4969.539</td>
<td align="right">4140.914</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of count_x_S(), count(x, idxs)() and count(x[idxs])() on double+n = 10000000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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5Tp48OCZM2c++eQTl8s1aNCgtLS0KVOmMEwQmlQ0B70HAIA4Ukl69913t27dmpaWNnTo0Icfflin01VUVFy4cGHHjh25ubnjxo3rTOco6SuBGgJApyGVpLq6ujfffJPjOOHIrbfeOnnyZKfTuWfPns71zcOSpAAAdG2kkvTb3/5WcoTneZ1Op9fr3X/qNKCdAgBhgufh7dLS0oMHDz7//PP333//Bx98sHnz5mCFYQMxAsIQde9qREVFEfek8/E8Yj1//vyJEyeeOnWqtbW1oqJizZo1newWAADhiWdJamtrGzVq1KFDhzIzMxMSEhwORye7BQBAeOK545aSkpKTk3Ps2LHz58+vXLmyd+/enewWAADhiedW0q5du9LT0996661u3bqxLNv5c20AAIQnnltJRqPxxhtv/Oyzzz777LObb775zJkzN910U+c6BgBAaOByuXJzcysqKpqbm6dMmfLHP/4xEGueJen+++83mUxC6DWGYYSlRwAACArMlUvMx2d4PedK/xXfjfx3vAKlpaXnzp1bunSpwvTvvPMOQujIkSMIoZEjR2ZlZQUSRs6zJBkMhn379qk26rtUvV7m8xT8GhTxEAUMw4hfASVlEyGkhVniNvGyHyHhql6v1+l0WtQAz/Nkv4vCywHIu0qmxB8a9Dv+jDfZc6fbn3wG6X18oHr16tVHH30UITR48OCFCxfOmTNHp9N17979pZde2rJlS79+/SZMmPDMM8+MGjXqq6++On/+fERERFVV1e7du1966aXKyspp06aJQ1QXFRX17t17zJgxOTk5hw4dEp9Uz549z507d/LkyWHDhmFhCgTPlZWcnPzuu++2t7d3/EiAxQAAEAhMTbV4V3fN9/t6RUVF8+bN279/v91u/9Of/jR9+vQDBw5079790KFD7olNJtOGDRvuuOOO48ePz5kzR6JHCKFFixb99a9/zcvLKyoqkohsamrqpk2bXn311bvuuqugoKCtrU3VKf4Pr0I7depUvOoR5rvvvgukGAlOp1NG5niedzqdxN88MBgMxG1GRES4XK6QcBW3kkLCVYQQz/Na1ID8hacCfHPKu0pkSSU+tsfP9qN9d9wqKiry8/MRQkVFRdOnT//d736HEBo6dOi//vUvwSWn04k3Bg0ahBCKiorq6OjQe2p/6fX6hx56aN++fQMHDpT89O233955553b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" alt=""/></p>

<h2>Appendix</h2>

<h3>Session information</h3>

<pre><code class="r">R version 4.1.1 Patched (2021-08-10 r80727)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.04.5 LTS

Matrix products: default
BLAS:   /home/hb/software/R-devel/R-4-1-branch/lib/R/lib/libRblas.so
LAPACK: /home/hb/software/R-devel/R-4-1-branch/lib/R/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] microbenchmark_1.4-7   matrixStats_0.60.1     ggplot2_3.3.5         
[4] knitr_1.33             R.devices_2.17.0       R.utils_2.10.1        
[7] R.oo_1.24.0            R.methodsS3_1.8.1-9001 history_0.0.1-9000    

loaded via a namespace (and not attached):
 [1] Biobase_2.52.0          httr_1.4.2              splines_4.1.1          
 [4] bit64_4.0.5             network_1.17.1          assertthat_0.2.1       
 [7] highr_0.9               stats4_4.1.1            blob_1.2.2             
[10] GenomeInfoDbData_1.2.6  robustbase_0.93-8       pillar_1.6.2           
[13] RSQLite_2.2.8           lattice_0.20-44         glue_1.4.2             
[16] digest_0.6.27           XVector_0.32.0          colorspace_2.0-2       
[19] Matrix_1.3-4            XML_3.99-0.7            pkgconfig_2.0.3        
[22] zlibbioc_1.38.0         genefilter_1.74.0       purrr_0.3.4            
[25] ergm_4.1.2              xtable_1.8-4            scales_1.1.1           
[28] tibble_3.1.4            annotate_1.70.0         KEGGREST_1.32.0        
[31] farver_2.1.0            generics_0.1.0          IRanges_2.26.0         
[34] ellipsis_0.3.2          cachem_1.0.6            withr_2.4.2            
[37] BiocGenerics_0.38.0     mime_0.11               survival_3.2-13        
[40] magrittr_2.0.1          crayon_1.4.1            statnet.common_4.5.0   
[43] memoise_2.0.0           laeken_0.5.1            fansi_0.5.0            
[46] R.cache_0.15.0          MASS_7.3-54             R.rsp_0.44.0           
[49] progressr_0.8.0         tools_4.1.1             lifecycle_1.0.0        
[52] S4Vectors_0.30.0        trust_0.1-8             munsell_0.5.0          
[55] tabby_0.0.1-9001        AnnotationDbi_1.54.1    Biostrings_2.60.2      
[58] compiler_4.1.1          GenomeInfoDb_1.28.1     rlang_0.4.11           
[61] grid_4.1.1              RCurl_1.98-1.4          cwhmisc_6.6            
[64] rappdirs_0.3.3          startup_0.15.0          labeling_0.4.2         
[67] bitops_1.0-7            base64enc_0.1-3         boot_1.3-28            
[70] gtable_0.3.0            DBI_1.1.1               markdown_1.1           
[73] R6_2.5.1                lpSolveAPI_5.5.2.0-17.7 rle_0.9.2              
[76] dplyr_1.0.7             fastmap_1.1.0           bit_4.0.4              
[79] utf8_1.2.2              parallel_4.1.1          Rcpp_1.0.7             
[82] vctrs_0.3.8             png_0.1-7               DEoptimR_1.0-9         
[85] tidyselect_1.1.1        xfun_0.25               coda_0.19-4            
</code></pre>

<p>Total processing time was 1.48 mins.</p>

<h3>Reproducibility</h3>

<p>To reproduce this report, do:</p>

<pre><code class="r">html &lt;- matrixStats:::benchmark(&#39;count_subset&#39;)
</code></pre>

<hr/>

<p>Copyright Dongcan Jiang. Last updated on 2021-08-25 18:20:34 (+0200 UTC). Powered by <a href="https://cran.r-project.org/package=R.rsp">RSP</a>.</p>

<script>
 var link = document.createElement('link');
 link.rel = 'icon';
 link.href = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA21BMVEUAAAAAAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8BAf4CAv0DA/wdHeIeHuEfH+AgIN8hId4lJdomJtknJ9g+PsE/P8BAQL9yco10dIt1dYp3d4h4eIeVlWqWlmmXl2iYmGeZmWabm2Tn5xjo6Bfp6Rb39wj4+Af//wA2M9hbAAAASXRSTlMAAQIJCgsMJSYnKD4/QGRlZmhpamtsbautrrCxuru8y8zN5ebn6Pn6+///////////////////////////////////////////LsUNcQAAAS9JREFUOI29k21XgkAQhVcFytdSMqMETU26UVqGmpaiFbL//xc1cAhhwVNf6n5i5z67M2dmYOyfJZUqlVLhkKucG7cgmUZTybDz6g0iDeq51PUr37Ds2cy2/C9NeES5puDjxuUk1xnToZsg8pfA3avHQ3lLIi7iWRrkv/OYtkScxBIMgDee0ALoyxHQBJ68JLCjOtQIMIANF7QG9G9fNnHvisCHBVMKgSJgiz7nE+AoBKrAPA3MgepvgR9TSCasrCKH0eB1wBGBFdCO+nAGjMVGPcQb5bd6mQRegN6+1axOs9nGfYcCtfi4NQosdtH7dB+txFIpXQqN1p9B/asRHToyS0jRgpV7nk4nwcq1BJ+x3Gl/v7S9Wmpp/aGquum7w3ZDyrADFYrl8vHBH+ev9AUASW1dmU4h4wAAAABJRU5ErkJggg=="
 document.getElementsByTagName('head')[0].appendChild(link);
</script>

</body>

</html>
