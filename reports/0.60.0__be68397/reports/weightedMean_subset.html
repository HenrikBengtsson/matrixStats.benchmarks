<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>weightedMean() benchmarks on subsetted computation</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>

<meta name="author" content="Dongcan Jiang">

</head>

<body>
<p><a href="https://cran.r-project.org/package=matrixStats">matrixStats</a>: Benchmark report</p>

<hr/>

<h1>weightedMean() benchmarks on subsetted computation</h1>

<p>This report benchmark the performance of weightedMean() on subsetted computation.</p>

<h2>Data type &ldquo;integer&rdquo;</h2>

<h3>Data</h3>

<pre><code class="r">&gt; rvector &lt;- function(n, mode = c(&quot;logical&quot;, &quot;double&quot;, &quot;integer&quot;), range = c(-100, +100), na_prob = 0) {
+     mode &lt;- match.arg(mode)
+     if (mode == &quot;logical&quot;) {
+         x &lt;- sample(c(FALSE, TRUE), size = n, replace = TRUE)
+     }     else {
+         x &lt;- runif(n, min = range[1], max = range[2])
+     }
+     storage.mode(x) &lt;- mode
+     if (na_prob &gt; 0) 
+         x[sample(n, size = na_prob * n)] &lt;- NA
+     x
+ }
&gt; rvectors &lt;- function(scale = 10, seed = 1, ...) {
+     set.seed(seed)
+     data &lt;- list()
+     data[[1]] &lt;- rvector(n = scale * 100, ...)
+     data[[2]] &lt;- rvector(n = scale * 1000, ...)
+     data[[3]] &lt;- rvector(n = scale * 10000, ...)
+     data[[4]] &lt;- rvector(n = scale * 1e+05, ...)
+     data[[5]] &lt;- rvector(n = scale * 1e+06, ...)
+     names(data) &lt;- sprintf(&quot;n = %d&quot;, sapply(data, FUN = length))
+     data
+ }
&gt; data &lt;- rvectors(mode = mode)
&gt; data &lt;- data[1:4]
</code></pre>

<h2>Results</h2>

<h3>n = 1000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5297702 283.0   10014072 534.9 10014072 534.9
Vcells 11559610  88.2   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 1000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">0.003030</td>
<td align="right">0.0031275</td>
<td align="right">0.0032509</td>
<td align="right">0.0032060</td>
<td align="right">0.003281</td>
<td align="right">0.006580</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">0.006169</td>
<td align="right">0.0064330</td>
<td align="right">0.0077900</td>
<td align="right">0.0066195</td>
<td align="right">0.006726</td>
<td align="right">0.109390</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">0.008178</td>
<td align="right">0.0084105</td>
<td align="right">0.0085985</td>
<td align="right">0.0085505</td>
<td align="right">0.008666</td>
<td align="right">0.011293</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">2.035974</td>
<td align="right">2.056914</td>
<td align="right">2.396230</td>
<td align="right">2.064722</td>
<td align="right">2.049985</td>
<td align="right">16.624620</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">2.699010</td>
<td align="right">2.689209</td>
<td align="right">2.644918</td>
<td align="right">2.667031</td>
<td align="right">2.641268</td>
<td align="right">1.716261</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 1000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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fGjwfO8+bvWNLPZChpOfJant7KIY/tSrKoXPAjjJ90ISUXZW3IzZ6fAG3PZOY+LSG2MoudpSA35qXP4G3BSH4CuHDyphd1n6li1bZs6caTabP/30U092qEGS/E6GJ5t2snXniyMegULSo6T58+efOnWqsLCQYZg1a9acOHFCSdoXUDPvRqWGR1Up3M6dO3f+/PmRI0fWqxRPcCB8r+wdwsqVK8eMGePWRaHSo6ScnJyPP/64bdu2LMt+8cUX1lQMAD6quq7m09JDX5SdsHA0i8XEVJXCLSsra8iQIRQFibIDsRo9evTq1avpGlJIOiSZTCbrorWamhqvrzEHcEZVXc3oC/MnFCwaeeH15IKFHHFwO1VCSEJCQm1t7fLly/lTfcCAARcvXkxKShowYMCkSZMsFktWVhafyWjQoEFDhgzp16/frl27CCE5OTmJiYkDBw40mUwbNmz45JNPTp8+bVvwl19+eeKJJ4YMGZKdnc23xadwI4TwKdwIIbdv37YtcuXKlaFDhw4dOnTcuHF8088///wrr7wyfPjwu3fvVldXV1dX+/n5paenb968+caNG4MGDbJdpis+lhs3blif5Q9E0Cvbqo4fPz5s2LDExMS1a9e2atWqoKDAhW+NmHRISklJ6d+//6+//pqent6rV6/nnnvOrZ0AcKtD5WcPlp/lf86/deTnmssOi/hQCrfz589HREQQ+8nbHGZuI4QIemVb1WeffTZ27NhPP/2UX+AeHBxcUuI4Bx416ZCUmpq6dOnSsWPHWiyW995778UXX3RfDwDcLUDzhwRJBo3eYRHJFG7btm2bOnXqzz//bI0mFy5c4Mc18incbAvKp3Dr1q2buEirVq2ysrKee+45yRRuv/32G39bMz55261btwTJ2xxmbiOECHplW9Wzzz67Y8eOgQMH+vn5EULCw8N//fVXxy86Lbu3lqypqXnggQfat29/4cIFzCWBT/tzk24jQp/gf05tOybcr4X8/sSnUrjdc889V69eJfaTtznM3EYIEfTKtqpDhw4tWbJk586dixcvJoRcvXrVrfcravh3KAHQMJqsyL99F/PB+e7Z89pPVFLEmu2sV69efLazGTNmfPLJJ0lJSQcPHrSGpDlz5vzjH/8YM2aMvRRu27dv79evn23BV1999e9///uIESP8/f0DAwP5PePi4r788kv+qo0QImgr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" alt=""/></p>

<h3>n = 10000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5294874 282.8   10014072 534.9 10014072 534.9
Vcells 10444382  79.7   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 10000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">0.014735</td>
<td align="right">0.0154050</td>
<td align="right">0.0171551</td>
<td align="right">0.0161145</td>
<td align="right">0.0172820</td>
<td align="right">0.046257</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">0.040105</td>
<td align="right">0.0415205</td>
<td align="right">0.0445116</td>
<td align="right">0.0450020</td>
<td align="right">0.0470255</td>
<td align="right">0.065054</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">0.052640</td>
<td align="right">0.0557830</td>
<td align="right">0.0616424</td>
<td align="right">0.0603270</td>
<td align="right">0.0625240</td>
<td align="right">0.131930</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">2.721751</td>
<td align="right">2.695261</td>
<td align="right">2.594656</td>
<td align="right">2.792640</td>
<td align="right">2.721068</td>
<td align="right">1.406360</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">3.572447</td>
<td align="right">3.621097</td>
<td align="right">3.593239</td>
<td align="right">3.743647</td>
<td align="right">3.617868</td>
<td align="right">2.852109</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 10000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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crltz9PT0x955JHu3buPGDFi3759ts+B2b+or776KiQkhDogNDT07NmzJ06cSExMxIHJ85hv3CIjIw8cOFBXV2f5Hw93yxb1Wbj7PhG3HSI57gC38zMGtUZzR+PgVQhkHYOotMT2W+Ke88QGSUlJ58+fP3/+/L179ywWi8Fg2LFjx7Bhww4ePBgVFUXdnS1btmzy5Mm5ubk4nzdCqHXr1nv27ImNjT116tSoUaMGDhx48OBB24qLFy+eNWsWnqjFVaKjo69evYoQ2r17d2pqKkJo1apVtlX++uuvmTNn7tq1y2KxlJSUIISUSmVGRsbTTz9NZaSjTJ06ddOmTVOmTElPT6c9l2r/omzjEUIoLi5u5cqVGzdujImJmTlzJuc1w3zU+7diwIABLVv+k0Xw5s2bHumPRzmORC5U32irEaDWbbF86sUrSHXwQ983c37j1q1bt2PHjplMptjY2B07djz77LO///77hQsXfvzxR4RQhw4dDAYDQujatWtz585FCHXu3BlXTEhIQAi1bNnSbDbjElrFP/74IykpiToS69ix4+XLly9evDh58mT7KqGhoR988MGmTZt+++03nJM3NjYWIRQQEGA/XJBIJIMHD965c+dTTz3l9EXRDrhx40aHDh3Wrl2r0+n69eu3Z8+eQYMGOb1WrsU8Sjp16pRWq71pw8PdEjgXzqw7uN3zrWEU9USeAJGhrcy9UxFCVk2keegI8uE7HUbPP//8zp07IyIikpOTly5d2q1bt8jIyF69en3xxRc9e/aMjIzEhz322GPnz59HCF28eBGX0B6QJEmSVvHxxx/Pz89HCNnmsezXr9+KFSsee+wx/PAWrcqKFStef/31zz//vFWrVviZGwdpOQwGw9dff92qVasTJ044fVG0A/bu3bt+/XqEkEql6tSpk1dGScwvLCoqihqIAkaMwUj33OGKTt/Ryu1n1ml17UOP7be+EpWEPEpCCFk7xdfNXWwelmZtF8XmeKVSqVQqk5KSkpOTr1y5kpycPGHChG+++SY1NTUvL48KSbNmzfrkk09ee+01giDsHxtu3br1rl27unXrZltx9uzZH3/88aBBg+RyOfWgcnx8/KFDh/BdG0KI1lZqauqKFSuGDx+u0Wi2bt1KnV+hUAQGBtIaXbBgwZQpUzIyMubMmUON1Op7UbS6b7311pkzZ7p169alS5eK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" alt=""/></p>

<h3>n = 100000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5294946 282.8   10014072 534.9 10014072 534.9
Vcells 10660942  81.4   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 100000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">0.092368</td>
<td align="right">0.1005510</td>
<td align="right">0.1183063</td>
<td align="right">0.1162105</td>
<td align="right">0.1300545</td>
<td align="right">0.184715</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">0.511054</td>
<td align="right">0.5179025</td>
<td align="right">0.5896254</td>
<td align="right">0.5522175</td>
<td align="right">0.6237455</td>
<td align="right">1.794931</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">0.612900</td>
<td align="right">0.6671605</td>
<td align="right">0.7309493</td>
<td align="right">0.7088990</td>
<td align="right">0.7869495</td>
<td align="right">0.957931</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">5.532804</td>
<td align="right">5.150645</td>
<td align="right">4.983888</td>
<td align="right">4.751873</td>
<td align="right">4.796032</td>
<td align="right">9.717300</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">6.635415</td>
<td align="right">6.635046</td>
<td align="right">6.178448</td>
<td align="right">6.100129</td>
<td align="right">6.050921</td>
<td align="right">5.185995</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 100000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 1000000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5295018 282.8   10014072 534.9 10014072 534.9
Vcells 12820991  97.9   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 1000000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.529211</td>
<td align="right">1.735359</td>
<td align="right">1.789644</td>
<td align="right">1.751481</td>
<td align="right">1.87536</td>
<td align="right">2.800696</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">11.744704</td>
<td align="right">12.112270</td>
<td align="right">12.773326</td>
<td align="right">12.326488</td>
<td align="right">12.74504</td>
<td align="right">21.774329</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">11.672384</td>
<td align="right">12.198294</td>
<td align="right">13.172871</td>
<td align="right">12.503631</td>
<td align="right">12.90630</td>
<td align="right">21.877783</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">7.680238</td>
<td align="right">6.979689</td>
<td align="right">7.137358</td>
<td align="right">7.037751</td>
<td align="right">6.796053</td>
<td align="right">7.774614</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">7.632945</td>
<td align="right">7.029261</td>
<td align="right">7.360611</td>
<td align="right">7.138890</td>
<td align="right">6.882036</td>
<td align="right">7.811552</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on integer+n = 1000000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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K1eulJSUxMfH/+1vf/N9GRynpD59+hiNxqeffpq+VSqVImsZQJ6Ud24pz2Uzao299WtMsBfuUJkyZYrbeQ4dOnT27Nm//vWvrmczGAwnT55s164dwzAXLlyoW7eu9OJ55quvviKEHD58mBDSoUOHhIQE349p5zglabXazMxMHxcFoKI8KlKn/4O+VJ09VTr9PaJ2c8N5XFzcsWPHli9ffvTo0e3bt3fp0uXjjz9OSkqyWCwNGjT49NNP165dGxgY2LZt21GjRul0uuLiYnrdTEZGxsaNG0tLS3fu3Ll69eqrV6927Nhx3rx57IK//vrrqFGjatSoYTabR44cSQiJj4/fvn17u3btzp0798orr9y8efPhw4fDhg1jF7l379748eMJIUajcf369WvXrs3JydHpdDdu3Ni0aZNOp+OWPDU1tV69eq+//vqwYcP27NnDvQ9MuFGfffZZ7dq12Rnq1Klz9uzZkydPxsXF0cTke477kpo2bbp37176WBHKx8UC8CLlzd8Nr6d44P6+vzZt2pw/f/78+fMPHjyw2Wxms3nr1q2DBw/et2/fc889t2XLFjrb4sWL33333e3bt9PDLkJIw4YNd+7cGR0dnZWVNXLkyH79+u3bt4+74IIFC6ZPn047aukikZGRly9fJoTs2LEjPj6eELJixQruIrdv305OTt62bZvNZsvNzSWEGI3GJUuWvPzyy8ePH+eVfPLkyevXr09MTExNTeXdlyrcKG4+IoTExMQsW7Zs3bp1LVq0SE5OfvLkieg69hqnd9L27du3cePGjf7L2Wzz58+nz8CxWq1paWlz587FdZUgN0xord+9r+H+wK1z587Hjx8vKyuLjo7eunVrq1atfv75561bt7711lvXrl1js8mVK1deeeUVQgj9nxDSunVrQkhYWBg7NgNvwV9++aVNmzbsnFRUVNSlS5cuXLjQokUL4SJ16tRJT08fO3bsDz/8QMfkjY6OJoQEBQUJmwtqtXrgwIEPHjxo1qyZ243izXD9+vXmzZuvWrUqKysrJydn586dbivK6xynpKysrIKCgv9wCOcxmUxJSUmnT5+mb0+dOlW/fv1Zs2bduXPn5s2bFVhkgHJi6tS1do8nhNgjmloHDWN+f6TjULt27TIzM8PDw9u2bbto0aLOnTs3bdq0W7dun376adeuXZs2bUpne/bZZ8+fP08I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" alt=""/></p>

<h2>Data type &ldquo;double&rdquo;</h2>

<h3>Data</h3>

<pre><code class="r">&gt; rvector &lt;- function(n, mode = c(&quot;logical&quot;, &quot;double&quot;, &quot;integer&quot;), range = c(-100, +100), na_prob = 0) {
+     mode &lt;- match.arg(mode)
+     if (mode == &quot;logical&quot;) {
+         x &lt;- sample(c(FALSE, TRUE), size = n, replace = TRUE)
+     }     else {
+         x &lt;- runif(n, min = range[1], max = range[2])
+     }
+     storage.mode(x) &lt;- mode
+     if (na_prob &gt; 0) 
+         x[sample(n, size = na_prob * n)] &lt;- NA
+     x
+ }
&gt; rvectors &lt;- function(scale = 10, seed = 1, ...) {
+     set.seed(seed)
+     data &lt;- list()
+     data[[1]] &lt;- rvector(n = scale * 100, ...)
+     data[[2]] &lt;- rvector(n = scale * 1000, ...)
+     data[[3]] &lt;- rvector(n = scale * 10000, ...)
+     data[[4]] &lt;- rvector(n = scale * 1e+05, ...)
+     data[[5]] &lt;- rvector(n = scale * 1e+06, ...)
+     names(data) &lt;- sprintf(&quot;n = %d&quot;, sapply(data, FUN = length))
+     data
+ }
&gt; data &lt;- rvectors(mode = mode)
&gt; data &lt;- data[1:4]
</code></pre>

<h2>Results</h2>

<h3>n = 1000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5295093 282.8   10014072 534.9 10014072 534.9
Vcells 10979865  83.8   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 1000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">0.003453</td>
<td align="right">0.0035845</td>
<td align="right">0.0038786</td>
<td align="right">0.0036895</td>
<td align="right">0.0038585</td>
<td align="right">0.012532</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">0.006469</td>
<td align="right">0.0066445</td>
<td align="right">0.0071693</td>
<td align="right">0.0067965</td>
<td align="right">0.0069415</td>
<td align="right">0.037072</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">0.008162</td>
<td align="right">0.0084705</td>
<td align="right">0.0087943</td>
<td align="right">0.0087070</td>
<td align="right">0.0089310</td>
<td align="right">0.012556</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">1.873443</td>
<td align="right">1.853676</td>
<td align="right">1.848445</td>
<td align="right">1.842119</td>
<td align="right">1.799015</td>
<td align="right">2.958187</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">2.363742</td>
<td align="right">2.363091</td>
<td align="right">2.267412</td>
<td align="right">2.359940</td>
<td align="right">2.314630</td>
<td align="right">1.001915</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 1000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5295162 282.8   10014072 534.9 10014072 534.9
Vcells 11004977  84.0   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 10000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">0.017715</td>
<td align="right">0.0184150</td>
<td align="right">0.0199885</td>
<td align="right">0.0194535</td>
<td align="right">0.0205305</td>
<td align="right">0.026299</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">0.041036</td>
<td align="right">0.0424405</td>
<td align="right">0.0456035</td>
<td align="right">0.0446780</td>
<td align="right">0.0471940</td>
<td align="right">0.068627</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">0.054844</td>
<td align="right">0.0579820</td>
<td align="right">0.0633196</td>
<td align="right">0.0614620</td>
<td align="right">0.0666520</td>
<td align="right">0.124900</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">2.316455</td>
<td align="right">2.304670</td>
<td align="right">2.281484</td>
<td align="right">2.296656</td>
<td align="right">2.298726</td>
<td align="right">2.609491</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">3.095907</td>
<td align="right">3.148629</td>
<td align="right">3.167802</td>
<td align="right">3.159432</td>
<td align="right">3.246487</td>
<td align="right">4.749230</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 10000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 100000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5295234 282.8   10014072 534.9 10014072 534.9
Vcells 11252525  85.9   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 100000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">0.115561</td>
<td align="right">0.1251500</td>
<td align="right">0.1412913</td>
<td align="right">0.1359490</td>
<td align="right">0.1521305</td>
<td align="right">0.230375</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">0.357995</td>
<td align="right">0.4129085</td>
<td align="right">0.4741754</td>
<td align="right">0.5023760</td>
<td align="right">0.5128295</td>
<td align="right">0.618555</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">0.483327</td>
<td align="right">0.5543125</td>
<td align="right">0.6715647</td>
<td align="right">0.6678935</td>
<td align="right">0.7813360</td>
<td align="right">1.122051</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">3.097888</td>
<td align="right">3.299309</td>
<td align="right">3.356013</td>
<td align="right">3.695327</td>
<td align="right">3.370984</td>
<td align="right">2.684992</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">4.182440</td>
<td align="right">4.429185</td>
<td align="right">4.753051</td>
<td align="right">4.912824</td>
<td align="right">5.135959</td>
<td align="right">4.870541</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 100000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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xeWLiq+PMyo1nfYgE9UCO1Rmz57tMc7+/ftPnTr1pz/9yX20iIiII0eOPPTQQwzDfPPNN7Gxsf5XTxqffvopABw4cAAAMjMzc3NzA+/TTlySNBpNWVlZgKviD75qiujqvhatkc/w9rhxD27iDS2hHvnMrQZV8V/JR+WpY/b5y0DlwXlhenr6wYMHi4qKvvrqqx07dgwaNOitt96aN2+e1Wrt0qXL3//+9w0bNhiNxn79+k2cOFGr1TY1NZF1M6WlpVu2bLHb7bt27XrnnXeqq6v79++/fPlyNuF//vOfiRMntm/f3mKxTJgwAQCys7N37Njx0EMPff3113379q2trb158+bYsWPZJFevXp02bRoA6PX6TZs2bdiw4cyZM1qt9sKFCyUlJbwp2vz8/DvuuGPgwIFjx4795JNPuFPAwod677332HknAIiJiTl16tSRI0fS09OJMAUe8RnrhISEPXv22O125y8EuFotTqgspOQhXMGEeiQBRW0N95K64bkNMzIyTp8+ffr06Rs3bjidTovFsn379tGjR3/22Wd33333tm3bSLSVK1e++OKLO3bsYKc7u3btumvXruTk5IqKigkTJuTk5Hz22WfchK+++ur8+fN37NgRFRVFkvTs2fPcuXMAsHPnzuzsbABYu3YtN8mlS5fy8vI++ugjp9NZU1MDAHq9ftWqVb///e9Zj3Qss2bN2rRp08yZM/Pz83lLUoQPxdUjAEhJSSksLNy4cWNSUlJeXp7kEQx/cLmIZuTIkb/97W/v/IUAVikQeL8OEAkDGFPnX12399xxGzBgwKFDh5qbm5OTk7dv337//ff/+9//3r59+6RJk86fP8+qSWVlZd++fQGA/A8AZDa5U6dODsd/F77yEv7www9k9pnEJCQmJp49e/abb75JSkoSJomJiSkuLp4yZcp3331HVmkkJycDQGRkpOgymqeeeurGjRu9evXy+FC8CD/++GPv3r3Xr19fUVFx5syZXbt2eWyoFkdckioqKurq6n7iEOBqtQjCVcvCuyHhegnxEyYm1jE0GwDo+ATHqLGM68WoLA899FBZWVn37t379ev3xhtvDBgwICEhYciQIX//+98HDx6ckJBAot11111k3e8333xDQlS/7hIyDMNL+Nvf/vbYsWMAcPLkSTba8OHDV69efdddd5F1WLwkq1evfuaZZ/72t7/F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" alt=""/></p>

<h3>n = 1000000 vector</h3>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; idxs &lt;- sample.int(length(x), size = length(x) * 0.7)
&gt; x_S &lt;- x[idxs]
&gt; w &lt;- runif(length(x))
&gt; w_S &lt;- w[idxs]
&gt; gc()
           used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells  5295306 282.8   10014072 534.9 10014072 534.9
Vcells 13727986 104.8   36267018 276.7 90959857 694.0
&gt; stats &lt;- microbenchmark(weightedMean_x_w_S = weightedMean(x_S, w = w_S, na.rm = FALSE), `weightedMean(x, w, idxs)` = weightedMean(x, 
+     w = w, idxs = idxs, na.rm = FALSE), `weightedMean(x[idxs], w[idxs])` = weightedMean(x[idxs], 
+     w = w[idxs], na.rm = FALSE), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 1000000 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">2.095751</td>
<td align="right">2.414204</td>
<td align="right">2.527729</td>
<td align="right">2.545466</td>
<td align="right">2.667769</td>
<td align="right">3.35187</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">14.508155</td>
<td align="right">15.779084</td>
<td align="right">16.415901</td>
<td align="right">16.223833</td>
<td align="right">16.656965</td>
<td align="right">24.89542</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">14.918587</td>
<td align="right">16.212011</td>
<td align="right">17.186511</td>
<td align="right">16.576955</td>
<td align="right">17.131798</td>
<td align="right">24.35490</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">1</td>
<td align="left">weightedMean_x_w_S</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">weightedMean(x, w, idxs)</td>
<td align="right">6.922652</td>
<td align="right">6.535938</td>
<td align="right">6.494329</td>
<td align="right">6.373620</td>
<td align="right">6.243781</td>
<td align="right">7.427324</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">weightedMean(x[idxs], w[idxs])</td>
<td align="right">7.118492</td>
<td align="right">6.715263</td>
<td align="right">6.799192</td>
<td align="right">6.512346</td>
<td align="right">6.421770</td>
<td align="right">7.266063</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of weightedMean_x_w_S(), weightedMean(x, w, idxs)() and weightedMean(x[idxs], w[idxs])() on double+n = 1000000 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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ryVFREQcPnzYZDI1/Y6b3QIAJyKvKKe/ld23v1erT58+Fy5cuHDhwv3795uamhoaGvbt2zd58uQjR4507dp17969uNiqVavefPPN/Px8PO1CCHXo0OHgwYMxMTFFRUXTpk0bN27ckSNH6BXffffdhQsX4oVaXCUyMvKHH35ACB04cCAhIQEhtGHDBnqVmzdvZmRk7N+/v6mpqby8HCGk0+lWr179l7/8hcpIR5GWlrZjx47U1NSsrCzGTULsTtH1CCEUGxubnZ29ffv26OjojIwMMTdvOozN34rnn3++des/8gH++uuvbvEHAJwPGRzyp/ct7U/chgwZ8s0335jN5piYmH379vXq1et///tfSUnJ0aNHEULdu3fHNwmXlpYuXrwYIdSzZ09csXfv3gih1q1bUxmsGBWvXbvWp08fqiQmKirq8uXLFy9efPPNN9lV2rRp88477+zYseP777/HOXljYmIQQgEBAexwQaFQTJw4MS8vr1u3bnY7xSjw888/d+/effPmzXV1dYmJiQcPHpwwYYLdsXIu3FFSUVFRVVXVrzTc7BYAOBGyTVvLyASEkDU8wjIpmRRw01z//v3z8vI6derUr1+/lStXDhkyJCIiYsSIER9++OHw4cMjIiJwsccee+zChQsIoYsXL+Ijij9PCUmSZFR8/PHHz5w5gxCi57FMTExcu3btY489hu9jZ1RZu3btiy+++J///Kdt27b4Bi+ee6QbGho+/vjjtm3bnj592m6nGAUKCgq2bt2KENLr9T169PBIlMTdsa5du1KBKAD4ANYecabF71omT7V26SqkvE6n0+l0ffr06dev39WrV/v16/f6669/8sknCQkJhYWFlCQtXLjw3//+9wsvvCCTyXQ6HcNIhw4d9u/fP2TIEHrFf/7zn//6178mTJigVqupvCtxcXFffvklnrUhhBhtJSQkrF27dsqUKeHh4bt376bsazSaRx55hNHo0qVLU1NTV69evWjRIkauUXanGHVfe+214uLiIUOG9O3bt7Ky0iMXtbgT3SYmJuIlLkqYRF6VdEqiWzZOyQRQV1fn8UwAIgdBSKJbHpqV6JYT8YPgxES37rzH7csvv7RYLD169Jg6deqOHTsYSzOAA3CvJS1YsAA/cwYAAB769u2bk5Pz+eefU1me3cydO3d27txJP/L6669rtVr+j+zW9SDMKKmh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wZCWloYzqO7Zs+fSpUvYk3bt2rnBAUaLnhqK7777jpIe9w8CBaP7HvxiAFLAY/uSLBbL+vXrzWZzaGhocnKyO5veuHHj1atX8b11o0aNioyMXLNmjUKhCA4Onjt3rhtuqrp37x69RavV6pGhWL169cSJE3FWYoZLbhiEt956a9GiRfiKG737HvxiAFIAtkoCACAhYKskAAASAiQJAAAJAZIEAICEAEkCAEBCgCQBACAhQJKcxt69e2NjY6uqqp588kkHqlMVsR1newcA3oHHdm/7HiNHjuzdu7fdYk1NTTU1NTwp0wTaAQCfBKIkp3H58uX09PTXX3+9vLx89uzZCKHVq1eHh4dHRkYuXboUIXT69OmkpKSoqKjNmzeTJDlnzpz27ds//fTTqampJElSFbEdhNDSpUvxbuZly5bh6lOmTMnIyHj++eeTkpLq6uo82l0AcA2eTUTgS5w6dWr8+PGVlZWRkZEkSR47dqxnz55VVVUPHz4cMWLEzp07T5061bJly59++okkyf/7v/8bNmyYyWQymUwRERE//PADVRHbOXToUO/evevq6urq6uLi4r744otTp05ptdr79++TJDlmzJj8/HzP9hcAXAFM3FxFYWFhdXV1UlISQujGjRvnzp3r3Llznz59cOaNbt26ffTRR1999VVxcfHt27eNRiO7enJysk6nQwhNmTKlsLDwueeei4+PDwoKQgiFh4ezqwCADwCS5Cp0Ot2MGTMWLFiAEGpqaiJJ8uzZs/hGX4RQUVHRK6+8Mm3atFGjRp04cYJdnSRJKn2HTCZrampCCHk2aT8AuAFYS3I+FosFITRo0KDdu3fX1taazeahQ4ceOHCAXubo0aM4t2ybNm2uXr1qNpupiphnnnlm586dRqOxoaFh586dHn+UCwC4B5AkJxMYGBgYGJiSkhIbG5ucnBwbG9ulS5cePXqMGzeOXmzy5MklJSV//etf582bN3v27KVLl1IVcYHnnntuwIABUVFRUVFRw4cPHzlyJL26XC5XKCDCBXwQyAQAAICEgCgJAAAJAZIEAICEAEkCAEBCgCQBACAhQJIAAJAQIEkAAEgIkCQAACTE/wcFU1FfB56bxQAAAABJRU5ErkJggg==" alt=""/></p>

<h2>Appendix</h2>

<h3>Session information</h3>

<pre><code class="r">R version 4.1.1 Patched (2021-08-10 r80727)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.04.5 LTS

Matrix products: default
BLAS:   /home/hb/software/R-devel/R-4-1-branch/lib/R/lib/libRblas.so
LAPACK: /home/hb/software/R-devel/R-4-1-branch/lib/R/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] microbenchmark_1.4-7   matrixStats_0.60.1     ggplot2_3.3.5         
[4] knitr_1.33             R.devices_2.17.0       R.utils_2.10.1        
[7] R.oo_1.24.0            R.methodsS3_1.8.1-9001 history_0.0.1-9000    

loaded via a namespace (and not attached):
 [1] Biobase_2.52.0          httr_1.4.2              splines_4.1.1          
 [4] bit64_4.0.5             network_1.17.1          assertthat_0.2.1       
 [7] highr_0.9               stats4_4.1.1            blob_1.2.2             
[10] GenomeInfoDbData_1.2.6  robustbase_0.93-8       pillar_1.6.2           
[13] RSQLite_2.2.8           lattice_0.20-44         glue_1.4.2             
[16] digest_0.6.27           XVector_0.32.0          colorspace_2.0-2       
[19] Matrix_1.3-4            XML_3.99-0.7            pkgconfig_2.0.3        
[22] zlibbioc_1.38.0         genefilter_1.74.0       purrr_0.3.4            
[25] ergm_4.1.2              xtable_1.8-4            scales_1.1.1           
[28] tibble_3.1.4            annotate_1.70.0         KEGGREST_1.32.0        
[31] farver_2.1.0            generics_0.1.0          IRanges_2.26.0         
[34] ellipsis_0.3.2          cachem_1.0.6            withr_2.4.2            
[37] BiocGenerics_0.38.0     mime_0.11               survival_3.2-13        
[40] magrittr_2.0.1          crayon_1.4.1            statnet.common_4.5.0   
[43] memoise_2.0.0           laeken_0.5.1            fansi_0.5.0            
[46] R.cache_0.15.0          MASS_7.3-54             R.rsp_0.44.0           
[49] progressr_0.8.0         tools_4.1.1             lifecycle_1.0.0        
[52] S4Vectors_0.30.0        trust_0.1-8             munsell_0.5.0          
[55] tabby_0.0.1-9001        AnnotationDbi_1.54.1    Biostrings_2.60.2      
[58] compiler_4.1.1          GenomeInfoDb_1.28.1     rlang_0.4.11           
[61] grid_4.1.1              RCurl_1.98-1.4          cwhmisc_6.6            
[64] rappdirs_0.3.3          startup_0.15.0          labeling_0.4.2         
[67] bitops_1.0-7            base64enc_0.1-3         boot_1.3-28            
[70] gtable_0.3.0            DBI_1.1.1               markdown_1.1           
[73] R6_2.5.1                lpSolveAPI_5.5.2.0-17.7 rle_0.9.2              
[76] dplyr_1.0.7             fastmap_1.1.0           bit_4.0.4              
[79] utf8_1.2.2              parallel_4.1.1          Rcpp_1.0.7             
[82] vctrs_0.3.8             png_0.1-7               DEoptimR_1.0-9         
[85] tidyselect_1.1.1        xfun_0.25               coda_0.19-4            
</code></pre>

<p>Total processing time was 14.76 secs.</p>

<h3>Reproducibility</h3>

<p>To reproduce this report, do:</p>

<pre><code class="r">html &lt;- matrixStats:::benchmark(&#39;weightedMean_subset&#39;)
</code></pre>

<hr/>

<p>Copyright Dongcan Jiang. Last updated on 2021-08-25 18:38:56 (+0200 UTC). Powered by <a href="https://cran.r-project.org/package=R.rsp">RSP</a>.</p>

<script>
 var link = document.createElement('link');
 link.rel = 'icon';
 link.href = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA21BMVEUAAAAAAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8BAf4CAv0DA/wdHeIeHuEfH+AgIN8hId4lJdomJtknJ9g+PsE/P8BAQL9yco10dIt1dYp3d4h4eIeVlWqWlmmXl2iYmGeZmWabm2Tn5xjo6Bfp6Rb39wj4+Af//wA2M9hbAAAASXRSTlMAAQIJCgsMJSYnKD4/QGRlZmhpamtsbautrrCxuru8y8zN5ebn6Pn6+///////////////////////////////////////////LsUNcQAAAS9JREFUOI29k21XgkAQhVcFytdSMqMETU26UVqGmpaiFbL//xc1cAhhwVNf6n5i5z67M2dmYOyfJZUqlVLhkKucG7cgmUZTybDz6g0iDeq51PUr37Ds2cy2/C9NeES5puDjxuUk1xnToZsg8pfA3avHQ3lLIi7iWRrkv/OYtkScxBIMgDee0ALoyxHQBJ68JLCjOtQIMIANF7QG9G9fNnHvisCHBVMKgSJgiz7nE+AoBKrAPA3MgepvgR9TSCasrCKH0eB1wBGBFdCO+nAGjMVGPcQb5bd6mQRegN6+1axOs9nGfYcCtfi4NQosdtH7dB+txFIpXQqN1p9B/asRHToyS0jRgpV7nk4nwcq1BJ+x3Gl/v7S9Wmpp/aGquum7w3ZDyrADFYrl8vHBH+ev9AUASW1dmU4h4wAAAABJRU5ErkJggg=="
 document.getElementsByTagName('head')[0].appendChild(link);
</script>

</body>

</html>
