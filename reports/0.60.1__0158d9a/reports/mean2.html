<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>mean2() benchmarks</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>

<meta name="author" content="Henrik Bengtsson">

</head>

<body>
<p><a href="https://cran.r-project.org/package=matrixStats">matrixStats</a>: Benchmark report</p>

<hr/>

<h1>mean2() benchmarks</h1>

<p>This report benchmark the performance of mean2() against alternative methods.</p>

<h2>Alternative methods</h2>

<ul>
<li>mean() + [()</li>
<li>mean.default() + [() - avoids method dispatching</li>
</ul>

<p>as below</p>

<pre><code class="r">&gt; mean2_R_v1 &lt;- function(x, na.rm = FALSE, idxs) {
+     mean(x[idxs], na.rm = na.rm)
+ }
</code></pre>

<p>and</p>

<pre><code class="r">&gt; mean2_R_v2 &lt;- function(x, na.rm = FALSE, idxs) {
+     mean.default(x[idxs], na.rm = na.rm)
+ }
</code></pre>

<h2>Data type &ldquo;integer&rdquo;</h2>

<h3>Data</h3>

<pre><code class="r">&gt; rvector &lt;- function(n, mode = c(&quot;logical&quot;, &quot;double&quot;, &quot;integer&quot;), range = c(-100, +100), na_prob = 0) {
+     mode &lt;- match.arg(mode)
+     if (mode == &quot;logical&quot;) {
+         x &lt;- sample(c(FALSE, TRUE), size = n, replace = TRUE)
+     }     else {
+         x &lt;- runif(n, min = range[1], max = range[2])
+     }
+     storage.mode(x) &lt;- mode
+     if (na_prob &gt; 0) 
+         x[sample(n, size = na_prob * n)] &lt;- NA
+     x
+ }
&gt; rvectors &lt;- function(scale = 10, seed = 1, ...) {
+     set.seed(seed)
+     data &lt;- list()
+     data[[1]] &lt;- rvector(n = scale * 100, ...)
+     data[[2]] &lt;- rvector(n = scale * 1000, ...)
+     data[[3]] &lt;- rvector(n = scale * 10000, ...)
+     data[[4]] &lt;- rvector(n = scale * 1e+05, ...)
+     data[[5]] &lt;- rvector(n = scale * 1e+06, ...)
+     names(data) &lt;- sprintf(&quot;n = %d&quot;, sapply(data, FUN = length))
+     data
+ }
&gt; data &lt;- rvectors(mode = mode)
</code></pre>

<h3>Results</h3>

<h3>n = 1000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335209 285.0    8529671 455.6   8529671 455.6
Vcells 37464398 285.9   58379130 445.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.002644</td>
<td align="right">0.0027400</td>
<td align="right">0.0030311</td>
<td align="right">0.0027865</td>
<td align="right">0.0028750</td>
<td align="right">0.019038</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.002992</td>
<td align="right">0.0030355</td>
<td align="right">0.0034202</td>
<td align="right">0.0031365</td>
<td align="right">0.0032185</td>
<td align="right">0.023013</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.002983</td>
<td align="right">0.0030465</td>
<td align="right">0.0033331</td>
<td align="right">0.0031375</td>
<td align="right">0.0032170</td>
<td align="right">0.011124</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.004267</td>
<td align="right">0.0044290</td>
<td align="right">0.0050100</td>
<td align="right">0.0045415</td>
<td align="right">0.0046795</td>
<td align="right">0.024184</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.131619</td>
<td align="right">1.107847</td>
<td align="right">1.128375</td>
<td align="right">1.125606</td>
<td align="right">1.119478</td>
<td align="right">1.2087929</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.128215</td>
<td align="right">1.111861</td>
<td align="right">1.099637</td>
<td align="right">1.125965</td>
<td align="right">1.118956</td>
<td align="right">0.5843051</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.613843</td>
<td align="right">1.616423</td>
<td align="right">1.652860</td>
<td align="right">1.629822</td>
<td align="right">1.627652</td>
<td align="right">1.2703015</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333066 284.9    8529671 455.6   8529671 455.6
Vcells 15828942 120.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.002748</td>
<td align="right">0.0030090</td>
<td align="right">0.0034480</td>
<td align="right">0.0031075</td>
<td align="right">0.003252</td>
<td align="right">0.019823</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.002736</td>
<td align="right">0.0030055</td>
<td align="right">0.0031542</td>
<td align="right">0.0031385</td>
<td align="right">0.003242</td>
<td align="right">0.003930</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.003742</td>
<td align="right">0.0039725</td>
<td align="right">0.0042215</td>
<td align="right">0.0040670</td>
<td align="right">0.004234</td>
<td align="right">0.015538</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.005980</td>
<td align="right">0.0062890</td>
<td align="right">0.0066827</td>
<td align="right">0.0064585</td>
<td align="right">0.006637</td>
<td align="right">0.024305</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.9956332</td>
<td align="right">0.9988368</td>
<td align="right">0.9148018</td>
<td align="right">1.009976</td>
<td align="right">0.996925</td>
<td align="right">0.1982546</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.3617176</td>
<td align="right">1.3202060</td>
<td align="right">1.2243472</td>
<td align="right">1.308769</td>
<td align="right">1.301968</td>
<td align="right">0.7838370</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">2.1761281</td>
<td align="right">2.0900631</td>
<td align="right">1.9381489</td>
<td align="right">2.078359</td>
<td align="right">2.040898</td>
<td align="right">1.2261010</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333150 284.9    8529671 455.6   8529671 455.6
Vcells 15829618 120.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.003707</td>
<td align="right">0.0039070</td>
<td align="right">0.0041698</td>
<td align="right">0.0040185</td>
<td align="right">0.0041995</td>
<td align="right">0.015867</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.003713</td>
<td align="right">0.0038895</td>
<td align="right">0.0041802</td>
<td align="right">0.0040240</td>
<td align="right">0.0042490</td>
<td align="right">0.009105</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.004356</td>
<td align="right">0.0046555</td>
<td align="right">0.0049403</td>
<td align="right">0.0048135</td>
<td align="right">0.0049160</td>
<td align="right">0.018109</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.006681</td>
<td align="right">0.0070390</td>
<td align="right">0.0074300</td>
<td align="right">0.0071950</td>
<td align="right">0.0074245</td>
<td align="right">0.027253</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.001619</td>
<td align="right">0.9955209</td>
<td align="right">1.002499</td>
<td align="right">1.001369</td>
<td align="right">1.011787</td>
<td align="right">0.5738325</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.175074</td>
<td align="right">1.1915792</td>
<td align="right">1.184804</td>
<td align="right">1.197835</td>
<td align="right">1.170616</td>
<td align="right">1.1412996</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.802266</td>
<td align="right">1.8016381</td>
<td align="right">1.781887</td>
<td align="right">1.790469</td>
<td align="right">1.767949</td>
<td align="right">1.7175900</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333231 284.9    8529671 455.6   8529671 455.6
Vcells 15829872 120.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.005617</td>
<td align="right">0.0058795</td>
<td align="right">0.0060997</td>
<td align="right">0.0059950</td>
<td align="right">0.0062935</td>
<td align="right">0.008362</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.005550</td>
<td align="right">0.0058745</td>
<td align="right">0.0065841</td>
<td align="right">0.0060490</td>
<td align="right">0.0063270</td>
<td align="right">0.025825</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.006109</td>
<td align="right">0.0063475</td>
<td align="right">0.0066216</td>
<td align="right">0.0065025</td>
<td align="right">0.0067620</td>
<td align="right">0.011049</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.008464</td>
<td align="right">0.0087735</td>
<td align="right">0.0093324</td>
<td align="right">0.0090215</td>
<td align="right">0.0092860</td>
<td align="right">0.034636</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.9880719</td>
<td align="right">0.9991496</td>
<td align="right">1.079412</td>
<td align="right">1.009008</td>
<td align="right">1.005323</td>
<td align="right">3.088376</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.0875912</td>
<td align="right">1.0795986</td>
<td align="right">1.085570</td>
<td align="right">1.084654</td>
<td align="right">1.074442</td>
<td align="right">1.321335</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.5068542</td>
<td align="right">1.4922187</td>
<td align="right">1.529975</td>
<td align="right">1.504837</td>
<td align="right">1.475491</td>
<td align="right">4.142071</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333241 284.9    8529671 455.6   8529671 455.6
Vcells 15829656 120.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.013168</td>
<td align="right">0.0138065</td>
<td align="right">0.0142189</td>
<td align="right">0.0139930</td>
<td align="right">0.0144305</td>
<td align="right">0.027982</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.014819</td>
<td align="right">0.0155985</td>
<td align="right">0.0163233</td>
<td align="right">0.0159980</td>
<td align="right">0.0163880</td>
<td align="right">0.034170</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.017081</td>
<td align="right">0.0177570</td>
<td align="right">0.0183532</td>
<td align="right">0.0179305</td>
<td align="right">0.0185955</td>
<td align="right">0.032276</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.016948</td>
<td align="right">0.0178315</td>
<td align="right">0.0184025</td>
<td align="right">0.0180020</td>
<td align="right">0.0186490</td>
<td align="right">0.032773</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.00000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.12538</td>
<td align="right">1.129794</td>
<td align="right">1.147993</td>
<td align="right">1.143286</td>
<td align="right">1.135650</td>
<td align="right">1.221142</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.29716</td>
<td align="right">1.286133</td>
<td align="right">1.290756</td>
<td align="right">1.281391</td>
<td align="right">1.288625</td>
<td align="right">1.153456</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.28706</td>
<td align="right">1.291529</td>
<td align="right">1.294226</td>
<td align="right">1.286500</td>
<td align="right">1.292332</td>
<td align="right">1.171217</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAAEECAIAAACjmgRhAAAgAElEQVR4nO3de3wTVdoH8DOZpG2SFgqFwoIUNjYFlLsUCghyW0Uu7UJl20+Fl4vLoqCALPCygtxeEQEL6pb1tlVQrissiLjIImwVEEsVqLAIFHx5awtyKV2g9+by/nF0HCeTaZqcJCf09/3wRzI588xJpnk45+TMGcHpdBIAAD7ogl0BAICfISUBAEeQkgCAI0hJAMARfRCPXVlZ6XA4VF8SRVEQBJvNxupYoija7XYmoQRBMBgMNTU1TKIRpnUjhBgMBrvd7u6DrS+dTud0Oln9BhLSp1Wn0xmNRibHAg3BTElVVVXu/p6MRqMoipWVlUwOJAiC0WhkFU0URaPReOvWLSbRCCFms5lV3Qgh4eHhlZWVtbW1rKLZbDZWX/uQPq20AJNjgQZ03ACAI0hJAMARpCQA4AhSEgBwBCkJADiClAQAHOExJYXlHhGu/UAIESorwv/1z2BXBwACh8eUVNulu+6TPeT/vjPu3mHr3C3Y1QGAwOExJTmNJvuIFGHze7XdE+3NYoNdHQAIHB5TklBZIX78oTPjvwwn8sTr14JdHQAIHB5TkuHUCcewUaStpTI5VX/6ZLCrAwCBE8xr3Nyp6dVPNBoJIU6jqXrQw8GuDgAEDo+tJABosJCSAIAjSEkAwBGkJADgCFISAHAEKQkAOBLMSQAGg0GvV6+AXq/X6XTh4eGsjqXX61lF0+l0hBCGdRNFkWE0QRDCwsJoJX1nMBh0Oh2rlbxD+rQKgsDkQKAtmCnJ4XC4+1unS9AzXCTf4XCwikbXxuezbpTdbmcVUBRFhtVzOByCIPD50dV5WllledAWzJSk8c2x2+3GL7+mj693au/jgQRBcDgcrG6MIYoiIYThbTacTifbaHa7neGbZXg7AIPBwPAOJQE+rbQA+BsSPwBwJARSUvPT54JdBQAIkBBISb533AAgVPB42S1VmfRAWVlZsGsBAAEVAq0kAGg4kJIAgCNISQDAEaQkAOAIUhIAcITfX9wA/Cpq9TL64M7cRcGtCcihlQQNkZSPgDdISQDAEaQkaIikzhp6bbzBWBI0UEhGfEIrCQA4gpQEABxBSgIAjiAlAQBHkJIAgCNISQDAEaQkAOAIUhIAcAQpCQA4gpQEABzBBSX+hRUwAOoFrSQ/wgoYAPWFlAQAHEFK8iOsgAFQXxhL8i8kI4B6QSsJADiClAQAHEHHDRhofvqc9Ph6p/ZBrAmEOu9Tks1me+2118rKyuLi4iZOnKixMT8//+DBg88++2y94guL50X99BgjMgANhPcdty+//LJVq1aLFi26cuVKUVGRu40VFRVbtmxxOp31Cq5f9ievKwaEkAuvNqP/gl0RgPrxPiUVFBRYLBZCiMViKSgocLdxw4YNjz32mI+1jFq9zK/TDv0dP4gCk5Wud2ov/QvA4eAu5n3HraKiolmzZoSQmJiYsrIy1Y15eXktWrSIi4uT7/jJJ58cP36cEDJp0qQmTZqoBheXr7EvmE0IcS5dJSyeRzdGrV7mXLqKPpY2KspoiFy6iu7o/OmBa3yP3vmy1YSQyMhIjwp7QK/XM4ym0+mMRqN8iy/BRVF0OBz1beS6o9frBUFg+9HpdGx+ohEEgTA9reAd71OSyWQqKSmxWCwlJSWxsbGqG3ft2hUREZGfn//999/v27fvkUceIYRER0e3bt2aEKLT6ex2u2pwnU4nLl9TXV1N7HZ5FWl5RbfOk3wkLyYv7+G+crQO7mruBVEUGUYjhDgcjs7zy0+9ZCaEdJ5f7ktsQRAcDofD4WBSMZ1Op3HS60sQBKfT6Xu0yLyT9IHjob4a0WjOAn/zPiVZrdZLly4lJiYWFhb27dtXdeOgQYMIIdeuXdu4cSPNR4SQpKSkpKQkQkhpaWllZaW7+KIo/viqfGy7spIQEuVml8Corq42Go0aNa8vnU7HMFp4eHh1dXVtbW38zEry4wfmUzSbzcY2/7J6szRH+BhN/luhdjRRFE0mky/HAk943+hNSkoqLi5evXp1bGxsmzZtzp8/n5WVpdjIsKJeq/OqDrr9ztxF8gL0Ka4IAQgwgdUwgRdKS0vd/fdrNBpFUZSGqNyJWr2MJgs6DOQucQiCYDQaKyoqFHt5RxTF6OjokpISryMomM3m8vJyVtGio6PLy8tra2uZRGPbSvLwtHpIcVq9RhtKN7vep31aRVF0N/QJDIV2SvIQq79dSp6S6rUckru8iZTkHf+dVncFkJICALO3vSf/hU7117o7cxe5bqdtNMV2xaRQ+auuhRVlpAL0gZ2QCEIi0NmE0IRr3PyIyVwn1aSm+vRunVoFDQpSEgBwBCnJe4of6dyVUZTX2EX+A58nxbSPpV0xAD5heLveRFFck9OUEDKz/3UmATWGt734cRDD297B8DYnMLxdbzQfEUJePdScVVZyx5fGjuqguKJAnfHDXlhgm79UNax8Xx/nVQBIkJIaEPksBPrYkxFx00uLpceKNERkv/chK7Flt9tv3brVtGnTYFck0DCWVG+zB96kD/zdRGKrzikL9Q0CnsjMzLRYLB06dFiyZAkh5N133x03bhwhJDc3NykpyW63v/nmmzNmzBg7duzgwYOnTp1aU1Nz5MiRtLS0rl27vvXWW0GufTAgJXlj2W8doZWP5LSbM/UasAdtBw8e3Lp161dffZWXl3fs2LFNmzZNmjTp+vXrH3300dNPP52dnS2KIiHkH//4x/r16w8ePFhbW5udnU0I2bdv3+7du+fPnx/sdxAE6LjdtRS5QzEGJJ+BqZiN6Tpd0zWyvA+IJOVOTk5OaWlpWloaIaS4uDgvL+/xxx9/6623unfvPmfOnPvvv58WGz58uNlsJoSkpaVlZ2d36dKlb9++dN2xBggpqaFwTRzakwboFukXN0Xbism4uxdB5NWIXLXUvvglecz6BvRuL8+ZTKapU6fOnTuXEGK32+mv23fu3BFFsbi4WComrf1is9noY5qhGiakJPBInd9bRaLxZNRJowupmixch+TFpfOJrInnrt3n6s4v9/JTVhoyZMgf/vCHJ598MiIiYtiwYdOmTUtJSXniiSf27t371FNPHTp0qH///oSQXbt2LV68uEmTJm+88cawYcP8UZMQgrEkYMz3VYPrdYmMahlOhuETExMnTJiQmJgYHx/fo0eP1NTUF198ceDAgT179nzjjTeefPLJqqoqQkjPnj2Tk5OtVmvLli2nTJkS7FoHGVpJEDRM2iaeN8pcdwxA5po1a9asWbOkp4sW/fiWH3jggX//+9/0cefOnXft2iWV6devX79+/fxdMW4hJQEbnn/DPflRz93KCvSB9Kp98UvEs9nb8n2xMh/PcEFJvWEJN6+F9GnFBSWBgVYSwI/Nrhryy4XeIRgwvA3wM07GxRsypCQA4AhSEkDdt7GBgMFYEgAhhFTMXxodHU3Y/WpBCLlz544Xe0VFBfdGhUGGVhIAcAQpCQA4gpQEABxBSgIAjqgMbzscjo8++ig3N/fkyZMOh6N79+69evVKSUnR6ZC/AELP7du3U1NTa2pqGjduvG3bNqPRGOwaaVFmmb179yYnJ+fn5/fu3XvNmjWvvvpqnz59Tp8+nZycvHfv3qBUEeCu4nAIly4KxUUBO+D7778/dOjQzz77rEePHlu2bAnYcb2jbCXduHFj586dBoNB2tK+ffvk5GSbzRaUN9P89Dn64Hqn9oE/OgBjNpv+g026i+cJIY6uPWyjUuvcY8OGDYcOHYqMjLx8+bLFYikqKho9evSQIUMmTJhQVVXVunXrt99+++rVq9OnTyeEmEym9957b/369SdOnAgPD7906dLmzZt79ux5zz33EEKaNm0aERHh77foI2Urafz48fJ8RAih1+Xq9frx48cHrl6EEFk+Arg76C5dpPmIEKLLPy78p9STvRISEl555ZUffvhhypQpa9as2bp167p16zIyMvbt25eQkLBt27bLly/Pmzdv586ddru9sLCQEGIymTIzMzt37nzo0KHevXu3bt16z54927dvHzlypB/fHgvqw0MHDhygi7yMHj26UaNG69evD2ilAO5WgqD11I22bdsSQsxmc7t27cxms81mu3DhwgcffDBlypSLFy9GR0e3aNEiOzv7qaeeOnPmDF0qt3v37oSQqKgouorDiy+++Le//W337t2NGjVi/p7YUk9JU6dOHTly5NGjR6uqqs6dO7d8+fIAV4uSOmvotcHdwdHuXkdCxx8fP9Db2TjauzhWq/XRRx99++23hw0bZrVa165d+/jjj7/++ustW7ak3Rr5j1F///vfS0tL33vvvehoLw8XSOoXlFRXVw8dOnThwoW//e1vW7VqxWrxHS8gGcFdRRRtYx8XLhcTg94Z29K7GC1atJg2bVpGRsbu3bvj4uJSU1NTUlIyMzOzs7MtFsvmzZtbt25NS0ZERDRq1Gj37t1Hjhyh63xPnz49PT2d2dvxA/Ul3EaOHBkTE/P555+fOHFi7dq1//znP48ePcr82OXl5e4WkAsLCxMEobq6OuqrfMVLd3p2lR7TV+mWqK/y5S+5BqypqfGwYtJBVQPqdDqj0chw0bV61a1OJpOpurqa1aJrer3e4XBIt9DwkXRamUQjTD+6Ok+rIAj1vXEIrnHzgnoradOmTZs3b549e3Z0dLQoin76rU26RYwrURR1Op1q68w1SUlbXF+iSrvdL710s+t9hJCm+WcUZeh2BakCUvmbXe+jf7sMW456vZ5hNKfTabfbWQUUBMFut7NKcBqn1QuCIDD8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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333393 284.9    8529671 455.6   8529671 455.6
Vcells 15831048 120.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.011244</td>
<td align="right">0.0118025</td>
<td align="right">0.0122085</td>
<td align="right">0.0120220</td>
<td align="right">0.0123640</td>
<td align="right">0.018002</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.011402</td>
<td align="right">0.0119860</td>
<td align="right">0.0124435</td>
<td align="right">0.0122490</td>
<td align="right">0.0126350</td>
<td align="right">0.018282</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.011353</td>
<td align="right">0.0120910</td>
<td align="right">0.0127748</td>
<td align="right">0.0124010</td>
<td align="right">0.0128515</td>
<td align="right">0.034642</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.013511</td>
<td align="right">0.0143220</td>
<td align="right">0.0156329</td>
<td align="right">0.0146925</td>
<td align="right">0.0152425</td>
<td align="right">0.051375</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.014052</td>
<td align="right">1.015548</td>
<td align="right">1.019248</td>
<td align="right">1.018882</td>
<td align="right">1.021918</td>
<td align="right">1.015554</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.009694</td>
<td align="right">1.024444</td>
<td align="right">1.046381</td>
<td align="right">1.031526</td>
<td align="right">1.039429</td>
<td align="right">1.924342</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.201619</td>
<td align="right">1.213472</td>
<td align="right">1.280493</td>
<td align="right">1.222134</td>
<td align="right">1.232813</td>
<td align="right">2.853850</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333474 284.9    8529671 455.6   8529671 455.6
Vcells 15832404 120.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.018318</td>
<td align="right">0.0195020</td>
<td align="right">0.0204484</td>
<td align="right">0.0203160</td>
<td align="right">0.0208745</td>
<td align="right">0.033990</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.020049</td>
<td align="right">0.0209755</td>
<td align="right">0.0223444</td>
<td align="right">0.0218995</td>
<td align="right">0.0230970</td>
<td align="right">0.036959</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.020087</td>
<td align="right">0.0209700</td>
<td align="right">0.0221402</td>
<td align="right">0.0219190</td>
<td align="right">0.0225585</td>
<td align="right">0.039007</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.021083</td>
<td align="right">0.0222545</td>
<td align="right">0.0239472</td>
<td align="right">0.0230885</td>
<td align="right">0.0238945</td>
<td align="right">0.069703</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.094497</td>
<td align="right">1.075556</td>
<td align="right">1.092718</td>
<td align="right">1.077943</td>
<td align="right">1.106470</td>
<td align="right">1.087349</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.096572</td>
<td align="right">1.075274</td>
<td align="right">1.082733</td>
<td align="right">1.078903</td>
<td align="right">1.080673</td>
<td align="right">1.147602</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.150944</td>
<td align="right">1.141139</td>
<td align="right">1.171100</td>
<td align="right">1.136469</td>
<td align="right">1.144674</td>
<td align="right">2.050691</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333555 284.9    8529671 455.6   8529671 455.6
Vcells 15834822 120.9   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.033108</td>
<td align="right">0.0351345</td>
<td align="right">0.0377840</td>
<td align="right">0.0366405</td>
<td align="right">0.0384795</td>
<td align="right">0.052429</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.035239</td>
<td align="right">0.0379350</td>
<td align="right">0.0417208</td>
<td align="right">0.0397670</td>
<td align="right">0.0424440</td>
<td align="right">0.074999</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.037113</td>
<td align="right">0.0386835</td>
<td align="right">0.0425239</td>
<td align="right">0.0403430</td>
<td align="right">0.0432415</td>
<td align="right">0.075843</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.036976</td>
<td align="right">0.0397130</td>
<td align="right">0.0451191</td>
<td align="right">0.0410610</td>
<td align="right">0.0432870</td>
<td align="right">0.304684</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.064365</td>
<td align="right">1.079708</td>
<td align="right">1.104193</td>
<td align="right">1.085329</td>
<td align="right">1.103029</td>
<td align="right">1.430487</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.120968</td>
<td align="right">1.101012</td>
<td align="right">1.125449</td>
<td align="right">1.101049</td>
<td align="right">1.123754</td>
<td align="right">1.446585</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.116830</td>
<td align="right">1.130313</td>
<td align="right">1.194134</td>
<td align="right">1.120645</td>
<td align="right">1.124937</td>
<td align="right">5.811364</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 100000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333565 284.9    8529671 455.6   8529671 455.6
Vcells 15834826 120.9   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 100000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.086089</td>
<td align="right">0.0939410</td>
<td align="right">0.1017803</td>
<td align="right">0.1000040</td>
<td align="right">0.1069845</td>
<td align="right">0.133384</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.087773</td>
<td align="right">0.0958705</td>
<td align="right">0.1042470</td>
<td align="right">0.1020055</td>
<td align="right">0.1118700</td>
<td align="right">0.153118</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.113125</td>
<td align="right">0.1235325</td>
<td align="right">0.1354121</td>
<td align="right">0.1313805</td>
<td align="right">0.1454950</td>
<td align="right">0.190802</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.113166</td>
<td align="right">0.1238950</td>
<td align="right">0.1370114</td>
<td align="right">0.1315580</td>
<td align="right">0.1479895</td>
<td align="right">0.191542</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.019561</td>
<td align="right">1.020539</td>
<td align="right">1.024235</td>
<td align="right">1.020014</td>
<td align="right">1.045665</td>
<td align="right">1.147949</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.314047</td>
<td align="right">1.315001</td>
<td align="right">1.330435</td>
<td align="right">1.313752</td>
<td align="right">1.359963</td>
<td align="right">1.430471</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.314523</td>
<td align="right">1.318860</td>
<td align="right">1.346148</td>
<td align="right">1.315527</td>
<td align="right">1.383280</td>
<td align="right">1.436019</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 100000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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3NzchoaGuLi4GTNmBLs4v3j99de/++47/sWx8ePHd+vWbd26dSzLxsTELFiwAOPrWtpcv35dXB6Px0PgbczJyfnd737Hz3osKXDQb+DSpUuXLFnCP3ET3zpifyDDAREpCQAAeEQ03AAAgAcpCQBAEEhJAACCQEoCABAEUhIAgCCQkoizY8eOpKSkysrK7t27azhdOJGPg7t0ADQvIkZvA7Fx48YNHDjQ52Fut/v27dutW7duYhwAiAK1JOJ8++23ixYtmj9/fnl5eUZGBkIoJyfHarV269Zt2bJlCKEjR46kpaX17t37zTff5Djuqaeeat++fY8ePTIzMzmOE07k4yCEli1bxo9IXrFiBX/69OnTFy9ePHny5LS0NIxrWAOAQXAnIgDeDh8+/Nvf/vbGjRvdunXjOC4/P79///6VlZXV1dVjx47dtm3b4cOHIyMjv//+e47jzpw585vf/MbpdDqdTpvNdu7cOeFEPs6nn346cODA2tra2traAQMG/POf/zx8+LDJZLp58ybHcSkpKXv27Anu9wVADBpupCsoKKiqqkpLS0MIXb58ubi4uHPnzoMHD+Znz+jZs+d777138ODBb7755scff/ReRKigoGDGjBlmsxkhNH369IKCggkTJgwaNCg6OhohZLVaMa47BEDTQUoindlsnjdvXlZWFkLI7XZzHHfs2DH+NWCEUFFR0R/+8IfZs2ePHz/+yy+/9D6d4zhhCg6Kovh12VR6oAAILuhLIhe/LmZycvL27dvv3LnT0NAwevTojz/+WHzMoUOH+Nlj27Zt+9133zU0NKB7F9R85JFHtm3b5nA47Hb7tm3b+BnpACAWpCRCRUVFRUVFzZo1KykpacaMGUlJSQkJCQ899NCUKVPEh6Wnp586dapfv37PPPNMRkbGsmXLhBP5AyZMmDB8+PDevXv37t17zJgx48aNE59O0zS/LDAAhICZAAAABIFaEgCAIJCSAAAEgZQEACAIpCQAAEEgJQEACAIpCQBAEEhJAACC/H9JQ7HxSn2RqQAAAABJRU5ErkJggg==" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333717 284.9    8529671 455.6   8529671 455.6
Vcells 15841365 120.9   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 100000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.067272</td>
<td align="right">0.070955</td>
<td align="right">0.0779639</td>
<td align="right">0.0743770</td>
<td align="right">0.0830760</td>
<td align="right">0.119719</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.069493</td>
<td align="right">0.073628</td>
<td align="right">0.0799708</td>
<td align="right">0.0773515</td>
<td align="right">0.0854515</td>
<td align="right">0.114088</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.076796</td>
<td align="right">0.081816</td>
<td align="right">0.0883674</td>
<td align="right">0.0847455</td>
<td align="right">0.0942295</td>
<td align="right">0.114397</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.077077</td>
<td align="right">0.081859</td>
<td align="right">0.0892513</td>
<td align="right">0.0867050</td>
<td align="right">0.0936555</td>
<td align="right">0.142096</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.033015</td>
<td align="right">1.037672</td>
<td align="right">1.025741</td>
<td align="right">1.039992</td>
<td align="right">1.028594</td>
<td align="right">0.9529649</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.141574</td>
<td align="right">1.153069</td>
<td align="right">1.133439</td>
<td align="right">1.139405</td>
<td align="right">1.134257</td>
<td align="right">0.9555459</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.145752</td>
<td align="right">1.153675</td>
<td align="right">1.144776</td>
<td align="right">1.165750</td>
<td align="right">1.127347</td>
<td align="right">1.1869127</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 100000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333798 284.9    8529671 455.6   8529671 455.6
Vcells 15851943 121.0   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 100000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.110645</td>
<td align="right">0.1216670</td>
<td align="right">0.1385319</td>
<td align="right">0.135250</td>
<td align="right">0.1464605</td>
<td align="right">0.217912</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.112323</td>
<td align="right">0.1188815</td>
<td align="right">0.1365603</td>
<td align="right">0.136013</td>
<td align="right">0.1467645</td>
<td align="right">0.200972</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.127548</td>
<td align="right">0.1362975</td>
<td align="right">0.1540432</td>
<td align="right">0.150394</td>
<td align="right">0.1659490</td>
<td align="right">0.211932</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.127682</td>
<td align="right">0.1372890</td>
<td align="right">0.1554826</td>
<td align="right">0.154730</td>
<td align="right">0.1654435</td>
<td align="right">0.222608</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.015166</td>
<td align="right">0.9771055</td>
<td align="right">0.9857681</td>
<td align="right">1.005641</td>
<td align="right">1.002076</td>
<td align="right">0.9222622</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.152768</td>
<td align="right">1.1202504</td>
<td align="right">1.1119690</td>
<td align="right">1.111970</td>
<td align="right">1.133063</td>
<td align="right">0.9725577</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.153979</td>
<td align="right">1.1283996</td>
<td align="right">1.1223596</td>
<td align="right">1.144030</td>
<td align="right">1.129612</td>
<td align="right">1.0215500</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 100000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333879 284.9    8529671 455.6   8529671 455.6
Vcells 15871997 121.1   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 100000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.220048</td>
<td align="right">0.2270255</td>
<td align="right">0.2741137</td>
<td align="right">0.2705260</td>
<td align="right">0.3147935</td>
<td align="right">0.407134</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.218661</td>
<td align="right">0.2199195</td>
<td align="right">0.2706278</td>
<td align="right">0.2729675</td>
<td align="right">0.3123145</td>
<td align="right">0.345561</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.254661</td>
<td align="right">0.2622925</td>
<td align="right">0.3371748</td>
<td align="right">0.3114755</td>
<td align="right">0.4364735</td>
<td align="right">0.454337</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.255069</td>
<td align="right">0.2713740</td>
<td align="right">0.3351383</td>
<td align="right">0.3210450</td>
<td align="right">0.4143855</td>
<td align="right">0.457223</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.9936968</td>
<td align="right">0.9686996</td>
<td align="right">0.9872832</td>
<td align="right">1.009025</td>
<td align="right">0.992125</td>
<td align="right">0.8487648</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.1572975</td>
<td align="right">1.1553438</td>
<td align="right">1.2300548</td>
<td align="right">1.151370</td>
<td align="right">1.386539</td>
<td align="right">1.1159397</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.1591516</td>
<td align="right">1.1953459</td>
<td align="right">1.2226252</td>
<td align="right">1.186744</td>
<td align="right">1.316372</td>
<td align="right">1.1230283</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 100000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 1000000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5333889 284.9    8529671 455.6   8529671 455.6
Vcells 15872197 121.1   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.781505</td>
<td align="right">0.8023825</td>
<td align="right">0.8331030</td>
<td align="right">0.8240795</td>
<td align="right">0.832862</td>
<td align="right">1.192908</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.784452</td>
<td align="right">0.8052410</td>
<td align="right">0.8382436</td>
<td align="right">0.8268195</td>
<td align="right">0.832684</td>
<td align="right">1.341355</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.030187</td>
<td align="right">1.0576885</td>
<td align="right">1.0999319</td>
<td align="right">1.0822270</td>
<td align="right">1.102979</td>
<td align="right">1.815785</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.030142</td>
<td align="right">1.0335435</td>
<td align="right">1.1019452</td>
<td align="right">1.0862900</td>
<td align="right">1.102585</td>
<td align="right">1.785978</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.003771</td>
<td align="right">1.003562</td>
<td align="right">1.006170</td>
<td align="right">1.003325</td>
<td align="right">0.9997863</td>
<td align="right">1.124441</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.318209</td>
<td align="right">1.318185</td>
<td align="right">1.320283</td>
<td align="right">1.313256</td>
<td align="right">1.3243232</td>
<td align="right">1.522150</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.318151</td>
<td align="right">1.288093</td>
<td align="right">1.322700</td>
<td align="right">1.318186</td>
<td align="right">1.3238514</td>
<td align="right">1.497163</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334041 284.9    8529671 455.6   8529671 455.6
Vcells 15932735 121.6   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.567962</td>
<td align="right">0.6327910</td>
<td align="right">0.8461862</td>
<td align="right">0.7494230</td>
<td align="right">0.8619645</td>
<td align="right">11.109744</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.564959</td>
<td align="right">0.5874640</td>
<td align="right">0.7434595</td>
<td align="right">0.7777125</td>
<td align="right">0.8554040</td>
<td align="right">1.123919</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.675981</td>
<td align="right">0.7142115</td>
<td align="right">0.9288030</td>
<td align="right">0.8646745</td>
<td align="right">1.1634940</td>
<td align="right">1.410423</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.680770</td>
<td align="right">0.7195735</td>
<td align="right">0.9591212</td>
<td align="right">0.8990550</td>
<td align="right">1.2039735</td>
<td align="right">1.287770</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.9947127</td>
<td align="right">0.9283697</td>
<td align="right">0.8786003</td>
<td align="right">1.037748</td>
<td align="right">0.9923889</td>
<td align="right">0.1011652</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.1901870</td>
<td align="right">1.1286689</td>
<td align="right">1.0976343</td>
<td align="right">1.153787</td>
<td align="right">1.3498166</td>
<td align="right">0.1269537</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.1986189</td>
<td align="right">1.1371424</td>
<td align="right">1.1334634</td>
<td align="right">1.199663</td>
<td align="right">1.3967785</td>
<td align="right">0.1159136</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334116 284.9    8529671 455.6   8529671 455.6
Vcells 16032781 122.4   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.167260</td>
<td align="right">1.542802</td>
<td align="right">1.709931</td>
<td align="right">1.647669</td>
<td align="right">1.684692</td>
<td align="right">13.413051</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.176652</td>
<td align="right">1.513987</td>
<td align="right">1.587801</td>
<td align="right">1.650256</td>
<td align="right">1.687054</td>
<td align="right">1.769663</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.350894</td>
<td align="right">1.635193</td>
<td align="right">2.256859</td>
<td align="right">2.267421</td>
<td align="right">2.313971</td>
<td align="right">13.259026</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.377870</td>
<td align="right">1.921315</td>
<td align="right">2.103943</td>
<td align="right">2.277221</td>
<td align="right">2.301809</td>
<td align="right">2.805382</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.008046</td>
<td align="right">0.9813229</td>
<td align="right">0.9285761</td>
<td align="right">1.001570</td>
<td align="right">1.001402</td>
<td align="right">0.1319359</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.157321</td>
<td align="right">1.0598855</td>
<td align="right">1.3198542</td>
<td align="right">1.376138</td>
<td align="right">1.373527</td>
<td align="right">0.9885168</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.180431</td>
<td align="right">1.2453409</td>
<td align="right">1.2304257</td>
<td align="right">1.382086</td>
<td align="right">1.366308</td>
<td align="right">0.2091532</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334203 284.9    8529671 455.6   8529671 455.6
Vcells 16233598 123.9   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">2.318165</td>
<td align="right">2.394410</td>
<td align="right">2.556104</td>
<td align="right">2.452503</td>
<td align="right">2.491433</td>
<td align="right">8.348316</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">2.326090</td>
<td align="right">2.412050</td>
<td align="right">2.566803</td>
<td align="right">2.457890</td>
<td align="right">2.527220</td>
<td align="right">8.420793</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">2.713277</td>
<td align="right">2.779487</td>
<td align="right">3.046277</td>
<td align="right">2.866725</td>
<td align="right">2.982606</td>
<td align="right">8.860754</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">2.706951</td>
<td align="right">2.841883</td>
<td align="right">3.168071</td>
<td align="right">2.898226</td>
<td align="right">2.998219</td>
<td align="right">8.864914</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.003419</td>
<td align="right">1.007367</td>
<td align="right">1.004185</td>
<td align="right">1.002196</td>
<td align="right">1.014364</td>
<td align="right">1.008682</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.170442</td>
<td align="right">1.160823</td>
<td align="right">1.191766</td>
<td align="right">1.168898</td>
<td align="right">1.197145</td>
<td align="right">1.061382</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.167713</td>
<td align="right">1.186882</td>
<td align="right">1.239414</td>
<td align="right">1.181742</td>
<td align="right">1.203412</td>
<td align="right">1.061881</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 1000000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334213 284.9    8529671 455.6   8529671 455.6
Vcells 16233166 123.9   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">8.820035</td>
<td align="right">9.338323</td>
<td align="right">9.481309</td>
<td align="right">9.401161</td>
<td align="right">9.533841</td>
<td align="right">12.94580</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">8.850172</td>
<td align="right">9.348933</td>
<td align="right">9.431105</td>
<td align="right">9.403455</td>
<td align="right">9.509620</td>
<td align="right">11.47250</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">11.220452</td>
<td align="right">11.505320</td>
<td align="right">11.779207</td>
<td align="right">11.718151</td>
<td align="right">11.943236</td>
<td align="right">14.36670</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">11.219526</td>
<td align="right">11.512978</td>
<td align="right">11.751696</td>
<td align="right">11.741934</td>
<td align="right">11.920455</td>
<td align="right">13.29831</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.003417</td>
<td align="right">1.001136</td>
<td align="right">0.9947049</td>
<td align="right">1.000244</td>
<td align="right">0.9974594</td>
<td align="right">0.8861952</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.272155</td>
<td align="right">1.232054</td>
<td align="right">1.2423608</td>
<td align="right">1.246458</td>
<td align="right">1.2527203</td>
<td align="right">1.1097575</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.272050</td>
<td align="right">1.232874</td>
<td align="right">1.2394592</td>
<td align="right">1.248988</td>
<td align="right">1.2503308</td>
<td align="right">1.0272300</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334365 284.9    8529671 455.6   8529671 455.6
Vcells 16833704 128.5   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">8.105865</td>
<td align="right">8.821421</td>
<td align="right">10.00521</td>
<td align="right">9.983128</td>
<td align="right">10.24088</td>
<td align="right">20.72092</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">8.337124</td>
<td align="right">9.947527</td>
<td align="right">10.66760</td>
<td align="right">10.132872</td>
<td align="right">10.60189</td>
<td align="right">20.82084</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">9.381135</td>
<td align="right">12.821609</td>
<td align="right">13.13456</td>
<td align="right">13.100914</td>
<td align="right">13.64462</td>
<td align="right">22.03093</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">9.472205</td>
<td align="right">12.778382</td>
<td align="right">13.50176</td>
<td align="right">13.210631</td>
<td align="right">14.22950</td>
<td align="right">22.34785</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.028530</td>
<td align="right">1.127656</td>
<td align="right">1.066205</td>
<td align="right">1.015000</td>
<td align="right">1.035252</td>
<td align="right">1.004822</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.157327</td>
<td align="right">1.453463</td>
<td align="right">1.312773</td>
<td align="right">1.312305</td>
<td align="right">1.332368</td>
<td align="right">1.063222</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.168562</td>
<td align="right">1.448563</td>
<td align="right">1.349473</td>
<td align="right">1.323296</td>
<td align="right">1.389481</td>
<td align="right">1.078517</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334440 284.9    8529671 455.6   8529671 455.6
Vcells 17834651 136.1   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">13.45022</td>
<td align="right">15.00510</td>
<td align="right">17.29576</td>
<td align="right">17.71355</td>
<td align="right">18.03555</td>
<td align="right">28.16862</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">13.35736</td>
<td align="right">14.98070</td>
<td align="right">17.65791</td>
<td align="right">17.84439</td>
<td align="right">18.44718</td>
<td align="right">35.18150</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">17.36632</td>
<td align="right">23.75696</td>
<td align="right">24.61952</td>
<td align="right">24.18407</td>
<td align="right">25.44178</td>
<td align="right">28.58307</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">16.49944</td>
<td align="right">23.80050</td>
<td align="right">24.68057</td>
<td align="right">24.48683</td>
<td align="right">26.88420</td>
<td align="right">28.82598</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.9930961</td>
<td align="right">0.9983741</td>
<td align="right">1.020939</td>
<td align="right">1.007386</td>
<td align="right">1.022823</td>
<td align="right">1.248961</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.2911552</td>
<td align="right">1.5832595</td>
<td align="right">1.423442</td>
<td align="right">1.365286</td>
<td align="right">1.410646</td>
<td align="right">1.014713</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.2267037</td>
<td align="right">1.5861609</td>
<td align="right">1.426972</td>
<td align="right">1.382378</td>
<td align="right">1.490623</td>
<td align="right">1.023337</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334527 284.9    8529671 455.6   8529671 455.6
Vcells 19834715 151.4   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">25.81895</td>
<td align="right">26.51238</td>
<td align="right">30.21581</td>
<td align="right">28.05782</td>
<td align="right">35.32258</td>
<td align="right">48.05117</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">25.81136</td>
<td align="right">26.52639</td>
<td align="right">33.27037</td>
<td align="right">28.08455</td>
<td align="right">30.11104</td>
<td align="right">399.47393</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">29.67431</td>
<td align="right">41.22107</td>
<td align="right">43.72055</td>
<td align="right">42.64755</td>
<td align="right">48.19389</td>
<td align="right">50.79746</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">29.80945</td>
<td align="right">41.46204</td>
<td align="right">44.23641</td>
<td align="right">47.05902</td>
<td align="right">48.32213</td>
<td align="right">52.20627</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.9997062</td>
<td align="right">1.000528</td>
<td align="right">1.101091</td>
<td align="right">1.000952</td>
<td align="right">0.8524585</td>
<td align="right">8.313511</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.1493228</td>
<td align="right">1.554786</td>
<td align="right">1.446943</td>
<td align="right">1.519988</td>
<td align="right">1.3643931</td>
<td align="right">1.057153</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.1545569</td>
<td align="right">1.563875</td>
<td align="right">1.464015</td>
<td align="right">1.677215</td>
<td align="right">1.3680238</td>
<td align="right">1.086472</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on integer+n = 10000000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h2>Data type &ldquo;double&rdquo;</h2>

<h3>Data</h3>

<pre><code class="r">&gt; rvector &lt;- function(n, mode = c(&quot;logical&quot;, &quot;double&quot;, &quot;integer&quot;), range = c(-100, +100), na_prob = 0) {
+     mode &lt;- match.arg(mode)
+     if (mode == &quot;logical&quot;) {
+         x &lt;- sample(c(FALSE, TRUE), size = n, replace = TRUE)
+     }     else {
+         x &lt;- runif(n, min = range[1], max = range[2])
+     }
+     storage.mode(x) &lt;- mode
+     if (na_prob &gt; 0) 
+         x[sample(n, size = na_prob * n)] &lt;- NA
+     x
+ }
&gt; rvectors &lt;- function(scale = 10, seed = 1, ...) {
+     set.seed(seed)
+     data &lt;- list()
+     data[[1]] &lt;- rvector(n = scale * 100, ...)
+     data[[2]] &lt;- rvector(n = scale * 1000, ...)
+     data[[3]] &lt;- rvector(n = scale * 10000, ...)
+     data[[4]] &lt;- rvector(n = scale * 1e+05, ...)
+     data[[5]] &lt;- rvector(n = scale * 1e+06, ...)
+     names(data) &lt;- sprintf(&quot;n = %d&quot;, sapply(data, FUN = length))
+     data
+ }
&gt; data &lt;- rvectors(mode = mode)
</code></pre>

<h3>Results</h3>

<h3>n = 1000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334537 284.9    8529671 455.6   8529671 455.6
Vcells 25389783 193.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.003397</td>
<td align="right">0.0035125</td>
<td align="right">0.0036706</td>
<td align="right">0.0036035</td>
<td align="right">0.0037195</td>
<td align="right">0.008628</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.003853</td>
<td align="right">0.0040150</td>
<td align="right">0.0043051</td>
<td align="right">0.0041085</td>
<td align="right">0.0041940</td>
<td align="right">0.018430</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.005006</td>
<td align="right">0.0052320</td>
<td align="right">0.0054801</td>
<td align="right">0.0053370</td>
<td align="right">0.0054530</td>
<td align="right">0.018092</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.005515</td>
<td align="right">0.0058415</td>
<td align="right">0.0061428</td>
<td align="right">0.0059525</td>
<td align="right">0.0060955</td>
<td align="right">0.021552</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.134236</td>
<td align="right">1.143061</td>
<td align="right">1.172858</td>
<td align="right">1.140141</td>
<td align="right">1.127571</td>
<td align="right">2.136069</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.473653</td>
<td align="right">1.489537</td>
<td align="right">1.492974</td>
<td align="right">1.481060</td>
<td align="right">1.466057</td>
<td align="right">2.096894</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.623491</td>
<td align="right">1.663061</td>
<td align="right">1.673515</td>
<td align="right">1.651866</td>
<td align="right">1.638796</td>
<td align="right">2.497914</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334686 285.0    8529671 455.6   8529671 455.6
Vcells 21391506 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.002829</td>
<td align="right">0.0030780</td>
<td align="right">0.0033358</td>
<td align="right">0.0031720</td>
<td align="right">0.003297</td>
<td align="right">0.016660</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.003176</td>
<td align="right">0.0034155</td>
<td align="right">0.0036594</td>
<td align="right">0.0035295</td>
<td align="right">0.003669</td>
<td align="right">0.010323</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.003777</td>
<td align="right">0.0040305</td>
<td align="right">0.0042983</td>
<td align="right">0.0041570</td>
<td align="right">0.004339</td>
<td align="right">0.014093</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.006017</td>
<td align="right">0.0064345</td>
<td align="right">0.0068636</td>
<td align="right">0.0066250</td>
<td align="right">0.006828</td>
<td align="right">0.024158</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.122658</td>
<td align="right">1.109649</td>
<td align="right">1.097018</td>
<td align="right">1.112705</td>
<td align="right">1.112830</td>
<td align="right">0.6196279</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.335101</td>
<td align="right">1.309454</td>
<td align="right">1.288555</td>
<td align="right">1.310530</td>
<td align="right">1.316045</td>
<td align="right">0.8459184</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">2.126900</td>
<td align="right">2.090481</td>
<td align="right">2.057588</td>
<td align="right">2.088588</td>
<td align="right">2.070974</td>
<td align="right">1.4500600</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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LF95sKOkxsbGHTt2MNeyuOOOO6ZMmWK325V/M4DvgRDJM+x2zccfqs5VIYScAwfbJ09ze8V7771XVlYWHh5eX19vNBrPnz8/derU+++/f+bMmRaLpXv37m+//falS5fmz5+PENLr9e+///7mzZuPHz8eGhpaU1NTUlIyZMiQHj16IIRiY2NF1vxRCOwo6Q9/+ANrbR28GIVGo/nDH/7gO78AZZOU3Yj/+duRAENVcw7rEUJIdeIYdaVZylUpKSnr1q27ePHinDlz1qxZU1paumHDhhkzZuzduzclJWXbtm319fVLly7dsWOHw+Gora1FCOn1+sLCwrvuuqusrGzo0KHdu3f/17/+tX379kmTJnXg7ZGAv3to3759CxcuRAhNnTo1MjJy8+bNPnUKAIIVihL7KkDv3r0RQgaDoU+fPgaDwW63nz179uOPP54zZ865c+eio6MTEhI2bdo0b96806dP46Wj0tLSEEIRERF4WbFXX331o48+2rVrV2RkJPF7Igu/JM2dO3fSpElHjhyxWCw//vjjK6+84mO3ACAocfa53ZnS7/rnu4e6oqLl2UlOTh4/fvzbb789bty45OTktWvXPv7443//+9+7deuGmzXMwaj/+7//a25ufv/996OjZWbnS/hfKGlvbx8zZszy5csffvjhxMREeiMgAPA99GyDYGgnqtX2xx6n6uuQVuOK7ybPRkJCwrPPPjtjxoxdu3b16tVr2rRpDz30UGFh4aZNm4xGY0lJSffu3XFKnU4XGRm5a9euw4cPjxgxAiE0f/786dOnE7udDoB/odtJkybFxcUdPHjw+PHja9eu/eKLL44cOeJjzwJ0oVsi8k3QK4kL3UrBy4VumUhf6JY5+4lXkpS80C284yYD/obbhx9+mJmZuXPnzujoaLVaDWNtgL8IhsgI8AT+hptOp+vdu/epU6dOnTp1++23V1RU9OnTx7eOAcB1QJU6FfySNHXqVL1e37NnT/xVpVJlZWX50CsAADop/JIUEhKyfft28Svtdvv69etNJlOvXr1mzZrFe5D1tbGxcfHixfHx8QihRYsWxcfHcy0AANCZ4e9LSk5O3rNnj9VqddyAm6a8vDwxMTE3N/fChQvnz5/nPcj62tDQMGHChIKCgoKCgsTERF4LAAB0ZgRXlXzkkUe6dLk52PHLL7+wElRXV/fv3x8hZDQaq6ur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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334770 285.0    8529671 455.6   8529671 455.6
Vcells 21391667 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.003955</td>
<td align="right">0.0041900</td>
<td align="right">0.0044788</td>
<td align="right">0.0043285</td>
<td align="right">0.0045640</td>
<td align="right">0.013814</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.004634</td>
<td align="right">0.0048675</td>
<td align="right">0.0051350</td>
<td align="right">0.0050510</td>
<td align="right">0.0053005</td>
<td align="right">0.006276</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.004870</td>
<td align="right">0.0051460</td>
<td align="right">0.0054945</td>
<td align="right">0.0053365</td>
<td align="right">0.0055185</td>
<td align="right">0.019900</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.007242</td>
<td align="right">0.0076560</td>
<td align="right">0.0082527</td>
<td align="right">0.0079435</td>
<td align="right">0.0081550</td>
<td align="right">0.026346</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.171681</td>
<td align="right">1.161695</td>
<td align="right">1.146505</td>
<td align="right">1.166917</td>
<td align="right">1.161372</td>
<td align="right">0.4543217</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.231353</td>
<td align="right">1.228162</td>
<td align="right">1.226784</td>
<td align="right">1.232875</td>
<td align="right">1.209137</td>
<td align="right">1.4405675</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.831100</td>
<td align="right">1.827208</td>
<td align="right">1.842612</td>
<td align="right">1.835162</td>
<td align="right">1.786810</td>
<td align="right">1.9071956</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334851 285.0    8529671 455.6   8529671 455.6
Vcells 21391921 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.006096</td>
<td align="right">0.0063290</td>
<td align="right">0.0067313</td>
<td align="right">0.0065355</td>
<td align="right">0.0067290</td>
<td align="right">0.021217</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.006673</td>
<td align="right">0.0070425</td>
<td align="right">0.0072381</td>
<td align="right">0.0072185</td>
<td align="right">0.0073795</td>
<td align="right">0.009505</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.007397</td>
<td align="right">0.0076115</td>
<td align="right">0.0080315</td>
<td align="right">0.0077860</td>
<td align="right">0.0080540</td>
<td align="right">0.025651</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.009168</td>
<td align="right">0.0095680</td>
<td align="right">0.0100987</td>
<td align="right">0.0097825</td>
<td align="right">0.0100630</td>
<td align="right">0.034877</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.094652</td>
<td align="right">1.112735</td>
<td align="right">1.075295</td>
<td align="right">1.104506</td>
<td align="right">1.096671</td>
<td align="right">0.4479898</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.213419</td>
<td align="right">1.202639</td>
<td align="right">1.193172</td>
<td align="right">1.191340</td>
<td align="right">1.196909</td>
<td align="right">1.2089834</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.503937</td>
<td align="right">1.511771</td>
<td align="right">1.500270</td>
<td align="right">1.496825</td>
<td align="right">1.495467</td>
<td align="right">1.6438233</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 10000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5334861 285.0    8529671 455.6   8529671 455.6
Vcells 21391489 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.019592</td>
<td align="right">0.0204710</td>
<td align="right">0.0216919</td>
<td align="right">0.0212445</td>
<td align="right">0.0224825</td>
<td align="right">0.037104</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.023796</td>
<td align="right">0.0242965</td>
<td align="right">0.0257009</td>
<td align="right">0.0258625</td>
<td align="right">0.0267565</td>
<td align="right">0.040319</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.025122</td>
<td align="right">0.0262995</td>
<td align="right">0.0282379</td>
<td align="right">0.0280265</td>
<td align="right">0.0292220</td>
<td align="right">0.049169</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.033995</td>
<td align="right">0.0354585</td>
<td align="right">0.0377419</td>
<td align="right">0.0380060</td>
<td align="right">0.0395335</td>
<td align="right">0.055808</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.214577</td>
<td align="right">1.186874</td>
<td align="right">1.184816</td>
<td align="right">1.217374</td>
<td align="right">1.190103</td>
<td align="right">1.086648</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.282258</td>
<td align="right">1.284720</td>
<td align="right">1.301773</td>
<td align="right">1.319236</td>
<td align="right">1.299767</td>
<td align="right">1.325167</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.735147</td>
<td align="right">1.732133</td>
<td align="right">1.739913</td>
<td align="right">1.788981</td>
<td align="right">1.758412</td>
<td align="right">1.504097</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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J+fn5/fu3XvNmjWvvvpqnz59Tp8+nZycvHfv3qBUEeCu4nAIly4KxUUBO+D7778/dOjQzz77rEePHlu2bAnYcb2jbCXduHFj586dBoNB2tK+ffvk5GSbzRaUN9P89Dn64Hqn9oE/OgBjNpv+g026i+cJIY6uPWyjUuvcY8OGDYcOHYqMjLx8+bLFYikqKho9evSQIUMmTJhQVVXVunXrt99+++rVq9OnTyeEmEym9957b/369SdOnAgPD7906dLmzZt79ux5zz33EEKaNm0aERHh77foI2Urafz48fJ8RAih1+Xq9frx48cHrl6EEFk+Arg76C5dpPmIEKLLPy78p9STvRISEl555ZUffvhhypQpa9as2bp167p16zIyMvbt25eQkLBt27bLly/Pmzdv586ddru9sLCQEGIymTIzMzt37nzo0KHevXu3bt16z54927dvHzlypB/fHgvqw0MHDhygi7yMHj26UaNG69evD2ilAO5WgqD11I22bdsSQsxmc7t27cxms81mu3DhwgcffDBlypSLFy9GR0e3aNEiOzv7qaeeOnPmDF0qt3v37oSQqKgouorDiy+++Le//W337t2NGjVi/p7YUk9JU6dOHTly5NGjR6uqqs6dO7d8+fIAV4uSOmvotcHdwdHuXkdCxx8fP9Db2TjauzhWq/XRRx99++23hw0bZrVa165d+/jjj7/++ustW7ak3Rr5j1F///vfS0tL33vvvehoLw8XSOoXlFRXVw8dOnThwoW//e1vW7VqxWrxHS8gGcFdRRRtYx8XLhcTg94Z29K7GC1atJg2bVpGRsbu3bvj4uJSU1NTUlIyMzOzs7MtFsvmzZtbt25NS0ZERDRq1Gj37t1Hjhyh63xPnz49PT2d2dvxA/Ul3EaOHBkTE/P555+fOHFi7dq1//znP48ePcr82OXl5e4WkAsLCxMEobq6OuqrfMVLd3p2lR7TV+mWqK/y5S+5BqypqfGwYtJBVQPqdDqj0chw0bV61a1OJpOpurqa1aJrer3e4XBIt9DwkXRamUQjTD+6Ok+rIAj1vXEIrnHzgnoradOmTZs3b549e3Z0dLQoin76rU26RYwrURR1Op1q68w1SUlbXF+iSrvdL710s+t9hJCm+WcUZeh2BakCUvmbXe+jf7sMW456vZ5hNKfTabfbWQUUBMFut7NKcBqn1QuCIDD8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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335010 285.0    8529671 455.6   8529671 455.6
Vcells 21393922 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.012235</td>
<td align="right">0.0128715</td>
<td align="right">0.0137211</td>
<td align="right">0.013318</td>
<td align="right">0.0137245</td>
<td align="right">0.024455</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.012882</td>
<td align="right">0.0136635</td>
<td align="right">0.0142658</td>
<td align="right">0.013986</td>
<td align="right">0.0144090</td>
<td align="right">0.028018</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.015782</td>
<td align="right">0.0162710</td>
<td align="right">0.0171119</td>
<td align="right">0.016755</td>
<td align="right">0.0173325</td>
<td align="right">0.031873</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.015611</td>
<td align="right">0.0164135</td>
<td align="right">0.0174252</td>
<td align="right">0.016794</td>
<td align="right">0.0173245</td>
<td align="right">0.064889</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.052881</td>
<td align="right">1.061531</td>
<td align="right">1.039705</td>
<td align="right">1.050158</td>
<td align="right">1.049874</td>
<td align="right">1.145696</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.289906</td>
<td align="right">1.264111</td>
<td align="right">1.247130</td>
<td align="right">1.258072</td>
<td align="right">1.262887</td>
<td align="right">1.303333</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.275930</td>
<td align="right">1.275182</td>
<td align="right">1.269963</td>
<td align="right">1.261000</td>
<td align="right">1.262305</td>
<td align="right">2.653404</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335094 285.0    8529671 455.6   8529671 455.6
Vcells 21394983 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.020904</td>
<td align="right">0.0219150</td>
<td align="right">0.0236334</td>
<td align="right">0.0228335</td>
<td align="right">0.0238410</td>
<td align="right">0.039096</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.020723</td>
<td align="right">0.0221710</td>
<td align="right">0.0231311</td>
<td align="right">0.0228425</td>
<td align="right">0.0239555</td>
<td align="right">0.031711</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.023336</td>
<td align="right">0.0250565</td>
<td align="right">0.0270711</td>
<td align="right">0.0258095</td>
<td align="right">0.0274085</td>
<td align="right">0.081607</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.026991</td>
<td align="right">0.0283175</td>
<td align="right">0.0297291</td>
<td align="right">0.0293300</td>
<td align="right">0.0306085</td>
<td align="right">0.046726</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.9913414</td>
<td align="right">1.011681</td>
<td align="right">0.978747</td>
<td align="right">1.000394</td>
<td align="right">1.004803</td>
<td align="right">0.811106</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.1163414</td>
<td align="right">1.143349</td>
<td align="right">1.145461</td>
<td align="right">1.130335</td>
<td align="right">1.149637</td>
<td align="right">2.087349</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.2911883</td>
<td align="right">1.292151</td>
<td align="right">1.257931</td>
<td align="right">1.284516</td>
<td align="right">1.283860</td>
<td align="right">1.195161</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335175 285.0    8529671 455.6   8529671 455.6
Vcells 21397037 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.036775</td>
<td align="right">0.0382140</td>
<td align="right">0.0407724</td>
<td align="right">0.0405630</td>
<td align="right">0.0423160</td>
<td align="right">0.053501</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.036998</td>
<td align="right">0.0389655</td>
<td align="right">0.0426207</td>
<td align="right">0.0416175</td>
<td align="right">0.0447005</td>
<td align="right">0.077864</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.039122</td>
<td align="right">0.0409575</td>
<td align="right">0.0442101</td>
<td align="right">0.0435920</td>
<td align="right">0.0456245</td>
<td align="right">0.073438</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.047836</td>
<td align="right">0.0505150</td>
<td align="right">0.0542753</td>
<td align="right">0.0538305</td>
<td align="right">0.0575540</td>
<td align="right">0.065101</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.006064</td>
<td align="right">1.019666</td>
<td align="right">1.045334</td>
<td align="right">1.025997</td>
<td align="right">1.056350</td>
<td align="right">1.455375</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.063821</td>
<td align="right">1.071793</td>
<td align="right">1.084315</td>
<td align="right">1.074674</td>
<td align="right">1.078186</td>
<td align="right">1.372647</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.300775</td>
<td align="right">1.321898</td>
<td align="right">1.331178</td>
<td align="right">1.327084</td>
<td align="right">1.360100</td>
<td align="right">1.216818</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 100000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335185 285.0    8529671 455.6   8529671 455.6
Vcells 21396605 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 100000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.123641</td>
<td align="right">0.1301225</td>
<td align="right">0.1480198</td>
<td align="right">0.1367445</td>
<td align="right">0.1636720</td>
<td align="right">0.212153</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">0.157203</td>
<td align="right">0.1574605</td>
<td align="right">0.1760000</td>
<td align="right">0.1586010</td>
<td align="right">0.1949485</td>
<td align="right">0.265719</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">0.155662</td>
<td align="right">0.1558715</td>
<td align="right">0.1776203</td>
<td align="right">0.1642010</td>
<td align="right">0.1959210</td>
<td align="right">0.264739</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.232905</td>
<td align="right">0.2330720</td>
<td align="right">0.2702550</td>
<td align="right">0.2524035</td>
<td align="right">0.2967165</td>
<td align="right">0.416678</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.271447</td>
<td align="right">1.210094</td>
<td align="right">1.189031</td>
<td align="right">1.159835</td>
<td align="right">1.191093</td>
<td align="right">1.252488</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.258984</td>
<td align="right">1.197883</td>
<td align="right">1.199977</td>
<td align="right">1.200787</td>
<td align="right">1.197034</td>
<td align="right">1.247868</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.883720</td>
<td align="right">1.791174</td>
<td align="right">1.825803</td>
<td align="right">1.845804</td>
<td align="right">1.812873</td>
<td align="right">1.964045</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 100000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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3NzchoaGuLi4GTNmBLs4v3j99de/++47/sWx8ePHd+vWbd26dSzLxsTELFiwAOPrWtpcv35dXB6Px0PgbczJyfnd737Hz3osKXDQb+DSpUuXLFnCP3ET3zpifyDDAREpCQAAeEQ03AAAgAcpCQBAEEhJAACCQEoCABAEUhIAgCCQkoizY8eOpKSkysrK7t27azhdOJGPg7t0ADQvIkZvA7Fx48YNHDjQ52Fut/v27dutW7duYhwAiAK1JOJ8++23ixYtmj9/fnl5eUZGBkIoJyfHarV269Zt2bJlCKEjR46kpaX17t37zTff5Djuqaeeat++fY8ePTIzMzmOE07k4yCEli1bxo9IXrFiBX/69OnTFy9ePHny5LS0NIxrWAOAQXAnIgDeDh8+/Nvf/vbGjRvdunXjOC4/P79///6VlZXV1dVjx47dtm3b4cOHIyMjv//+e47jzpw585vf/MbpdDqdTpvNdu7cOeFEPs6nn346cODA2tra2traAQMG/POf/zx8+LDJZLp58ybHcSkpKXv27Anu9wVADBpupCsoKKiqqkpLS0MIXb58ubi4uHPnzoMHD+Znz+jZs+d777138ODBb7755scff/ReRKigoGDGjBlmsxkhNH369IKCggkTJgwaNCg6OhohZLVaMa47BEDTQUoindlsnjdvXlZWFkLI7XZzHHfs2DH+NWCEUFFR0R/+8IfZs2ePHz/+yy+/9D6d4zhhCg6Kovh12VR6oAAILuhLIhe/LmZycvL27dvv3LnT0NAwevTojz/+WHzMoUOH+Nlj27Zt+9133zU0NKB7F9R85JFHtm3b5nA47Hb7tm3b+BnpACAWpCRCRUVFRUVFzZo1KykpacaMGUlJSQkJCQ899NCUKVPEh6Wnp586dapfv37PPPNMRkbGsmXLhBP5AyZMmDB8+PDevXv37t17zJgx48aNE59O0zS/LDAAhICZAAAABIFaEgCAIJCSAAAEgZQEACAIpCQAAEEgJQEACAIpCQBAEEhJAACC/H9JQ7HxSn2RqQAAAABJRU5ErkJggg==" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335334 285.0    8529671 455.6   8529671 455.6
Vcells 21403139 163.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 100000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.077349</td>
<td align="right">0.0856255</td>
<td align="right">0.0927483</td>
<td align="right">0.0903835</td>
<td align="right">0.0989490</td>
<td align="right">0.119778</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.081374</td>
<td align="right">0.0861535</td>
<td align="right">0.0951665</td>
<td align="right">0.0919175</td>
<td align="right">0.1009670</td>
<td align="right">0.131160</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.083170</td>
<td align="right">0.0885990</td>
<td align="right">0.0973453</td>
<td align="right">0.0966945</td>
<td align="right">0.1043025</td>
<td align="right">0.133494</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.105852</td>
<td align="right">0.1158745</td>
<td align="right">0.1261990</td>
<td align="right">0.1235155</td>
<td align="right">0.1353835</td>
<td align="right">0.232145</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.052037</td>
<td align="right">1.006166</td>
<td align="right">1.026072</td>
<td align="right">1.016972</td>
<td align="right">1.020394</td>
<td align="right">1.095026</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.075256</td>
<td align="right">1.034727</td>
<td align="right">1.049564</td>
<td align="right">1.069825</td>
<td align="right">1.054104</td>
<td align="right">1.114512</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.368499</td>
<td align="right">1.353271</td>
<td align="right">1.360661</td>
<td align="right">1.366571</td>
<td align="right">1.368215</td>
<td align="right">1.938127</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 100000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335418 285.0    8529671 455.6   8529671 455.6
Vcells 21414762 163.4   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 100000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.136383</td>
<td align="right">0.1369515</td>
<td align="right">0.1596459</td>
<td align="right">0.1564385</td>
<td align="right">0.177603</td>
<td align="right">0.224354</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.134424</td>
<td align="right">0.1386260</td>
<td align="right">0.1634526</td>
<td align="right">0.1571330</td>
<td align="right">0.180167</td>
<td align="right">0.300216</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.136195</td>
<td align="right">0.1387200</td>
<td align="right">0.1625829</td>
<td align="right">0.1589555</td>
<td align="right">0.177135</td>
<td align="right">0.230900</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.181882</td>
<td align="right">0.1827200</td>
<td align="right">0.2163775</td>
<td align="right">0.2123575</td>
<td align="right">0.236955</td>
<td align="right">0.305140</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.9856360</td>
<td align="right">1.012227</td>
<td align="right">1.023845</td>
<td align="right">1.004439</td>
<td align="right">1.0144367</td>
<td align="right">1.338135</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.9986215</td>
<td align="right">1.012913</td>
<td align="right">1.018397</td>
<td align="right">1.016089</td>
<td align="right">0.9973649</td>
<td align="right">1.029177</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.3336120</td>
<td align="right">1.334195</td>
<td align="right">1.355359</td>
<td align="right">1.357450</td>
<td align="right">1.3341835</td>
<td align="right">1.360083</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 100000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 100000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335499 285.0    8529671 455.6   8529671 455.6
Vcells 21434816 163.6   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 100000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">0.261269</td>
<td align="right">0.2649040</td>
<td align="right">0.3562759</td>
<td align="right">0.2869375</td>
<td align="right">0.3184455</td>
<td align="right">6.092981</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.272242</td>
<td align="right">0.2749425</td>
<td align="right">0.3049602</td>
<td align="right">0.2906005</td>
<td align="right">0.3257420</td>
<td align="right">0.412461</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">0.263600</td>
<td align="right">0.2718540</td>
<td align="right">0.3079954</td>
<td align="right">0.2970435</td>
<td align="right">0.3242510</td>
<td align="right">0.527499</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">0.357708</td>
<td align="right">0.3648395</td>
<td align="right">0.4119429</td>
<td align="right">0.3919220</td>
<td align="right">0.4516170</td>
<td align="right">0.598076</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.041999</td>
<td align="right">1.037895</td>
<td align="right">0.8559665</td>
<td align="right">1.012766</td>
<td align="right">1.022913</td>
<td align="right">0.0676945</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.008922</td>
<td align="right">1.026236</td>
<td align="right">0.8644855</td>
<td align="right">1.035220</td>
<td align="right">1.018231</td>
<td align="right">0.0865749</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.369118</td>
<td align="right">1.377252</td>
<td align="right">1.1562469</td>
<td align="right">1.365879</td>
<td align="right">1.418192</td>
<td align="right">0.0981582</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 100000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h3>n = 1000000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335509 285.0    8529671 455.6   8529671 455.6
Vcells 21434384 163.6   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.333625</td>
<td align="right">1.352267</td>
<td align="right">1.423952</td>
<td align="right">1.381003</td>
<td align="right">1.414618</td>
<td align="right">2.574833</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.636013</td>
<td align="right">1.670561</td>
<td align="right">1.742952</td>
<td align="right">1.700897</td>
<td align="right">1.776353</td>
<td align="right">2.402908</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.651583</td>
<td align="right">1.688845</td>
<td align="right">1.752163</td>
<td align="right">1.723132</td>
<td align="right">1.776223</td>
<td align="right">2.350706</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">2.424576</td>
<td align="right">2.475733</td>
<td align="right">2.578822</td>
<td align="right">2.534032</td>
<td align="right">2.581672</td>
<td align="right">4.091119</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.226741</td>
<td align="right">1.235378</td>
<td align="right">1.224024</td>
<td align="right">1.231639</td>
<td align="right">1.255712</td>
<td align="right">0.9332287</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.238416</td>
<td align="right">1.248900</td>
<td align="right">1.230493</td>
<td align="right">1.247739</td>
<td align="right">1.255621</td>
<td align="right">0.9129547</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.818034</td>
<td align="right">1.830803</td>
<td align="right">1.811031</td>
<td align="right">1.834921</td>
<td align="right">1.824996</td>
<td align="right">1.5888871</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 1000000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335658  285    8529671 455.6   8529671 455.6
Vcells 21494917  164   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.060349</td>
<td align="right">1.089580</td>
<td align="right">1.255321</td>
<td align="right">1.118643</td>
<td align="right">1.145223</td>
<td align="right">7.532557</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.134807</td>
<td align="right">1.164546</td>
<td align="right">1.272702</td>
<td align="right">1.190851</td>
<td align="right">1.228322</td>
<td align="right">7.659987</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.143280</td>
<td align="right">1.180238</td>
<td align="right">1.219480</td>
<td align="right">1.199141</td>
<td align="right">1.238282</td>
<td align="right">1.641473</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.594557</td>
<td align="right">1.632402</td>
<td align="right">1.698210</td>
<td align="right">1.665925</td>
<td align="right">1.729671</td>
<td align="right">2.319990</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.070220</td>
<td align="right">1.068803</td>
<td align="right">1.0138459</td>
<td align="right">1.064549</td>
<td align="right">1.072561</td>
<td align="right">1.0169172</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.078211</td>
<td align="right">1.083204</td>
<td align="right">0.9714482</td>
<td align="right">1.071960</td>
<td align="right">1.081258</td>
<td align="right">0.2179171</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.503804</td>
<td align="right">1.498193</td>
<td align="right">1.3528091</td>
<td align="right">1.489236</td>
<td align="right">1.510335</td>
<td align="right">0.3079950</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAAEECAIAAACjmgRhAAAgAElEQVR4nO2de1gUR9b/a7rnAjOgXAQMKroIaJR4WyGiq1HhZ7wbdbMQ467GrJsLT4ImQvzFS9CYuK5BheCay7oxiddIXl2zxlcNCRtiQDEa1HgBk7AEUQIEgQEGmKHfP8q0bU9Pz9BTzBRwPo9PMtRUnz5V0/3tquqqUyqO4xAAAAAdMO52AAAA4C4gSQAAUARIEgAAFKFWfGRjY+PGjRvNZrPBYEhJSdFqtQihqqqqF198MTAwECG0fPny4OBgYp4CANANUCke3j569KjJZJo/f/6+ffsCAgLi4uIQQleuXLlw4UJ8fLzkIU1NTW1tbdJ+qFRqtbq1tVWZM5IGVSqVrdMpQKPRWCwWggZZlrVYLKSsMQzDMIzZbCZokOM4gm8/NBqN2WwmaNDFFcgwjKenJ6nTAbZQ3koKDw/39/dHCHl5eWk0GpxYUVFRXl6emZkZGRk5ceJE0SEmk8nWNaTRaLRabVNTk2J/rA2qVKqWlhZSBnU6nclkImjQYDAQLK9Wq/X09CRrkOM4gg8JDw+PpqYmggbJVqBOp9PpdDIGWZYFSXIByiUpIiICIVRQUPD111+vWbMGJ+r1+sjIyJEjR6anp/v5+Q0bNgwhdPjw4fz8fITQc88916tXL0lrDMOwLOvt7a3YH2uDCCGdTkfQoKenJ0GDarUaO0mEDqpAgq1ChmH0ej1Bg2QrkGVZhmEIViCgDOWShBA6ePBgWVnZ6tWr9Xo9TomOjsYfJk+eXFRUhCVpwIAB+EKU6ZqxLMuyLMFHKMuyKpWKYEdGrVZbLBayPSOC5cX3J1mDHMcR7BnhjhvZrhbB8nIcp9FoZAyqVCqCDyTAFsolKS8vz2g0Ll++XJi4b9++IUOGDB8+vLS0NCwsDCeOGDFixIgRCKGamhqTySRpTaPRaDQaW98qgHjHzcPDo6WlhaBBlmUJller1RI3SLbj5unp2dLSQvapQ7C8Op2OYRgZgyzLGgwGUqcDbKFckgoLC69cubJy5UqE0IwZM4KCgk6cOBEfH79ly5asrCx/f/+YmBhyfgIA0C1QLklPP/20KAWPLm3cuNEpjwAA6MbAVEkAACgCJIkknFlV+YUXZ0EIIeN1rfG61t0eKSe/JK2q4SpCqLHl59wfX3G3O8qpqD//bfk7+PPXJa/XN//kXn8AeUCSSKJSc579WipOeDcU6YzFOsNviI2Fu55hwX/6vCjlRm3esWtPDQl8zN3uKCfIe2RjS2XBT9u+LtmgYQ3eun7u9giQAySJMF5hLRrvtsqvDIGx9SrW3d44gV4bEBvxt08u/2nEfUv9DYPd7Y5TjB2wquSXExX1F6L6JbnbF8AOIEmEabiua61nAh4y/nyyB2dRudsd5TS2VH5WlDxryAeFN/9R1XDF3e44xdclGwb4PRzkPbzgp23u9gWwA0gSSTizqrFMEzSl3jCwxWuQqeFHjbs9Us6F8g/iIt7o0zNm6uC3r/58wN3uKKei/rxB2zuqX9LYAavMbSYYS6Ic5ctuFVBTUyOzxs1gMNy+fZvUuYhPlfTx8WlsbCS7xq2hoYGUNbzGrba2lqBBslMlfX19jUYj2TVuBCsQr3Grq6uzlYFlWV9fX1KnA2wBrSQAACgCJAkAAIpwatktWSyrXsCrsOuT17rZFQAA3AQtrSSP19e42wUAANwPLZJkevlVd7sAAID7oUWSeKDXBgDdGYrGktjXthCcBAAAQGeEulYSAADdGZAkAAAowqWzt2W2f2AYRqPRNDc3kzoXwzAqlYpgpGedTkc2dLR8pOf2wrKsWq0mWIEsy3IcRzB6v06na21tJbuNFdkKZFlWfnY+7FDiAlw6liS/aRLLsgTXBxBfUIJDg1O+oISsQbILSrRarclkonxBiYxB2DTJNUDHDQAAigBJAgCAIkCSAACgCJAkAAAoAiQJAACKAEkCAIAiQJIAAKAIkCQAACgCJAkAAIoASQIAgCJAkgAAoAiQJAAAKAIkCQAAigBJAgCAIkCSAACgCJAkAAAoQnkIt8bGxo0bN5rNZoPBkJKSotVqEUJmszkjI8NoNIaEhCxevJiYmwAAdA+Ut5K++OKLESNGbNy4ceDAgV9++SVOzM/PDw4OXrt27c2bN8vKygg5CQBAd0F5Kyk8PNzf3x8h5OXlpdFocGJxcfHQoUMRQqGhocXFxX379kUI8fFhOY5TqVSS1lS/otifjjbI26TZGlmD/H8J2qS5ApFseclWBWAL5ZIUERGBECooKPj666/XrLmzfXZjY2OvXr0QQv7+/kajESdu27YtKysLIfTRRx+FhobK2MQaRy3e3t5kDXp4eJA1SLwCm196HiGk25RBxFqPHj2I2OFxZQUS3AkCkMGpHUoOHjxYVlb2l7/8xWAw4JT33nsvMjIyKirqwIEDgYGBkyZNEuavqamR2Q7AYDAQ3FqS+HYAPj4+jY2NDhr03rwe2du5tyO2A6itrSVoUPfaav5P53ch9vX1NRqNlG8HUFdXZysDy7K+vr6kTgfYQvlYUl5entFoXL58Oa9HCKHw8PCSkhKEUGlpaVhYmPP+dUawHgk/AADgIMolqbCw8Ntvv125cuXKlStzc3OLiooyMzPHjBlz48aNzZs3BwYG9uvXj6CjgOsxvfyqu10Auh3Kx5KefvppUQoeXVq2bJlTHnUhnO/suJ0uUASgc+HSrSW7CXAb04kjA3yA24HZ20C3AAb4OgsgSQAAUARIEtAtgP5aZwHGkoDuAqhSp4DSVpL35vXQ5+/mwAXQPaFRkmAkkirc8njAZ4QnUzeERkkSAleke4HHA+BiaJSkrtHnx0/4rncnu7hExC+Grvq7dBlolKQuRqe++nlFwB/4/pQwT0fc5PXJa/E/gjZRJ/8tugmUShJ/OXaNFlOnpiOkgQZAnuiEUknCdOo7QdS+AADAEWBeUgfS9cSo65UIoI3OIUnCNjbcFbTRGX+R+uS1wvGvzliErgotknTljZ4IIYR6hSVVyef03ry+M15AcPWT5U59trMyofLphxZJ4rme3qVUyXoMtRM5L0KmrepiwRXOluqklQnYwqWS5GDwdmHkXEnaUjfZyYEQwzAqlYrfOsV5GIbx8PAgYhAXEIcbd94ahmVZlmXJGuQ4Dm/PZ42tE8k4oFKpPDw8bBlUjOIit6VuumukAyoQUIZLJclkMtnaDuD+FS1X3uiJ20cSId5FT0IHgsAT3w5Ao9Hwuz85juSWJjiIfUdsB0DWIMdxfPR+UXNPdCJvG+kigyaTSdl2AKLWEH+6+uS1/MXgZEsNbwcg4z/Lsp6engosA+3CqR1K2ovzO5Q4ftm5d4cSSUQdH/p3KBFKErJX+Vg1ZPIo3qHElk1hBTr/AgR2KKEE6saSHET42OxiI8fUFkfeH4KjSwoi0grVEOjUdFZJkrwEHRnsdOMNL/TZe/N64VgGnyj6kzZVUoB1Kax/OOFqFevDHTxRF6grAHU6SeLvaskrVeaitH7wuiU4vPDeY1JfQlb+WGduL3bL5ZZJXt6b15sR8kCo1cYZHZEeZT9ZJ90FwGKx1NbW+vn5udsRV9PJJAkJri27t5butdW6e1McaVhJNqO8N6+3IIRWbZD3TVkTzNbdaNeadQa3vx23br0S71LdY83hRrG7KiQtLW379u1arTYhISE1NfW9997Lzs7evXv36dOnk5KSTp069Y9//OO77767efNmdXV1eHj4m2++WVBQkJGR8d133y1cuHDlypWu99m9dD5J4lF2rcsfZd11Ev6pe211i2OXteM3gMtGQPjGQkcPu9gtOHaAd0OUH/8ZcOlapQPnorwF9Pnnn+/fv//s2bMajSY+Pn7Pnj1PPPHE/v37P/nkk/Xr1+/atYtlWYTQp59+WlhYaDAYlixZsnPnzmHDhh0/fvzcuXOhoaHuLoEb6MSSpACZV0UuOJHoW4PBgBoalAmE3UNsNf1wYV3fXcUOmF5+FbW28u4J3RB+Drh0Df+3MnKQdV/bGmoH3XJycmpqauLj4xFCN27cKCgoePzxx995552RI0euWLFi6NChONv06dPxfKj4+HgsSWPHju2eeoS6tiQ1r9qge201/6cjwyv8WI9MX8n6K1EXEi+ecvwmsWXQloBKJjav2iBjyhE6dOC/Pnmtr68vMhodcQBNi8f/x6rUrhNR9b5Sr9c/9dRTycnJCCGLxYIn3NTX17Mse+PGDT5bW1sb/mA2m/Hn7jxjk+rgJHaxG+hL8iuZQxxRE/mbnEifyJaHMsaF4uukM/S8TRfpkQKVca8wxcbG7t27t76+vrW1dcqUKf/617/MZvOTTz557NixM2fO5Obm4myHDx+urKw0m81vvfXWpEmT3OgwDXTlVhKmvfc2EjSFZF5O26WjexPt9Y2GVoODmI4dcHBAyhFrbix4VFTUokWLoqKimpqa/vCHP8yfP3/9+vUTJ04cPXr0W2+99ac//embb75BCI0ePXr27Nm3bt2Ki4tbunRpQUGBuxymgU42e9tx7M7elrmgHen+ODjXRgZls7dFfTrr11uSXrVrrB1ntp697SR2Z2+3d3aCwWBgUl9yMLNd3DV7++233y4rK3v11VeJW+6kdP1Wki3saoooMyXtEev3U7xjzIY0dO+CkvZ64t6WlIKR/k7U9AMcpPu2kqyRf6Ps4+NjWfUC/kzkTuh0a9ycRPEaN1uQrUBY40YJ3beVZI1doWletYHgOl4AAKzp3G/cAADoYoAkAQBAEc5K0oYNG0wmE/9nVVXVokWLkpOTk5OTy8vLnTQOAEB3Q/lYktFoXLdu3bVr14SJlZWV06dPxzPoAaCbU19fr+Aob2/JWKTdBeWS5OXltWnTprVr7xkSrqioKC8vz8zMjIyMnDhxIk7Mz8/HyjV16lQvLy9JayzLMgxDMJAoy7IqlQovayQCwzBarZagQbVaTba8ZCtQrVZzHKdWE3sBolKpdDodQYNkK1CtVsuHslWpVKTOBcjg1PWBQ+4LU/R6fWRk5MiRI9PT0/38/IYNG4YQun37Nl7R09bWZuuWxqbIKghCiKBB3iYpiJeXrEGVSkX2JlSpVN2qAgFlEJ4EEB0djT9Mnjy5qKgIS9LUqVOnTp2KEKqpqTHaWHip0WgYhrH1rQI6Iva2gu0AZOiIeUkEK5D4vCSNRtPU1ET5vCSZCmRZ1sEtdgBnIPzGbd++fYWFhQih0tLS++67j6xxAAC6PBKtpLa2tk8++eT06dPffvttW1vbyJEjo6Oj58yZI9/qLioqOnHiRHx8/JYtW7Kysvz9/WNiYjrMbQBoN47sWtolqaurmz9/fktLS8+ePQ8cOED51k/iBSXHjh3bvn17dHT08OHDBw0apFKprl27VlhYePr06cTExGnTpjlzMsoXlMjj/KZJImBBiZO0qwKvp/fCH2ypUkcsKJF+49bWpir9EWl0XJ++kkcRf+O2fft2o9H40ksvpaamhoSELFmyhKx9sohbSVVVVYcOHRLu6Tpo0KDZs2ebzeZ9+/a51jcA6HKYzeqDe5jvixBCbcNHmWfNt3vE+++/n5ub6+XlVV5eHhoaWlZWNnfu3NjY2EWLFplMpj59+rz77rsVFRWJiYkIIb1e/8EHH+zatev8+fM6na6kpGTv3r2jR4/u27cvQsjPz4/+4TBxX+yPf/yjaI9p3IxSq9V//OMfXecXAHRFmJLvsR4hhJjCc6rbNY4cFRERsW3btlu3bi1dunTLli379+/fvn37ggULjh8/HhERceDAgfLy8pSUlEOHDlksltLSUoSQXq9PS0t74IEHcnNzH3zwwT59+vz73//OysqaOXNmBxaPBNLDQ9nZ2cuWLUMIzZ07t0ePHrt27XKpUwBAmrCkKvzPzX6I5lU4Ns2if//+CCGDwTBgwACDwWA2m69fv37w4MGlS5d+//33Pj4+QUFBO3fufOaZZy5fvoxD5Y4cORIh5O3tjYdKXn/99Y8++ujIkSM9evQgXiaySEvSU089NXPmzLy8PJPJdO3atddee83FbgFAl6RtwMC2iPvvfP7tg1xPH2V2wsPDp02b9u67706dOjU8PHzr1q2PP/74jh07evfujbs1wpdR//M//1NTU/PBBx/4+Cg8nSuRnpfU3NwcFxe3evXqRx55JDg4mOCQJAC4Ebz3SXu3GCAJy5offVxVfgNp1Fxgb2U2goKCnn322QULFhw5ciQkJGT+/Plz5sxJS0vbuXNnaGjo3r17+/Tpg3N6eHj06NHjyJEjp06dGj9+PEIoMTExISGBWHE6AOkQbjNnzvT39//yyy/Pnz+/devWEydO5OXlOX8yu2/czq67I5ExsaecvG5oeOMmv8FGZ3/jht9hOd4VcnsIN6xHGOvfxXVv3OzRzde4SXfc9uzZM2bMmMOHD/v4+LAs65p3bUI9QvdeQJ2OgEvX+M3I3O1Lh8C/U+84cB121QoEbCEtSR4eHv3797906dKePXsGDhx4+vRpF7gy+hWzC84CkCIm9lRM7KkOkoyOMOvO/hrgMNJjSXPnztXr9f369cN/Mgzjmngjd3oBl1xwKkA519N74ZYsQigve9z17Dvp7n+fZQ9QJfqRliStVpuVleViV3jysschhPgncGe8jFbX/A5/SBrvyNb2wD3ID/oAXRvpjlt4ePixY8daWlosv+Iyh6wHKTrdaEJ6boC7XSDJ9fRe+B+fEpZUhR8bAEAcmytp582bN3DgwAG/4gJX1n2isXUzdzpVksQFQ8IdikiVRO0Xgr023nJHNJFg1JxypCUpLy+vurr6JwEuc+joqDvzWUWXY7uuoYBL13zOu21Eiu+szTjH8bcx/tCpVcladDqurVQZOaiju2ygSnQiLUkRERFuDK93dJTK8Ueu9ROP/7PnuYuEPXOYpPGVvDCJZKhzqVJ6bgB+SEj+Ih09nt1xzZm87HF52eM612/RTZAe3v7ll1/69u0bExPDC9OhQ4c62pVXZrUKg5Ok5wZUjq+UvyL5b+UnJbqXmNhTeel3WxP0v5ay5ugoVRK6O04vnCQpLA7ZXwH/uHnZ4wKQs/NmZei2QZSoRVqS8K5HxE+GJwRLfoWj2Xt4eGw6eXfqanpuAPL9Cv3aQbiejfh3z/Wjh4ssWEddaHxwlHBg3vtsoeSBDqJSqbRaLV46hE05Yu3oKBVCX/F/Rr5kvLSpF/5ANnCqWq3GFUjQoPDH4i1f2nRnQ4fr6b1wA+ql/1d/aZMXP8HVVp3gCmxX6xv/7nieQeRL4hC0yiqwfvRw/ue7czldQgihpjG/lTcI2wG4BrEkNTU1eXp6jhsnMUaAv3LmZGazGS9TtobjOK1WK7/aQDgX5hKeCxN791v+2F+GD0EIqdVqi8XCJ/oVXsYfvM8W4gyOc23LnWUEkS+JQ0fLO8yPi1nnxzf2oBcasPFBLzgUpEIetVrN32ztLSOGLyn2RyhJm056vzDxF2FmvnS8HiGE8rLHtQ6XLgvHcWaz2Wy+Z0Isf0YkWwkxsafQWYTuLZdarVa2PCUve1xM7Cl+IAx/+DYb+2DTIMG9DNo4C6Ny3cCIC6JK1tXVzZw5My0t7fHHHy8qKnLGlLiWly1btm7duoqKCmFiRUXFunXrkpKSnDkTQqitrc1ig7a2No7jrGcb8BN8JMnLHofHQSsjB1kbFJ5OeJRf4WVbbvgVXhZ9K7xneIN8iuThvAW+CHh0LCypSmgNCW7Ia1t8bbnkILgCbTnmIELHcAUK51VtyfGzWCy2ujl4dIYvy7UtvsJ/2LjoAhDVBp++JcdvS44f31nj9U5ULnzB8OdqVzGFA/NC+zJ2bD1N20vu96++ke37t896XCz/kIhBu3z44YdxcXH/+c9/Ro0aRWRxmPXavYsXL06aNCkqKio/P99J4+JW0ttvv33q1KknnniipKSkV69eCKGqqqoBAwasWrVKsulEnKTxlem5Afi/OGV1ze/Ckiqvp/fCDzecePexnD5O+Gdl5CDhmCVOF41E4I6A9a3l+MhUZeQg6zzWw158KRyfMCl60W5tn9SoCu+tpMGwpCqEtNbp+KcJS6oSTtcQdU7RvaXA7ZHr6b2iUi1IUIqAS9fy0L2/1CWEBA+h9NyApCSbg4l8Oi8uCkaFsBvClI4eVyqvLcj7cTP+fOxyYljADE+Nn/whHR1VcufOncLMdXV1S5YsUalUvr6+//znP0Ud7Z07dx4/ftxgMGzdulXowK5du86dO5eQkPD8888nJCQIDTY1NQlz2u25S7RFx40b9+mnn16+fHnv3r179+69fPnyp59+6ho9wsjcwPzEbmGi8E/hFcanCxOFV7C8G/go/hoVLcFz8H0NLkt6boDd+ZMia3jyOvbhenovfqxXNGvReYSVE5ZUZb1yzfrn4MuCXywmja+0JZRYj7DNglTW5/wlXP/YPk7H/5wvCF9jdl/SCcO5Yc+xA6PWEIsbYYv65nt2pW9orrCVU0hHR5UUZs7IyHjssceOHDni6+t79OhR68xBQUHvvfeeyIHFixfPnj37/vvvtzYoymm3sHL7uGFldRfChpKQvOxxYUlV/C3KJzpyWVvPoxG+PBI+M3ktQHdVyUd0FLr3ycwfrrghw5uVXEFmdxKQ9tQZ3hPRV468uBTVIT+FQmTNlrYK2xe2RNOReUyipqXwRyH73o0vSOX4SoSQ7rf1COkI2pckxPfuQER/v0l+hnBHjhJGlTSZTDiq5Pnz5z/77DOE0LBhw4KCgtatW/fBBx/IRJW8evWqraiSwszXr19ftGgRQujBBx+8fv26dWa8V6PIAXmDMjmtIby1JFmEz2d+MJW/Uvnr3taFXjvqAVtTk/C9x7+bl2zzS/YI7ty9gh6HSJVERkQ3cFhSleNtHGG5+M/8SyLRuYQlFUUyktQjUZ+F4KTH9NyAGYjjzQplTjiobIuAS9fwa9akX61V3ttMs+s21vE7P/GvGUS/r7sW/Xhq/J/+3XcXy3drWP2wPosYlcIbMDw8PCgo6Mknn/z444/5qJKTJk2aMmWKTFRJW9aEmX/zm9+cPXs2LCysoKBgwoQJ1pm1Wq21Az///LMtg6KcdotGeGtJNyK8aWNiT92/4p5gZngIHF+X1u0p4VAUsnd/Sja1+P6U3Y6D46MV8u0+4VmEMidUUr7HJwJ3AEWvnKzzyMwnFM4F5eH7p8LJrthIZeSgqFTL7ZGRotMJZ2nbEnShfAiL0/jgKGFm699O5nd043LoHh79xoX+/+j+SR5qhWFncVTJjz/+eM6cOTk5OeHh4XPmzNm6devChQtxVEk+J44qmZ2dffLkyfHjx48fP37//v22zOLMSUlJu3fvnjdvXnV19axZs2xlFjkgY9CRnEKko0oihPbs2VNQUPDGG28cOXJk3rx5dg05AsF93PBlOuMch6SGgSsjB0lGlcSjs6KRUZEeBVy6Zn0phyVV4aiSPc9dlLnQhSKCrQmHXUSZRU0zW0EarceYbDkgahdIeiXKIDxEJptoPNtWiYR5ksZXiobqZaoCI1JP4ctW4SF8tsYHRzU0NAjrTfjbCStK9BMLveUt230RAVElXYO0JL3yyisFBQUlJSUXL16cMmXK6NGjN23a5PzJSEmSZKubH0hGtsehhDn5V2aioQrRwAp/EWNJury5h11REFpDv+qg0HP8J47TKrpRre9bfkYi1l+7WPcN8eEbfO+8FBNpjfUAlmQ2of8iD4WIqp1/Ztj6OYQ1w3uIbAi60NXKyEGSgW6tX/ZJ/igybttSpa4hSRUVFbt37xamPPvss7ZmKrUrMymkJWnQoEHffPPN3LlzT5482draGh4eXlJS4vzJiLeSlJFkY2yCv14lx1N5ScJ/4rvUulMjOe3A2mdJ0RQmWksSD77Pj45SWYuUpFeSkiQam8OHCFsTtmJv223sSN7e8pKEv7WWJJFNYXnDkqocj71td4C8+0gS/UiPrrW0tPDXoslkonATcbvXuoOk5wasvtcgkn2zI24vjLpHO9CvLwQdOa+jGUaJv+LVBH/ADvy6HcA9Ge74lovQr/2gpPGVKFKizXLnnSO627JDCK2YLPGE4CeO2Snhr3bs5hROQEOyXSdJFRYZkbQgOY9MiHyzGnAl0pKUmJg4ZcqUmpqazZs379mz55lnnnGxW05C8AoT2kmOrbVO5PtidpXIke6kgzhYwPZO1ET3Fu2Nz30kj22vQTwWLnTGbj/OFkIVlj8j/xnntzuBICWuTn6HEsA12Bze/vzzz3NycvR6fVxc3OjRo4mcjGDHzS7yd6ytfpOyA4WHK/DQkUEZJNswTBpfqdVqN2f3lDmdrdKJzi7K4MybKVEBbW2a5EinSTKb0L5dgbZbENg0iRKkJwE0NzebTKZBgwb169fv2rVrjsy57AK4uOn+8tRGmW8l37Ij207K65HMgTJIdtyIwxdTXjWc+RboRNC1QwlBVky+LTkJABF68tv6qr39L7sZHHn+KxZTawd4a8mxtbZa0IqNO5nTQVWSrA3Hx78A90LjDiUdh/CiFI5uSL4LE2aW6Vx0dNtKdDrJt3LWRbB2DCdKHi5/xk6NsLygSp0C6bGk5OTkyZMnx8bG8st2icS9deVYEvENuG01ghQPvrhgA25nWoV2N+BuL67cgNt6hBsjUxUwlkQJNpfYzJs3DwcnwdjaEWDDhg0rVqzgIx6YzeaMjAyj0RgSErJ48WKirrqZV2a1NjY2Wmuc8NKn7SFMmz8uQ9QcdqMnFJKenn7kyJH33nvv9u3bV69evXnz5mOPPRYYGOhuv+6gfIcSo9GYnJx85swZYWJ+fn5wcPDatWtv3rxZVlbWIS7TClz6gCN8UW98/Pv/Lvmx9FJjk7t8SElJCQkJ2blz5yOPPJKQkPDmm2+6yxNrpFtJjuxQ4uXltWnTprVr1woTi4uLhw4dihAKDQ0tLi52b3gTAKCNkuaWOUU/4M9Zv9yuGBnpaS9+rvMh3HQ6iaArjY2NjY2NWq02KCiouHL3dZQAABD6SURBVLiYeEkV49QOJQzDiGKkNzY24u6ev7+/0Xgnfvtbb7117NgxhFBGRoYtkVKpVDiQndKCSBhE90aPdhKGYby8vMgaxHEeiNApKtDb27vzViCRQLfnGu6Z+fG9qTlSb39pREREREpKyoQJEzZu3Ojt7Z2YmHj16tUFCxbEx8f/9a9/PXDgAM4QExOTkJDAh3D729/+lpqampubGxcXhxB65plnduzYwdu8evVqaGgo/uzt7V1VVSUcqHEjhHco0ev11dXVoaGh1dXVfO/0kUceeeihhxBCBoPB1oCfWq329PRUNhxoy6BKpSI4mOrl5dXc3EzQoKenZ1MTsaa7RqPR6XT8Y4CIQRzAn5RBb2/vpqYmggbJVqBWq9VoNDIvHBiG0Wg0Tp5FJEChHg4FjXMyhFtubu7evXu//PLLZ5555uGHH8Y2//vf/9533334c3Bw8I8//kipJEVFRWVlZW3btk2U7mCgW7xANyoqqrS0dOzYsTixd+/evXv3RgjV1NTYuiJVKhXZGwA/9AgaRAhZLBaCBtva2ghaYxiGbAUSN4jorkCWZdVqtYxBIi+dIzx074eG7K6q0TCqpKAAvdJdT9oVwg1HSuJbSenp6Qih/v37Hz9+HGe4efPmgAEDnCwaKcSStGLFCj8/v2XLlrXXUFFR0YkTJ55++unMzMzNmzcHBgbyMy0BAOCZ6+sz11dh8DYMDuG2YMGCI0eOhISEzJ8/f86cOWlpaTt37sQh3Pr06YNz4iBqkkYGDx7M9+Nqa2sDAmhZdSw9LykxMXH79u38n4sXL961a5fzJ+vU85JwcBKCBl0wL8lJg513XpICus+8pPT09MGDBz/88MPPPffcli1bampqMjIyNmzY0KEndRxxKwnvMVBaWvr555/jFLPZ7OPjlKgDAEAVaWlpQ4YM+fOf/3zo0KFbt24999xz7vboLuJWUnV1NULo2Wef/fvf/84n+vj4wOxtaCU5CbSSHARmb9+Dv78/QqibLP0HAIA2us4OJQAAdAFAkgAAoAiQJAAAKAIkCQAAigBJAgCAIkCSAACgCJAkAOhevP/++9azfOrq6iZMmHD58mWZA99+++2PP/5Y8qv09PTY2NjS0tILFy589NFH6enpP//8szL3QJIAwKVYmlS/nNfcvqRpIzZplAAXL16cNGnSkCFD7ObMzs7etGmTdTqpsHA2A90CAEAcS7Pq6pte+HPtFXX/3zchlfwRxEK4/fDDD08++WTPnj2bmpqWLFly+/ZtoYVdu3adO3duwoQJmZmZvJ3MzMywsLAZM2asW7cOB11CCP3zn/8sLi6eP39+WFiYyFUiYeGglQQArqPhv3cXZhl/VDf/4tANGBERsW3btlu3bi1dunTLli379+/fvn37ggULjh8/HhERceDAgfLy8pSUlEOHDlksFj6EW1pa2gMPPJCbm4uNvPbaaytXrjx8+DBesiqysHjx4tmzZ/fs2VNkx5olS5bweiTaB9s6LFy7KwhaSQDgSljPe5aUsh4Oxdh0MoQbNvLDDz/gEGZjxoxBCIks4DzWdjDWYaQ6LiwctJIAwHUY+lr8Rt0ZQ+o9sVltUBj2Nzw8fNq0ae++++7UqVP5EG47duzo3bu3dQg3zMCBA/Pz8xFCBQUF1hZwHpEdtVpdU1ODEMIH8nAcN378+B07dkyYMGHHjh2PPPIITu/fv//NmzfxZ8Vh4UCSAMCFqNB9cab7k4xDXjD6RyuMKoFDuH388cdz5szJyckJDw+fM2fO1q1bFy5ciEO48TlxCLczZ84sXbr05Zdf/utf//roo4/qdDqDwSCygPOL7MyePXvnzp1z587t168fv6dA3759Dx06JDlUNHjw4B9+uLPZgeKwcNIh3DoImUjJOLBxc3MzqXPhrQpsxUJRgE6nM5vNBA1qNBqCkTpwnFaCFciyLMdxRGLgY3Q6XWtrK0GDxCuQZVn54DOenvZD9wvpPsFJCIaFc+lYkslkkomXxLIswfA3xOMlaTQak8lEebwksgbJxkvSarUmk4nyeEkyBlmWba8kdStIhYVzaSsJQrgJgRBuTgIh3LokMJYEAABFgCQBAEARMC8JADqKbt4FUwa0kgAAoAiQJAAAKAIkCQAAigBJAgCAIkCSAACgCJAkAAAoAiQJAACKAEkCAIAiQJIAAKAIkCQAACgCJAkAAIoASQIAgCKUL7s1m80ZGRlGozEkJGTx4sU4saqq6sUXXwwMDEQILV++PDg4mIiXAAB0E5RLUn5+fnBwcEJCwsaNG8vKyvr27YsQqqysnD59enx8PDkPAQDoRiiXpOLi4qFDhyKEQkNDi4uLsSRVVFSUl5dnZmZGRkZOnDgR57x69WpZWRlCaPjw4R4eHpLWWJZlGIYPOe48LMuqVCqVyt7GfQ6jUqlwpEpSBlmWJVhetVpNtgLVajXHcdYbXSgGVyBBg2QrEPsmY5DgTw/IoFySGhsb8SZN/v7+RqMRJ+r1+sjIyJEjR6anp/v5+eH9ofLz87OzsxFCr7/+uq1QoVg+CMY2xheQRqMhZZBhGK1WS9Yg2RueYRjiFUgwDrJKpdLpdAQNurgCCW5kAMigXJL0en11dXVoaGh1dTUePEIIRUdH4w+TJ08uKirCkrR48WI82FRTU2MrujbE3nYSiL3tJI7E3tZqtaROB9hC+UMmPDy8pKQEIVRaWsrvDr5v377CwkKcyO97CQAA4CDKJWnMmDE3btzYvHlzYGBgv379ioqKMjMz4+Li9u/fv2bNmpqampiYGIKOAgDQHYBNkxwFOm5O0gU6bu3dNAlQAEyVBACAIkCSAACgCJAkAAAoAiQJAACKAEkCAIAiQJIAAKAIkCQAACgCJAkAAIoASQIAgCJAkgAAoAiQJAAAKAIkCQAAigBJAgCAIkCSAACgCJAkAAAoQnmgWwXgEP0yX6nVxPwhbhDbJGiQ8vKyLMtxHNlwWtgmKWsurkCCcb4BGVwqSQzD2JIk/BXLsmTPRdAgDhdP1kOay8swDMdxUIE8sEOJa3CpJLW2tspEldRqtc3NzaTORTyqpKenZ2trK0GDarWaYHk5jiNukGxUSb1e39raStAg2fIihBiGkTFIUP4AGaAtCgAARYAkAQBAESBJAABQBEgSAAAUAZIEAABFgCQBAEARIEkAAFAESBIAABQBkgQAAEWAJAEAQBEgSQAAUARIEgAAFAGSBAAARYAkAQBAESBJAABQhPJ4SWazOSMjw2g0hoSELF68WCYRAADAQZS3kvLz84ODg9euXXvz5s2ysjKZRAAAAAdRLknFxcWhoaEIodDQ0OLiYplEAAAAB1HecWtsbOzVqxdCyN/f32g0yiTu37//yy+/RAitWrUqMDBQ0hoOe9yzZ0/F/lgbRAh5enqSMsiyrF6vJ2uQYDR7hmEYhiFegQSj9zMMYzAYCBp0cQWS3RkBsIXyX1Sv11dXV4eGhlZXV/NCI5k4ePBgrVaLZIMlsywrH/m4veANJ8xmMymDDMOYzWaCBnU6HcHyqtVqjUZD1iDHcbZipSuAZVmZ4OsKcHEFqlQqfBkDHYpySQoPDy8pKYmKiiotLR07dqxM4ogRI0aMGIEQqqmpMZlMktY0Go1Go7H1rQKIbwfg4eHR0tJC0CDLsgTLq9VqiRskux2Ap6dnS0sLQYNky6vT6RiGkTHIsqzBYCB1OsAWyseSxowZc+PGjc2bNwcGBvbr16+oqCgzM1OUSNBRAAC6AypX9pBrampkNk0yGAy3b98mdS7irSQfH5/GxkaCBg0GQ0NDAylrWq3W09OztraWoEGyrSRfX1+j0UjQINkK1Ol0Op2urq7OVgaWZX19fUmdDrAFTJUEAIAiQJIAAKAIkCQAACgCJAkAAIoASQIAgCJc+sattra2ra1N8iuLxdLS0kJwbjSe10twZmNTUxOe+0PKoIeHB8FpNR1RgWSnSjY1NeG5P6QMkq1APA/Ww8PDVgayk+MBm3B0cPbs2YSEBHd7IccTTzyRm5vrbi9s8p///OfJJ590txdyPProo+fOnXO3FzY5evTo888/724vAA46bgAAUAQtkhQQEDB58mR3eyHHQw891Lt3b3d7YZPevXtPmDDB3V7IERcXh5dk00lISAi/BApwIy4dSwIAAJCHllYSAAAAciYSAEGoDY/b2Ni4ceNGs9lsMBhSUlLq6upefPFFHHRl+fLlwcHB7nWvqqpK6E9gYCBt1ZiVlXX69GmEkNFojI6OnjVrFlUVuGHDhhUrVnh4eIiuQGovyG6Bu8fXOY7jcnNz9+3bx3Hc66+//tNPP7nbnbv8+9//zsrK4jhu7969J0+evHz58v79+93t1F1E/lBbjRzHZWZm3rx5k54KrK+vX7FixaxZs5qamjirqqO5Jrs8VHTcqA2PGx4ePnHiRISQl5eXRqOpqKgoLy/PzMzMyclxs2cIIYRE/lBbjaWlpZ6enr1796anAr28vDZt2jRs2DD8p6jqqK3J7gAVkiQZHpcGIiIi/P39CwoKvv7666ioKL1eHxkZmZCQkJ2dfeHCBXd7h0T+UFuNWVlZjz76KLJy2L1eMQyDg/kiqyuQ2prsDlAxliQZHpcSDh48WFZWtnr1ar1eHx0djRMnT55cVFTEP2PdhcgfOquxoaGhqanJ29sbWTns9grkEVUdnTXZTaCilYTD4yKESktLw8LC3O3OXfLy8oxG4/Lly3GE03379hUWFiKESktL77vvPnd7J/aHzmr85ptveOmhrQJ5RFVHZ012E6iYl2Q2mzMzM1tbWwMDAxctWuRud+7y1ltvXblyBS8cmzFjxuDBg7ds2aJWq/39/Z9//nmCy7WUUVlZKfSnra2NwmpMS0v7wx/+gKMeixx2ewWuWbNm1apV+I2bsOqovSC7A1RIEgAAAIaKjhsAAAAGJAkAAIoASQIAgCJAkgAAoAiQJAAAKAIkiToOHDgQFRVVXV19//33KzicPxDbIe0dAHQsVMzeBoRMnz59zJgxdrNZLJba2lo/Pz8n7QAAVUAriTouXLiwYsWKZ599trS0NDExESGUlpYWGho6ePDg1NRUhNCpU6fi4+OHDx/+zjvvcBz33HPP9enTZ+jQocuWLeM4jj8Q20EIpaam4hnJ69evx4cvXLgwJSVl3rx58fHxBPewBgACuDcQAWDNV1999fvf/76qqmrw4MEcx2VnZ48ePbq6urqurm7atGm7d+/+6quvevbs+f3333Mcd/HixYcffrilpaWlpSU8PPzq1av8gdjO0aNHx4wZ09DQ0NDQEB0d/b//+79fffWVp6fnL7/8wnHc7NmzDx8+7N7yAoAQ6LjRTk5OTk1NTXx8PELoxo0bBQUFAwYMGDt2LI6eERkZ+eGHH548efLMmTO3bt2y3kQoJydn0aJFer0eIbRw4cKcnJyZM2fGxMT4+voihEJDQwnuOwQAzgOSRDt6vf6pp55KTk5GCFksFo7jTp8+jZcBI4Ty8vL+/Oc/L1myZMaMGV988YX14RzH8SE4VCoV3pdNZgQKANwLjCXRC94XMzY2du/evfX19a2trVOmTPnXv/4lzPPZZ5/h6LFBQUFXrlxpbW1F926o+dBDD+3evdtkMjU1Ne3evRtHpAMAagFJohQfHx8fH58nnngiKipq0aJFUVFRYWFho0aNmj9/vjDbggULzp8//9vf/vaFF15ITExMTU3lD8QZZs6cOXHixOHDhw8fPnzq1KnTp08XHs4wDN4WGAAoASIBAABAEdBKAgCAIkCSAACgCJAkAAAoAiQJAACKAEkCAIAiQJIAAKAIkCQAACji/wAkNw26uZH+rAAAAABJRU5ErkJggg==" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335742 285.0    8529671 455.6   8529671 455.6
Vcells 21594978 164.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.745365</td>
<td align="right">1.819536</td>
<td align="right">2.011218</td>
<td align="right">1.864065</td>
<td align="right">1.956688</td>
<td align="right">8.094959</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.848216</td>
<td align="right">1.932346</td>
<td align="right">2.128681</td>
<td align="right">1.971524</td>
<td align="right">2.031969</td>
<td align="right">8.231800</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.888923</td>
<td align="right">1.947911</td>
<td align="right">2.003362</td>
<td align="right">1.994406</td>
<td align="right">2.046650</td>
<td align="right">2.196784</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">2.496994</td>
<td align="right">2.586266</td>
<td align="right">2.824170</td>
<td align="right">2.650161</td>
<td align="right">2.760435</td>
<td align="right">8.884958</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.058928</td>
<td align="right">1.061999</td>
<td align="right">1.0584043</td>
<td align="right">1.057648</td>
<td align="right">1.038473</td>
<td align="right">1.0169045</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.082251</td>
<td align="right">1.070553</td>
<td align="right">0.9960942</td>
<td align="right">1.069923</td>
<td align="right">1.045976</td>
<td align="right">0.2713768</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.430643</td>
<td align="right">1.421387</td>
<td align="right">1.4042092</td>
<td align="right">1.421711</td>
<td align="right">1.410769</td>
<td align="right">1.0975915</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 1000000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335823 285.0    8529671 455.6   8529671 455.6
Vcells 21795032 166.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">3.062606</td>
<td align="right">3.205199</td>
<td align="right">3.579960</td>
<td align="right">3.296143</td>
<td align="right">3.539412</td>
<td align="right">9.760095</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">3.185006</td>
<td align="right">3.296816</td>
<td align="right">3.738387</td>
<td align="right">3.419195</td>
<td align="right">3.705976</td>
<td align="right">9.599141</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">3.240967</td>
<td align="right">3.365845</td>
<td align="right">3.784418</td>
<td align="right">3.511828</td>
<td align="right">3.694897</td>
<td align="right">9.764755</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">4.242442</td>
<td align="right">4.399191</td>
<td align="right">4.692116</td>
<td align="right">4.514841</td>
<td align="right">4.854763</td>
<td align="right">10.971203</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.039966</td>
<td align="right">1.028584</td>
<td align="right">1.044254</td>
<td align="right">1.037332</td>
<td align="right">1.047060</td>
<td align="right">0.983509</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.058238</td>
<td align="right">1.050121</td>
<td align="right">1.057112</td>
<td align="right">1.065436</td>
<td align="right">1.043929</td>
<td align="right">1.000477</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.385239</td>
<td align="right">1.372517</td>
<td align="right">1.310662</td>
<td align="right">1.369734</td>
<td align="right">1.371630</td>
<td align="right">1.124088</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 1000000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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9JB5JjG8E0js+WwhhHpfkt1uX7Fihc1mS0xMnDhxYiibFsOqVatOnDih1WoRQllZWWlpaUuXLlUoFPHx8c8++ywhTzlVV1dzvXI6nWSe0iVLlvztb3/DSZB5PpNwJufMmTNr1ix8x417Agnvos0e2CoJAABBhP9iBQAAwAKSBAAAQYAkAQBAECBJAAAQBEgSAAAEAZJECp9//nl6enptbW23bt0kVGcrYjtyewcAISLUu7cBb9x3330ZGRk+izkcjmvXrsXFxQVoBwDIBKIkUvj555+nT5/+zDPPVFRUTJkyBSG0ZMmS5OTktLS0efPmIYQOHDiQk5PTo0ePDz74wOVyTZ06tV27drfddtu0adNcLhdbEdtBCM2bNw/vRX7ttddw9QkTJsycOfOBBx7IyckxmUxhPVwA8EJ4ExEALPv373/wwQdramrS0tJcLldhYWHv3r1ra2uNRuO99967du3a/fv3R0dHnz171uVyHT16dMSIEVar1Wq1pqamnjx5kq2I7Wzfvj0jI8NkMplMpj59+vz3v//dv3+/Vqu9cuWKy+XKzs7esmVLeI8XADwCEzdCKSoqMhgMOTk5CKELFy6UlZV17ty5f//+OG9G9+7dP/300927dx88ePDSpUtms9m9+sSJE3GC8wkTJhQVFY0aNapfv36xsbEIoeTkZPcqAEACIEmEotPpJk2aNGPGDISQw+FwuVylpaX4YWCEUElJyT/+8Y8nnngiKytr79697tVdLhebfIOiKIfDgRASWIECAEKAtSTisNvtCKGhQ4cWFBTU1dXZbLbhw4d/9dVX3DLffvstTh2blJR04sQJm83GVsQMGjRo7dq1ZrO5sbFx7dq1OC8dAJAPSBJZxMTExMTEPP744+np6RMnTkxPT09JSenVq9e4ceO4xR555JHDhw/fddddzz///JQpU+bNm8dWxAVGjRo1ePDgHj169OjRY+TIkffddx+3Ok3TCgUEyACJQCYAAAAIAqIkAAAIAiQJAACCAEkCAIAgQJIAACAIkCQAAAgCJAkAAIIASQIAgCD+H+9xIguersuTAAAAAElFTkSuQmCC" alt=""/></p>

<h3>n = 10000000 vector</h3>

<h4>All elements</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335833 285.0    8529671 455.6   8529671 455.6
Vcells 21794600 166.3   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, refine = TRUE), mean2_no_refine = mean2(x, refine = FALSE), 
+     mean = mean(x), mean.default = mean.default(x), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000000+all data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">14.49868</td>
<td align="right">14.62616</td>
<td align="right">14.80666</td>
<td align="right">14.73758</td>
<td align="right">14.85474</td>
<td align="right">17.19605</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">18.12252</td>
<td align="right">18.34603</td>
<td align="right">18.68131</td>
<td align="right">18.48286</td>
<td align="right">18.88111</td>
<td align="right">21.76762</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">18.14405</td>
<td align="right">18.28320</td>
<td align="right">18.64565</td>
<td align="right">18.50771</td>
<td align="right">18.82398</td>
<td align="right">24.29008</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">26.54792</td>
<td align="right">26.91221</td>
<td align="right">27.22419</td>
<td align="right">27.10253</td>
<td align="right">27.43443</td>
<td align="right">28.98659</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean</td>
<td align="right">1.249943</td>
<td align="right">1.254330</td>
<td align="right">1.261683</td>
<td align="right">1.254131</td>
<td align="right">1.271049</td>
<td align="right">1.265850</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default</td>
<td align="right">1.251428</td>
<td align="right">1.250034</td>
<td align="right">1.259275</td>
<td align="right">1.255817</td>
<td align="right">1.267203</td>
<td align="right">1.412538</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.831058</td>
<td align="right">1.840005</td>
<td align="right">1.838645</td>
<td align="right">1.839008</td>
<td align="right">1.846846</td>
<td align="right">1.685654</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean() and mean.default() on n = 10000000+all data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 20% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; subset
[1] 0.2
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5335982 285.0    8529671 455.6   8529671 455.6
Vcells 22397007 170.9   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000000+0.2 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">11.81605</td>
<td align="right">11.93566</td>
<td align="right">12.69844</td>
<td align="right">12.05150</td>
<td align="right">12.41685</td>
<td align="right">20.45035</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">13.33752</td>
<td align="right">13.62064</td>
<td align="right">14.50310</td>
<td align="right">13.75737</td>
<td align="right">14.36470</td>
<td align="right">21.41216</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">13.38795</td>
<td align="right">13.67508</td>
<td align="right">14.34312</td>
<td align="right">13.84662</td>
<td align="right">14.20438</td>
<td align="right">21.41130</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">18.04404</td>
<td align="right">18.23449</td>
<td align="right">19.43780</td>
<td align="right">18.39911</td>
<td align="right">18.87307</td>
<td align="right">26.55891</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.128764</td>
<td align="right">1.141172</td>
<td align="right">1.142117</td>
<td align="right">1.141548</td>
<td align="right">1.156871</td>
<td align="right">1.047031</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.133032</td>
<td align="right">1.145733</td>
<td align="right">1.129518</td>
<td align="right">1.148954</td>
<td align="right">1.143960</td>
<td align="right">1.046989</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.527080</td>
<td align="right">1.527732</td>
<td align="right">1.530723</td>
<td align="right">1.526707</td>
<td align="right">1.519956</td>
<td align="right">1.298702</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000000+0.2 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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" alt=""/></p>

<h4>A 40% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; subset
[1] 0.4
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5336066 285.0    8529671 455.6   8529671 455.6
Vcells 23397068 178.6   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000000+0.4 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">18.72819</td>
<td align="right">19.47158</td>
<td align="right">21.36158</td>
<td align="right">19.88508</td>
<td align="right">20.33191</td>
<td align="right">27.27118</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">21.62594</td>
<td align="right">21.92370</td>
<td align="right">23.54343</td>
<td align="right">22.16877</td>
<td align="right">22.54664</td>
<td align="right">29.87771</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">21.50124</td>
<td align="right">21.95887</td>
<td align="right">23.79628</td>
<td align="right">22.28273</td>
<td align="right">23.29906</td>
<td align="right">38.36955</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">26.87450</td>
<td align="right">27.83740</td>
<td align="right">33.39097</td>
<td align="right">28.42617</td>
<td align="right">29.09137</td>
<td align="right">408.78697</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.154726</td>
<td align="right">1.125933</td>
<td align="right">1.102139</td>
<td align="right">1.114845</td>
<td align="right">1.108929</td>
<td align="right">1.095578</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.148068</td>
<td align="right">1.127740</td>
<td align="right">1.113976</td>
<td align="right">1.120576</td>
<td align="right">1.145935</td>
<td align="right">1.406963</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.434976</td>
<td align="right">1.429643</td>
<td align="right">1.563132</td>
<td align="right">1.429523</td>
<td align="right">1.430823</td>
<td align="right">14.989705</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000000+0.4 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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IKLh2JRRs9wqAPgEu1374XbNjz8ghFr6PWh/coLLHFu3bs3PzzebzZcuXbJYLGVlZePHj09OTp4yZYrNZuvateu777579erVGTNmIISMRuP777+/ZcuW06dPBwUFlZSU7NixY8CAATiuYqdOnciG6vIFricBcMGRvEHhcbLxxCluu/7hB70sCKPT6Zqbm4mYQghpNBqdTtfY2EjKICLtIcuyWq2WoIcMw7Asa7fbSRlkWZZl2aamJlIGGYbRaDQEA4potVqNRqPsobtdHvEkAM3FC9pd73Mfm/9/hjNMOLFAMAlg69atV69enTNnztChQ997772QkJAZM2Y88MADsbGxqampb7zxRkxMTK9evZqbmwcNGjRp0qQVK1YcPnz4woULq1atWrhw4SOPPDJixAiE0IEDB1atWnXgwIEOHTq4dRR+RvqJW25u7ieffLJ27drx48d/8cUX69evnzp1qjfF2Gw2NWePN1N1+Hg560eATqfTarUEDSLSHuJ5SQQNqpyXpB48L4mghz6al6TgIcuyBEZhBHd3dTd7HJbVZDL17NnTZrPZ7faLFy+ePn36iy++QAjdf//90dHRixYtev/997/77ju8VG7//v0RQiEhIfi6W758+fnz5/fv30+5HiG5J27Tp08fO3ZsQUGBzWa7cOHCsmXL/OCK3zpuABAoWnre3dLrntbthx52hoZ5ZicuLu7xxx9/9913R48eHRcXt2bNmmeffXbjxo2dO3fG/R7+w6h//OMfVqv1/fffx0EVKUe6ldTY2DhixIj58+c/9dRTXbp0IdjFEHOt372kZm/7iO/fxDFO4fEc4DUsa5/4LHOpHOm0zqjOntmIjo5+6aWXJk+evH///piYmAkTJowbNy47O3vTpk0Wi2XHjh1du3bFKQ0GQ4cOHfbv33/s2LGkpCSE0IwZMyZNmkTscHyA9FjS2LFjw8PDjxw5cvr06TVr1vzrX/8qKCjwphgfvVAiFzoVd4sEAbw8w2XoWs/wRcfN/y+UqAdeKFFPO3+hRLrjtn379sTExH379oWFhbEsS+eDQ+WnZvzJR35xh1I8DqgLAAFBWpIMBkOPHj2Kioq2b99+9913nzhxws9uuSSy6IJclGeycC0j6LUBgB+QHksaP3680Wjs3r07/qjRaHDETkrggkcPSj4mDkiNITj56J6MG2azmehCAAAASCMtSXq9fs+ePX52xTMUGi9UtWvkhr38A8FCPV7jBQDUIC1JcXFxBw8eTE5OZtnWcHvcBg3goMzInXkD3ihC2Okit8qiCg+OF9fVfXMlRt99t3ocAGBkFyd5+umnIyJudXx++eUX3zlx8nUNQhJPx8Q6wimRS4Hgv1LrsgfH9QTFZrmvuMj0aiDeJvJFI0vyiLiCzIVnEEIVfXvjPa0jdx2Pzrc+4mW5cu0s7seV+zkEj1BDvj4rmUyMuzcwIIBIS1JBQUFVVZXRaPSzN8rgE6sgd0gkOsY/vbgzGN087c4uD0ZSL/oPSj6GihA2gvcIEgiuUr5lsScKdiRSIllZlJxnwF1+rUctn125XLnrECeQ01nu0QFfj/DBDko+Ot/6SFpSxW1SJSMf/IM6tUSPbzxI6q2hyKIL2P7FXISSb90GuARcVcv9KJJF8z1066YCBArpJ269evUKbE8tsuiC5JmHz0v8XzJNZNEFwRmp0EQalHxM/K1c0cpnM86FM3I2+c8EByUfw38KRnBe/iG4vPzkPOF/RDenAsgdGn+WgNhDvh7hDU6PBOVyG+Jvi1aa3T0Q9XATHXDRyvUsWQORRRdwqxAIONKtpGvXrnXr1m3QoEGcMO3du9d3Tgxc1HLydY1kQ6P13CoSKgJ3Yl3MieBuqlwW7vpR1qPW23JORAGKEJzEgjuqPSnRarWqaf+LSyzIHaJ+vgLfefFXCCFU1KoOcu0yrrhblZDLy855mHzhto8yq0cJTEm7xANXpngn/+OYU62zcy+earXAValcRck5oJxLbCQSHUO8H1fQ2j2Ti2LTIGhSgJGWpNmzZ8+ePduffnA9FP5QguBUq+jbG19dAvi9J5yXO9HlJEl85ePJBIJbKD5x8VItfBEUS5jAE8FHLBNcx4R/5UcWXUDJF/iypawCYrXlLA9Kdt3Fu5nyVm+LL1gVqDe6vdpxHQo1Lkf68MW1jY+U63GLHL7VpVLwmY9L9eFXI79NHZtWyT95oBNHLUJJamhoCA4OHjJE4nrAX/nID8EosgcdFozywzj+Tkl1U/8sT9BUqUC98exNl1KCbl26wVx2ue4SR2xaJR4FU7as7LCgR1OQO0TQgFJZ+WJvcXVx1iTbcQqVI2fWS5RLFLev/UaL06Fh/Dcw4odVJaurq8eOHZudnf3ss8/+8MMP3pgSjiWlp6cvWrTo6tWr/J1Xr15dtGhRWlqaNyW5BX6mJtaFWxJw86vYtEruj/uKW3eJf1XI9XTE2T27f+KM7s72Vl8WTulWM0HSQ5cSJnBJQTcl0+P2Jv/w5RqPKuHXKse1fvfWDOgnOE+4j+LTA2/zU8amVbp8OuEL8n9c8mZux1VfdDh36QP/lEh8VUnxu3vnzp0bPnx4QkLC8ePHvTQu8drtsWPHli1bVlJSgicBVFZW9uzZ87XXXpNsOqlEzWu3Lh8SqYf4eklms7lwIYtu9g2VR3PkkOvXyOGyQgQG+Z1ft/wRPzVz+dqtu4/V8Wu3p5boOVdVZpQsFyF0rd+9bfG120s3CrcVJnMfX360JFjXSZBGvISbl6tKnjlzplu3bl27dl23bl1ERMTkyZP59jdt2sRPXF1dPW3aNIZhOnbsuHnzZsFjrk2bNh06dMhkMq1Zs4bvwB//+MdTp05t27btlVdemTRpEt9gQ0MDP6XL52YSY0lDhgz55z//iRAqKytDCOElMv0A5X372xpofT25osQP+JXTu6wQzsLNlQDcq0N+r1N9LpW+KZfoMZSfJC6pabzE/1jXeFUsSWJ69eqFV5VcsWIFXlXy/PnzkydPxqtK7t69GyfAq0qWlpYihIxGI15VMj8/n1tVcs+ePQcOHBDb5yf+8ssvf/e7302ePDk9Pf3TTz9NSUkRJI6Ojl6/fv2yZcv4DkydOrVbt2733HOP2OCJEyf4KQWCKEYpjpvfxKi9EZtWaTKZiK5SCbQNYjremmjao9PwTqY4Nbl8vaokP/HFixenTJmCEHr44YcvXrwoTjxw4ECEkMABZYMKKcVAaEkA8B/BuvA/PvKfc5e26Vjj/V2naBgPL8C4uLjo6Ojnn3/+o48+4laVHD58+MiRIxVWlZSzxk/8m9/85uuvv46NjS0sLBw6dKg4sV6vFzvw66+/yhkUpHR5aJ5LUn19/YoVK+x2u8lkmjNnjkajWbduXW1tbUxMjMcLdQteoXLrxc6c/EiCL4K6G07aXc+XfyacGa+mLPErZio9VMhI6jVaInb41U78/V6Pa48sHQzdh1j+7I0FH60qiROnpaU9//zzf//730NCQp588kk5HwQOCCSJb1CQ0uXRyUYo2b59e2Fh4Ztvvrl///6nn35anODTTz+12WwTJkzYuXNnZGSkwWAoKyvDARJ+//vfCzp9KleVlHur0+WpIzh9TSYTvuY9O+ck3VAw5ev0CrlwRperSrr1umxaUgXDMGuPRKh0TFCEZHo1q0q69et7sKqkcrXDqpKUIN1Kev311wsLC0tKShiGeeutt06cOLFy5UpBmri4uPDwcISQ2WzW6XTFxcV9+vRBCFksluLiYixJeXl5586dQwg988wzckuRMwzDMIzJZFLwkjuZ5o2uVz4ebIdrg+TkR7rMwiVWTol9mDe6fvlnRvxfOZfcEYnbR3z7AoNyiV1m9AaB52rqUCE7BgdNUv6V+fBrWDIXDprEsiz+OdS7J4A7Ohw0Sb2HbZSrV69u27aNv+ell16Sm6nkVmJSSEvSrl27vvnmm/Hjx7Ms+9lnn8XFxYklqVevXgihwsLCr776asGCBUVFRXjSQHh4uMKtRhn+iSiJ4PxTc8UKEnOa4pkbeL/gW3F6sX23XJVML9BBtwxy/rjM5aWuqbkByKURHJTkL8X9iPyPgp1qnOQX5KWotS2io6NfffVVXyQmhbQkNTU1cVFJbDabnC5++OGHZWVl8+fPNxqNRqOxqqrKYrFUVVVFRUXhBMOGDRs2bBhCyGq1yk0UYllWr9dzp4iglS5ubMvZwRnr6uoEWXB6bid3Eou7A55NZRKXmJZU4ZaptKQKvgVJ33BB3CCLpLKo6avyv5UcW8GeMwwzd2TtG/8ySx4Ov4+mXNtccbjjplD5gvTYTlpSBf+g+D/irGHX+DGZEe/nkxtV5BsXeF5XV+enOG6AK6RXApgxY8bIkSN//vnnrKyspKSkP/3pT+I0BQUFtbW1M2fOxG3duLi4kpIShFBpaWlsbCwp/9KSKtSPZeA/D4pA8ldyWlJFxmPXF6bIxn0lsqqZuHTxHuWCMsc2EfSH80HZDZdl8RMs+TTIXQe47C4L4jQLp3TLMTXpAb8h3UrKyMh48MEH8/LyHA7H3/72twEDBojTnD179vvvv587dy5CaMyYMYMGDdqwYUNWVlZUVBS3aLevEd+lPbYj91VOfmTGY9fFadwtV8FVfFcXJxA0DRQs6/X6xQf0bvnjMW7VOb/SFoxp9ECVJIvmzMJiu3ce0k/cGhsbc3NzrTdXwNdqtV6GA/A+jpvkAx25a2Pe6HpxC9yth8p8yxmPXTebzdbb4wF49tTMZUZxp4OfXvDknvuIn7hxquT9MzKVcdzUP1b3OI6b3GwMuSduKn9lsedzR9bCEzcakJakJ554QhChJDs725tiiISWlBwjkLwqJN9xIytJ7hqUzKVy9pPLggIeWtKlhxBaUj3tXJLaUoQS5TFLP5RF0DIWzTum33HHHAgQcNpkhBLPaLuXDW5PtV3/AUA9VEQoaaP4UyNAjwBS5OTk7N+//7333rt+/fr58+cvX778u9/9jionMogAAA8/SURBVJu4E3DaUoQSALgD+HdN7d9+rQrSMLOiI/saAzPRac6cOTExMdnZ2VlZWVardf369UuWLAmIJ2KkJSngEUoA4I6kpLFp3A8/4e09165f7d83WCM9N5DD+yXcgoIk5l7U19fX19fr9fro6Oji4mLiR+ox0tWBI5SkpKSMv4mf3QKAO5JTdbe9ufKjrVFNrl69eq1du/bKlSsvvvji6tWrd+3a9dZbb02ePPnQoUO9evXavXv3pUuX5syZs3fvXofDwS3hlp2dfd999+Xn52MjggnP58+ft1gseDskJKSykpZo9bREKAGA9oCgp2YxqJo76uUSbvn5+Tt27Dhy5Mif/vSnUaNGYZv//e9/77rrLrzdpUuXn3/+mT92HECEkpSQkLBnz561a9cK9nuz8DYAAJhehqCtlphtlVadhkmLjjS66rXJ4dYSbklJSfi1sI0bNyKEcnJyEEI9evQ4dOgQTnD58uWePXt6eWikEEpSRkZGp06d0tPTA+INANzxjO8YNr6j9EI9KnF3CTdJI/Hx8VihEEI3btyIjKTlLT+hJOEXR3bs2PHWW29xO6dOnQqtJAAICHglbITQwYMHEUImk+ntt99GCOGYHZhHH3300UcfFefFY94YToAwRqPRYDA0NzdbrVY168/6DaEk4RgDpaWlhw8fxnvsdrvc6msAALRFsrOz77333hdeeGHv3r1Xrlx5+eWXA+3RLYTvuFVVVSGEXnrppb/85S/czrCwMC/nBBB5x009vojjJn7HzRvIehjwd9xcAu+4qQfecbsNvHbt7t27A+EMAADtHQ8H/AEAAHwBSBIAABQBkgQAAEWAJAEAQBF+CsBtMBjkvlITx81ddDodQYMajYZyD92NkuYShmFYltV4OrdYjC88xHHcSBlsJ3Hc6MdPkmSz2RQmAej1eoJPxJEPJgFotVqaPcSTAAga9NEkAIIe+mgSAARNCjjQcQOA9sXWrVvFs3yqq6uHDh363XffKWT861//+tFHH0l+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" alt=""/></p>

<h4>A 80% subset</h4>

<pre><code class="r">&gt; x &lt;- data[[&quot;n = 10000000&quot;]]
&gt; subset
[1] 0.8
&gt; idxs &lt;- sort(sample(length(x), size = subset * length(x), replace = FALSE))
&gt; gc()
           used  (Mb) gc trigger  (Mb)  max used  (Mb)
Ncells  5336147 285.0    8529671 455.6   8529671 455.6
Vcells 25397122 193.8   46703304 356.4 101881463 777.3
&gt; stats &lt;- microbenchmark(mean2 = mean2(x, idxs = idxs, refine = TRUE), mean2_no_refine = mean2(x, 
+     idxs = idxs, refine = FALSE), `mean+[()` = mean2_R_v1(x, idxs = idxs), `mean.default+[()` = mean2_R_v2(x, 
+     idxs = idxs), unit = &quot;ms&quot;)
</code></pre>

<p><em>Table: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000000+0.8 data. The top panel shows times in milliseconds and the bottom panel shows relative times.</em></p>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">45.08694</td>
<td align="right">48.03676</td>
<td align="right">50.27481</td>
<td align="right">49.96531</td>
<td align="right">52.91864</td>
<td align="right">54.96800</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">46.00506</td>
<td align="right">47.96573</td>
<td align="right">50.41644</td>
<td align="right">50.01278</td>
<td align="right">52.99518</td>
<td align="right">57.83929</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">40.67148</td>
<td align="right">45.62297</td>
<td align="right">49.37627</td>
<td align="right">51.05324</td>
<td align="right">51.85897</td>
<td align="right">56.11946</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">57.04986</td>
<td align="right">58.86777</td>
<td align="right">65.67113</td>
<td align="right">63.45499</td>
<td align="right">64.26397</td>
<td align="right">428.41058</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th align="left"></th>
<th align="left">expr</th>
<th align="right">min</th>
<th align="right">lq</th>
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">uq</th>
<th align="right">max</th>
</tr>
</thead><tbody>
<tr>
<td align="left">4</td>
<td align="left">mean.default+[()</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
<td align="right">1.0000000</td>
<td align="right">1.000000</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">mean+[()</td>
<td align="right">1.020363</td>
<td align="right">0.9985213</td>
<td align="right">1.0028172</td>
<td align="right">1.000950</td>
<td align="right">1.0014463</td>
<td align="right">1.052236</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">mean2_no_refine</td>
<td align="right">0.902068</td>
<td align="right">0.9497511</td>
<td align="right">0.9821276</td>
<td align="right">1.021774</td>
<td align="right">0.9799754</td>
<td align="right">1.020948</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">mean2</td>
<td align="right">1.265330</td>
<td align="right">1.2254735</td>
<td align="right">1.3062433</td>
<td align="right">1.269981</td>
<td align="right">1.2143918</td>
<td align="right">7.793818</td>
</tr>
</tbody></table>

<p><em>Figure: Benchmarking of mean2(), mean2_no_refine(), mean+[()() and mean.default+[()() on double+n = 10000000+0.8 data.  Outliers are displayed as crosses.  Times are in milliseconds.</em></p>

<p><img src="data:image/png;base64,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4SHLsiqGY9ZoNCzLqvstI07goTeUWCwWhdXbOp1OxUU64IZ1SRqNhmYPybokFQ26aV2Sih66aV2Sgoccx7l7laBnMJlMe/bsef/9969fv3727NmrV68+8sgjgYGB3varEbreUIIgdzzflVf8448SH5Z5oWNAmK93NC4lJaVbt26pqalr1ih6dNIAAA9lSURBVKwxm80bNmx49dVXveKJFHrfUIIgdx6XamoTzv9KjtOvXS/sH2ZoanTsegg3Hx8fqdmqqqqqqiqdTtexY8cLFy6ofqVOI18d5A0l8fHxE27gYbcQ5I4kt7JK+OcvlhpHcvXs2XP9+vW///77rFmz1q5du3Pnzo0bN06dOnX//v09e/bctWtXQUFBSkrK7t276+vr+RBuqamp9913X1ZW43syRAuez549GxwcTI5btWpVXOyWN4Y5AXVvKEGQOxjRSC1YL9N/keJiCLesrKzt27cfOnTo2Weffeihh4jN//73v3fddRc5DgoK+u2334Rzx15ELEmRkZHp6enr168XnfdW4G0EuZPoqff5ILjbtmKzlmWSOwb4OvtMs1kh3EikpGefffbtt98GAJPJBADdu3ffv38/SXD16tUePXq4eGlqIZakBQsWtG/ffu7cuV7xBkHueCa0azuhnZPB2wgkhNvUqVP37NnTrVu3SZMmJSQkpKambtmyhYRw69y5M0lJgqjJGunduzdRKAAoLS0NCKDl1ZtiSSKrtLdv375x40b+5IwZM7CXhCBegUTCBoB9+/YBgNFo3LRpEwCQd3YQhg0bNmzYMGleMudN4AWI4Ovrq9fr6+rqzGazI8EePYZYksg7BvLz87/99ltyxmq1tm3rkqgjCEIVqampffr0efLJJ3fv3v37778/99xz3vboJuIQbiUlJQAwe/bsv//97/zJtm3burgmwIm33boChnBzEQzhJlsihnDzAOJekr+/PwDg1n8EQbwCvqEEQRCKQElCEIQiUJIQBKEIlCQEQSgCJQlBEIpASUIQhCJQkhCkZfHBBx9IV/mUlZUNHTr0p59+Usi4efPmzz77TPYjk8kUGxubn59/+vTpTz75xGQy/fHHH865h5KEIB6lvpq5dlJ7PU/bUOdtVwScOXPmwQcf7NOnT5MpMzIyVq9eLT1PwsJt2bLl4YcfTkpK2rBhg3Oe2A10iyCI6tTXMGc3+JHj0p81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" alt=""/></p>

<h2>Appendix</h2>

<h3>Session information</h3>

<pre><code class="r">R version 4.1.1 Patched (2021-08-10 r80727)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.04.5 LTS

Matrix products: default
BLAS:   /home/hb/software/R-devel/R-4-1-branch/lib/R/lib/libRblas.so
LAPACK: /home/hb/software/R-devel/R-4-1-branch/lib/R/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] microbenchmark_1.4-7   matrixStats_0.60.1     ggplot2_3.3.5         
[4] knitr_1.33             R.devices_2.17.0       R.utils_2.10.1        
[7] R.oo_1.24.0            R.methodsS3_1.8.1-9001 history_0.0.1-9000    

loaded via a namespace (and not attached):
 [1] Biobase_2.52.0          httr_1.4.2              splines_4.1.1          
 [4] bit64_4.0.5             network_1.17.1          assertthat_0.2.1       
 [7] highr_0.9               stats4_4.1.1            blob_1.2.2             
[10] GenomeInfoDbData_1.2.6  robustbase_0.93-8       pillar_1.6.2           
[13] RSQLite_2.2.8           lattice_0.20-44         glue_1.4.2             
[16] digest_0.6.27           XVector_0.32.0          colorspace_2.0-2       
[19] Matrix_1.3-4            XML_3.99-0.7            pkgconfig_2.0.3        
[22] zlibbioc_1.38.0         genefilter_1.74.0       purrr_0.3.4            
[25] ergm_4.1.2              xtable_1.8-4            scales_1.1.1           
[28] tibble_3.1.4            annotate_1.70.0         KEGGREST_1.32.0        
[31] farver_2.1.0            generics_0.1.0          IRanges_2.26.0         
[34] ellipsis_0.3.2          cachem_1.0.6            withr_2.4.2            
[37] BiocGenerics_0.38.0     mime_0.11               survival_3.2-13        
[40] magrittr_2.0.1          crayon_1.4.1            statnet.common_4.5.0   
[43] memoise_2.0.0           laeken_0.5.1            fansi_0.5.0            
[46] R.cache_0.15.0          MASS_7.3-54             R.rsp_0.44.0           
[49] progressr_0.8.0         tools_4.1.1             lifecycle_1.0.0        
[52] S4Vectors_0.30.0        trust_0.1-8             munsell_0.5.0          
[55] tabby_0.0.1-9001        AnnotationDbi_1.54.1    Biostrings_2.60.2      
[58] compiler_4.1.1          GenomeInfoDb_1.28.1     rlang_0.4.11           
[61] grid_4.1.1              RCurl_1.98-1.4          cwhmisc_6.6            
[64] rappdirs_0.3.3          startup_0.15.0          labeling_0.4.2         
[67] bitops_1.0-7            base64enc_0.1-3         boot_1.3-28            
[70] gtable_0.3.0            DBI_1.1.1               markdown_1.1           
[73] R6_2.5.1                lpSolveAPI_5.5.2.0-17.7 rle_0.9.2              
[76] dplyr_1.0.7             fastmap_1.1.0           bit_4.0.4              
[79] utf8_1.2.2              parallel_4.1.1          Rcpp_1.0.7             
[82] vctrs_0.3.8             png_0.1-7               DEoptimR_1.0-9         
[85] tidyselect_1.1.1        xfun_0.25               coda_0.19-4            
</code></pre>

<p>Total processing time was 2.22 mins.</p>

<h3>Reproducibility</h3>

<p>To reproduce this report, do:</p>

<pre><code class="r">html &lt;- matrixStats:::benchmark(&#39;mean2&#39;)
</code></pre>

<hr/>

<p>Copyright Henrik Bengtsson. Last updated on 2021-08-25 19:25:30 (+0200 UTC). Powered by <a href="https://cran.r-project.org/package=R.rsp">RSP</a>.</p>

<script>
 var link = document.createElement('link');
 link.rel = 'icon';
 link.href = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA21BMVEUAAAAAAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8AAP8BAf4CAv0DA/wdHeIeHuEfH+AgIN8hId4lJdomJtknJ9g+PsE/P8BAQL9yco10dIt1dYp3d4h4eIeVlWqWlmmXl2iYmGeZmWabm2Tn5xjo6Bfp6Rb39wj4+Af//wA2M9hbAAAASXRSTlMAAQIJCgsMJSYnKD4/QGRlZmhpamtsbautrrCxuru8y8zN5ebn6Pn6+///////////////////////////////////////////LsUNcQAAAS9JREFUOI29k21XgkAQhVcFytdSMqMETU26UVqGmpaiFbL//xc1cAhhwVNf6n5i5z67M2dmYOyfJZUqlVLhkKucG7cgmUZTybDz6g0iDeq51PUr37Ds2cy2/C9NeES5puDjxuUk1xnToZsg8pfA3avHQ3lLIi7iWRrkv/OYtkScxBIMgDee0ALoyxHQBJ68JLCjOtQIMIANF7QG9G9fNnHvisCHBVMKgSJgiz7nE+AoBKrAPA3MgepvgR9TSCasrCKH0eB1wBGBFdCO+nAGjMVGPcQb5bd6mQRegN6+1axOs9nGfYcCtfi4NQosdtH7dB+txFIpXQqN1p9B/asRHToyS0jRgpV7nk4nwcq1BJ+x3Gl/v7S9Wmpp/aGquum7w3ZDyrADFYrl8vHBH+ev9AUASW1dmU4h4wAAAABJRU5ErkJggg=="
 document.getElementsByTagName('head')[0].appendChild(link);
</script>

</body>

</html>
